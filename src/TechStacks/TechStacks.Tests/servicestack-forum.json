[{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I'm tring to interface ServiceStack with&nbsp;Standard Change Data Capture (SCDC) &nbsp;and I've read on stackoverflow about a similar iussue&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/28220041/access-servicestack-session-from-connectionfilter/28222185#28222185\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/28220041/access-servicestack-session-from-connectionfilter/28222185#28222185</a> ... I was wondering if I can just apply this on delete/update/insert and avoid of calling the contextualization on select﻿","comments":[],"date":"Feb 24, 2015, 10:57:07 AM","shortDate":"Yesterday 10:57 AM"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","textHtml":"Hi,<br><br>I'm having a problem when trying to access HttpRequest inside a razor view. I'm doing the following:<br>var httpRequest = Request.OriginalRequest as System.Web.HttpRequest;<br><br>Am I missing something?<br><br>Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2015, 9:08:30 AM","shortDate":"Yesterday 9:08 AM","textHtml":"it should be HttpRequestBase﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Feb 24, 2015, 9:24:52 AM","shortDate":"Yesterday 9:24 AM","textHtml":"Thanks, it worked.<br><br>Sorry for the trouble... I thought I had tested that but it seems that i've missed it.﻿"}],"date":"Feb 24, 2015, 5:38:02 AM","shortDate":"Yesterday 5:38 AM"},{"userId":"115522113981037654785","userName":"Ian Kaney","textHtml":"Currently working on a database abstraction layer using ServiceStack for REST calls between the client and server. When I'm testing with large file uploads to the database (circa 60MB) I'm getting out of memory exceptions when the client is generating the data for the 'post' request.<br><br>I've tried changing over to MsgPack format but this broke everything for some strange reason even though it's meant to be interchangeable.<br><br>Is it possible what I'm trying, or should I give up and try a different approach?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 12:12:33 PM","shortDate":"Feb 23, 2015","textHtml":"ServiceStack doesn't have any built-in limits itself, but it's subject to the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Request Limits which you can increase in your Web.config with:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/3853785/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/3853785/85785</a>﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 23, 2015, 12:14:36 PM","shortDate":"Feb 23, 2015","textHtml":"I'm using JsonServiceClient and I'm getting out of memory exceptions when it's performing the Post with the binary data in there. From the stack trace it seems to be using convert.base64 routines which do seem to fall over with large files?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 12:24:31 PM","shortDate":"Feb 23, 2015","textHtml":"Oh you're trying to send a base64-encoded binary file with JSON? that's not going to be very efficient. You should either use the PostFile API on ServiceClient:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/FileUploadTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/FileUploadTests.cs</a> or PostFileToUrl() or PostBytesToUrl() in HTTP Utils:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Http-Utils#uploading-files\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Http-Utils#uploading-files</a>﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 23, 2015, 12:30:17 PM","shortDate":"Feb 23, 2015","textHtml":"Brilliant, I'll give that a go and see if it helps when uploading the file.<br><br>Out of interest, what would be the best way for me to get the file data from the database and send it back to the client without hitting out of memory exceptions? Would this be where one of the binary protocols would assist?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 12:37:52 PM","shortDate":"Feb 23, 2015","textHtml":"There are a few options mentioned in this answer: <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/28540206/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/28540206/85785</a> The test ImageServices shows different ways to return an image at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/Test/Test.ServiceInterface/ImageService.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/Test/Test.ServiceInterface/ImageService.cs</a><br>The streaming options that will allow you to stream a file without holding the entire contents in memory include: &nbsp;returning a Stream, returning a decorated Stream in HttpResult(stream), returning a custom IStreamWriter or writing directly to the Response.OutputStream.﻿"}],"date":"Feb 23, 2015, 12:04:37 PM","shortDate":"Feb 23, 2015"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"How do I reference /js/ss-utils.js ? &nbsp;Is there a particular SS feature I need to register? Seems like a silly question but I can't see how EmailContacts makes it available to the browser...﻿","comments":[{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Feb 23, 2015, 1:15:33 AM","shortDate":"Feb 23, 2015","textHtml":"All our services are under /api/ however adding or substituting that path doesn't work either.&nbsp;﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Feb 23, 2015, 1:31:11 AM","shortDate":"Feb 23, 2015","textHtml":"Ok I did have to register the SSE feature first.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 3:08:39 AM","shortDate":"Feb 23, 2015","textHtml":"You shouldn't have to do anything as it's automatically available (embedded in ServiceStack.dll) at /js/ss-utils.js from ServiceStack's base url.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Feb 23, 2015, 9:39:10 AM","shortDate":"Feb 23, 2015","textHtml":"Aaron - it should be built-in and always available. &nbsp;Works like a charm﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Feb 23, 2015, 4:59:21 PM","shortDate":"Feb 23, 2015","textHtml":"That's odd. Doesn't seem to available on our CI build, but my branch with SSE added is working.﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Feb 24, 2015, 9:07:12 AM","shortDate":"Yesterday 9:07 AM","textHtml":"Do you have any url rewrites playing with the url? For instance, we have one that adds a trailing slash which would cause 404's for the embedded files.﻿"}],"date":"Feb 23, 2015, 1:14:34 AM","shortDate":"Feb 23, 2015"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"[solved] &nbsp;I am trying to use RedisAuthRepository but am not able to authenticate. &nbsp;I enabled the /register and in Redis the IUserAuths and hash maps are being created.<br><br>When I post to /auth/credentials from my login page, the CustomCredentialsAuthProvider is invoked and I see the u/p passed ok, but&nbsp;base.TryAuthenticate(authService, userName, password) is always false.<br><br>In the console I can see calls to Redis seem to work - it finds the userid from the hash, then gets the userauth, so it must be failing on password check. &nbsp;But I'm a bit stumped, I posted to /register with UserName=foo&amp;Password=bar, and right after try to authenticate.<br><br>This should be straight forward, feels like I'm missing something hiding in plain sight. &nbsp;Thoughts?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2015, 7:16:09 PM","shortDate":"Feb 21, 2015","textHtml":"Just tried switching over to use RedisAuth in AuthWeb tests project and it's still works. Wont be able to tell what's wrong from that description alone. Maybe try creating a fork of one of the Live demos that uses CredentialsAuth and switch it over to use RedisAuth and see it it works? MVC is pretty small and just does Auth:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/LiveDemos#mvc\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/LiveDemos#mvc</a><br><br>If it's still not working than send me a link to your fork and I'll try and repro locally.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Feb 21, 2015, 7:36:04 PM","shortDate":"Feb 21, 2015","textHtml":"ok. Digging deeper it looks like it is due to the keys of the IUserAuth objects being saved lowercase in redis (urn:iuserauth:1). &nbsp;That means it breaks the Redis Get. &nbsp;Not sure why that's happening. &nbsp;If in the TryAuthenticate I manually do a Redis.GetEntry(\"urn:iuserauth:{id}\").FromJson&lt;UserAuth&gt;() and run the VerifyHashString ... it succeeds.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Feb 21, 2015, 7:52:01 PM","shortDate":"Feb 21, 2015","textHtml":"found it. &nbsp;manually changing the case of the urn:iuserauth doesn't fix it, the Redis.GetById&lt;IUserAuth&gt; still returns null.<br><br>I had this in the AppHost (taken from an OrmLite-based project) for reasons I don't remember:<br>JsConfig&lt;MyAuthSession&gt;.IncludeTypeInfo = true;<br><br>Commenting this out seems to do the trick. Forgot that JsConfig settings affect Redis in/out. &nbsp;Is there a way to have service facing JsConfig different than Redis-layer JsConfig?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2015, 9:15:51 PM\n(edited Feb 21, 2015, 9:16:22 PM)","shortDate":"Feb 21, 2015","textHtml":"There's only 1 global Json configuration which applies to the entire app domain. The Json Serializer also supports scoped configuration with using(JsConfig.With(...)) {} but that doesn't allow per-type configuration. But it sounds like here you want the same Custom UserAuthSession type to have 2 different serialization behaviors which is going to cause conflict since they both use the same JSON serializer config for serialization. If you want to maintain different behavior I'd recommend mapping it to another DTO which lets you control what properties you want serialized independently from the Custom UserSession.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Feb 21, 2015, 9:48:41 PM","shortDate":"Feb 21, 2015","textHtml":"No worries - I'll go with this. &nbsp;<br>I think someone should make a cover of Blue Oyster Cult's Don't Fear the Reaper ... \"Don't Fear the Defaults\" &nbsp; &nbsp;:)﻿"}],"date":"Feb 21, 2015, 4:55:40 PM\n(edited Feb 21, 2015, 7:52:23 PM)","shortDate":"Feb 21, 2015"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hi, I created a empty web project with service stack and the SS.Razor. &nbsp;When debugging locally, if I navigate to a service that has a view, I get the rendered view. &nbsp;But when I push this to our test server which is running IIS7 and publish this to a Site&gt;Application and navigate to the same URL I don't get the rendered view but rather the default SS page for the service. &nbsp;I am not getting any errors, so what should I look at to troubleshoot? &nbsp;Thanks, Zoran﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2015, 12:52:03 PM","shortDate":"Feb 20, 2015","textHtml":"Have you checked if there's any StartupErrors in &nbsp;?debug=requestinfo&nbsp;﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Feb 20, 2015, 1:43:50 PM","shortDate":"Feb 20, 2015","textHtml":"I get back a JSON result. &nbsp;\"StartUpErrors\":[]﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2015, 1:54:02 PM","shortDate":"Feb 20, 2015","textHtml":"hmm, not sure are any Razor pages working? I'm assuming you're using the same Razor Web.config and Registered the Razor plugin in the same way as dev right?﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Feb 20, 2015, 2:16:29 PM","shortDate":"Feb 20, 2015","textHtml":"Sorry, it turned out to be a permission issue on the server that had nothing to do with ServiceStack. &nbsp;My guess is that the service was failing before it had a chance to try to render the view. &nbsp;I still don't know why I wasn't seeing any errors but at least the Razor View Engine was not the issue. &nbsp;Thank you for your help.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2015, 2:25:15 PM","shortDate":"Feb 20, 2015","textHtml":"ok cool glad its sorted. You'll want to ensure there's a ResponseStatus property on the Response DTO to see Service errors.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Feb 20, 2015, 3:47:52 PM","shortDate":"Feb 20, 2015","textHtml":"Good to know. &nbsp;Thanks!﻿"}],"date":"Feb 20, 2015, 9:44:21 AM","shortDate":"Feb 20, 2015"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"Hello, I am looking for the documentation for the Memcached drivers and can't find them - is it possible to get a link? Also, what license do we need to purchase to use it (We already bought the one for using Redis)? Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2015, 8:34:12 AM\n(edited Feb 17, 2015, 8:45:03 AM)","shortDate":"Feb 17, 2015","textHtml":"The memcached client is just an ICacheClient adapter for the Enyim memcached provider, it's listed at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Caching\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Caching</a><br><br>There aren't any quota's attached to the Memcached client (as it uses BinaryFormatter under the hood) so you can freely use it unlicensed under the free quotas. (Any support would be under ServiceStack license or purchasing individual support incidents).﻿"}],"date":"Feb 17, 2015, 8:29:04 AM","shortDate":"Feb 17, 2015"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","textHtml":"What is the reason, that GlobalResponseFilters aren't run for Razor pages? Any alternatives to achieve the same? And would be nice to mention it in docs..<br>Thanks, Blaz﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 1:01:01 PM","shortDate":"Feb 12, 2015","textHtml":"The Razor ContentPages are executed directly and don't go through the normal Request pipeline. They'll get executed for Razor Views in /Views since they're executed with the result of a Service.<br><br>Only the PreRequestFilters runs everywhere, e.g. in non-ServiceStack services like Custom HttpHanders, Razor Content Pages, static files, etc.﻿"}],"date":"Feb 12, 2015, 12:46:56 PM","shortDate":"Feb 12, 2015"},{"userId":"115522113981037654785","userName":"Ian Kaney","textHtml":"Currently attempting to integrate a reverse proxy into a ServiceStack project by adding a RawHttpHandler. I've managed to successfully get this working apart from POST data which acts bizarrely. When the POST'ed data is of application/x-www-form-urlencoded data, I cannot access the InputStream to retrieve the original data. However, if I upload a binary file, it works fine when I set it to use a buffered stream. Is it linked to this issue perhaps?<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/175\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/175</a><br><br>Thanks for your time.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 11, 2015, 10:34:29 AM\n(edited Feb 11, 2015, 10:47:31 AM)","shortDate":"Feb 11, 2015","textHtml":"A RawHttpHandler short-circuits ServiceStack and lets you execute your own HttpHandler so there shouldn't be anything getting in the way. If you try to access req.FormData anywhere it will force loading the Request Stream.<br><br>I've just tried it writing out the Request InputStream for a x-www-form-urlencoded Request back out to the Response OutputStream and it's working without issue:<br><br>this.RawHttpHandlers.Add(httpReq =&gt;&nbsp;<br>&nbsp; &nbsp; httpReq.ContentType == MimeTypes.FormUrlEncoded&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; ? new CustomActionHandler((req, res) =&gt;&nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var bytes = req.InputStream.ReadFully();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res.OutputStream.Write(bytes, 0, bytes.Length);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; })<br>&nbsp; &nbsp; &nbsp; &nbsp; : null);﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 11, 2015, 11:18:22 AM","shortDate":"Feb 11, 2015","textHtml":"I'm attempting to do this in VB.Net, I have converted the code you gave and ran a test through it and I still have the same issue. InputStream is there but it's empty. Form and FormData have been populated with the data which seems to suggest that ServiceStack has parsed the data already.<br><br>Here is the code I'm using (it's in the Configure sub)<br><br>MyBase.RawHttpHandlers.Add(Function(httpReq) If(httpReq.PathInfo.StartsWith(\"/proxy/\"), New CustomActionHandler(Function(req, res)<br>Dim bytes = req.InputStream.ReadFully()<br>res.OutputStream.Write(bytes, 0, bytes.Length)<br>End Function), Nothing))<br><br>Any ideas?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 11, 2015, 11:27:37 AM\n(edited Feb 11, 2015, 11:27:48 AM)","shortDate":"Feb 11, 2015","textHtml":"ServiceStack doesn't have an opportunity to touch FormData when using RawHttpHandler, (note just by checking FormData will force the RequestStream to load - you shouldn't touch it).&nbsp;<br><br>Is this an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET/MVC\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET/MVC</a> App? If so, my guess is that one of <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>'s built-in/pre-configured features/handlers might be doing loading it before it reaches ServiceStack.<br><br>You could try disabling compression since it forces requests to be buffered, some info on how to do that are at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Server-Events#response-buffering-delaying-events\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Server-Events#response-buffering-delaying-events</a><br><br>Otherwise can you send me a link to a small, stand-alone example (e.g. gist/github repo) and I can try repo it locally.﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 11, 2015, 11:29:38 AM","shortDate":"Feb 11, 2015","textHtml":"It's a standalone hosted app (windows service). I'll try and knock together an example for you. Thanks for your time.﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 12, 2015, 5:20:00 AM","shortDate":"Feb 12, 2015","textHtml":"Ok, I managed to get some time and setup a new C# project using the ServiceStack template \"ServiceStack Self Host Empty\"<br><br>I added the system.web reference and the rawhttphandler code and ran the code.<br><br>I then used curl with the following parameters to send the data:<br><br>curl --data \"param1=value1&amp;param2=value2\" <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:8088/test\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:8088/test</a><br><br>Unfortunately, exactly the same end result as in my code in VB, I don't get anything echo'ed back to the client and when I check the InputStream when I break it's empty.<br><br>Any ideas, or have I missed something obvious?﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 12, 2015, 9:16:29 AM","shortDate":"Feb 12, 2015","textHtml":"I've also ran the code in release mode in both VB and C#, just in case debug mode was causing the IDE to read data it shouldn't be.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 9:29:59 AM","shortDate":"Feb 12, 2015","textHtml":"Yeah I'm debugging the issue now, it's due to GetAttributes()&nbsp;benig called when setting up the Request/Response objects, it looks at FormData to determine whether or not to Override the HTTP Method with POST'ed&nbsp;X-Http-Method-Override.&nbsp;<br><br>Looking at ways around it since we can't change the default behavior, it will probably require opt-in configuration to disable.﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 12, 2015, 9:31:43 AM","shortDate":"Feb 12, 2015","textHtml":"Glad you've found it and it's not me going mad! Thanks for your time.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 10:36:20 AM\n(edited Feb 12, 2015, 10:36:42 AM)","shortDate":"Feb 12, 2015","textHtml":"Hi Ian, I've added a new Config option to skip looking at FormData when creating a request, in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/ff2c234c7cf46d5abcf3a6ad78eb64e177fdf798\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/ff2c234c7cf46d5abcf3a6ad78eb64e177fdf798</a><br><br>You can configure it with:<br><br>SetConfig(new HostConfig {<br>&nbsp; &nbsp; SkipFormDataInCreatingRequest = true,<br>});<br><br>This will now let you access an untouched Request InputStream and write it to the Response with:<br><br>RawHttpHandlers.Add(_ =&gt; new CustomActionHandler((req, res) =&gt; {<br>&nbsp; &nbsp; var bytes = req.InputStream.ReadFully();<br>&nbsp; &nbsp; res.OutputStream.Write(bytes, 0, bytes.Length);<br>}));<br><br>Which you can test using ServiceStack's built-in HTTP Utils, e.g:<br><br>url.PostToUrl(new { a = \"foo\", b = \"bar\" }).Print();<br><br>This change is now available on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 12, 2015, 12:07:27 PM","shortDate":"Feb 12, 2015","textHtml":"Just to let you know that I've downloaded the version from MyGet and it works brilliantly. Thanks so much for your time and the fantastic support!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 12:09:22 PM\n(edited Feb 12, 2015, 12:09:33 PM)","shortDate":"Feb 12, 2015","textHtml":"Sweet, glad it's now working :)﻿"}],"date":"Feb 11, 2015, 10:16:40 AM","shortDate":"Feb 11, 2015"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"Hi there,<br>I'm writing in the hope of getting some hints and guidance on the matter of implementing a custom auth provider, here goes:<br><br>For a customer I'm supposed to hook an API up with an already existing authentication provider - it works a bit like OAuth, however, it's not OAuth at all. You can redirect the user to their web-page for login, and give it a \"callback url\", to which it will post the information about the user that just logged in (like username, rights, etc). Via some shared secrets I can validate that it's the service calling me back, and not an impostor.<br><br>How would I go about implementing this? Would the google/other OAuth providers already embedded in servicestack provide a good starting base?<br><br>Thanks in advance :)&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 5, 2015, 1:43:11 PM","shortDate":"Feb 5, 2015","textHtml":"I would look at inheriting from&nbsp;AuthProvider, then override the `Authenticate()` API which is the entry point and `IsAuthorized()` to return whether a users session is authenticated or not.&nbsp;There's also `OnAuthenticated()` to save the session and merge the UserAuth data, but you may be able to re-use the default impl for that.<br><br>You can look at&nbsp;OAuthProvider&nbsp;for an example of what API's to implement:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/OAuthProvider.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/OAuthProvider.cs</a><br><br>You can return any response in the `Authenticate()` and `OnAuthenticated()` API's including Redirects, you can have a look at the OAuthProvider for examples of how it handles success/failed redirects:<br><br>CredentialsAuthProvider may also be worth looking it as it shows an example of implementing a custom non-OAuth provider:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/CredentialsAuthProvider.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/CredentialsAuthProvider.cs</a>﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Feb 5, 2015, 3:35:20 PM","shortDate":"Feb 5, 2015","textHtml":"Thanks Demis, I'll start digging around!﻿"}],"date":"Feb 5, 2015, 5:23:23 AM","shortDate":"Feb 5, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>I've some iussue serving MVC pages via ServiceStack.Razor.<br>I've added this small sample ... calling the url&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:1337/test\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:1337/test</a> &nbsp;it should serve the view Test.cshtml but it continues to serve the default one ... what am I doing wrong?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2015, 11:07:28 AM\n(edited Feb 4, 2015, 12:09:22 PM)","shortDate":"Feb 4, 2015","textHtml":"It appears your zip file was corrupted as I couldn't extract it locally or using Zip Extractor online.&nbsp;<br><br>By looking at the structure I can see that you've added /Views/Test.cshtml in your views directly but you're trying to access it like a Content Page. You should read the difference between View Pages (razor pages in /Views - executed using the Service Response DTO as the ViewModel) and Content Pages (Razor Pages outside of /Views directory - Executed directly without a Service):&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/13206221/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/13206221/85785</a><br><br>My guess would be to move the /Views/Test.cshtml in the root folder at /test.cshtml<br><br>Also just a reminder that there's no need to address questions directly to me as it makes it less inviting for others who would be willing and able to help you as well.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 4, 2015, 12:20:31 PM","shortDate":"Feb 4, 2015","textHtml":"Hello Demis, here's another file upload...&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://drive.google.com/file/d/0B6nPFuIuKHG1RThpV2xubmlRWU0/view?usp=sharing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://drive.google.com/file/d/0B6nPFuIuKHG1RThpV2xubmlRWU0/view?usp=sharing</a> please excuse me if I've address the email to you, and also I ask my excuses to the whole forum<br><br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2015, 1:53:33 PM","shortDate":"Feb 4, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105956167967297879956\" oid=\"105956167967297879956\">paolo ponzano</a></span>&nbsp;have you moved /Views/Test.cshtml to /Test.cshtml as mentioned? Also please read the recommended link explaining the difference between /View pages and Content Pages:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/13206221/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/13206221/85785</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 4, 2015, 4:43:13 PM","shortDate":"Feb 4, 2015","textHtml":"Hello,yes I've tried but with no luck... I think I'm missing something really stupid...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2015, 5:11:47 PM","shortDate":"Feb 4, 2015","textHtml":"If you add a ResponseStatus to your&nbsp;TestResponse you will be able to see what the Error is.<br><br>It looks like you've copied the razor configuration from Razor Rockstars as it can't find the RazorRockstar namespace in the Web.config, this should be replaced with your namespace, unfortunately your project seems broken as your Program and AppHost classes aren't in any namespace and your project namespace is called OrmLiteMySql which is different to the name of the project \"RazorTest\".﻿"}],"date":"Feb 4, 2015, 2:31:21 AM","shortDate":"Feb 4, 2015"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Hi, I have been using a combination of Redis MQ and within the handler SSE to notify clients of progress updates. &nbsp;This has been working fine until I scaled an Azure website out - obviously the HTTP connection that SSE relies on is only to a single instance, and the workload is shared across multiple servers - each client would only get notifications for tasks that their instance performed.<br><br>Is a potential way round this to use Redis PubSub as a \"backplane\" for the progress updates - the servers subscribe to a channel, and any progress from any server Publishes a message. &nbsp;The appropriate OnMessage delegate then and broadcasts SSEs to all that instance's clients. &nbsp;Would this work? &nbsp;If so, where would the RedisClient.CreateSubscription() code and delegates live - tried this in global.asax, but caused my IIS to hang, so clearly getting something wrong. &nbsp;Any pointers greatly appreciated.<br><br>G﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2015, 3:39:12 PM","shortDate":"Feb 3, 2015","textHtml":"Hi Graham, have you seen docs on the RedisServerEvents &nbsp;provider?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Redis-Server-Events\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Redis-Server-Events</a><br><br>It enables using Redis to be used a back-end for Server Events which works transparently so all you'll need to do is register a `RedisServerEvents` provider and all the API's remain the same, e.g:<br><br>&nbsp; &nbsp; container.Register&lt;IServerEvents&gt;(c =&gt;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; new RedisServerEvents(c.Resolve&lt;IRedisClientsManager&gt;()));﻿"},{"userId":"109143533670356077374","userName":"Graham Laidler","date":"Feb 4, 2015, 3:13:01 AM","shortDate":"Feb 4, 2015","textHtml":"Hi - many thanks - how did I miss this? - I am already using this, so there must be another reason why these are failing when I scale out. &nbsp;I will continue to dig.﻿"}],"date":"Feb 3, 2015, 8:47:22 AM","shortDate":"Feb 3, 2015"},{"userId":"100487119967968594517","userName":"Norbert Haberl","textHtml":"I would like to use OrmLite on Xamarin.Forms - any recommendations how to use?<br>I don't know which package I should use for this mobile applications?<br>Is there any tutorial on this?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2015, 2:02:55 PM\n(edited Feb 2, 2015, 3:02:06 PM)","shortDate":"Feb 2, 2015","textHtml":"There's no PCL or official builds for OrmLite for iOS/Android. Someone's added an Android build of OrmLite, but you'll need to build the ServiceStack.OrmLite.Android.sln from src at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/tree/master/src\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/tree/master/src</a>﻿"},{"userId":"100487119967968594517","userName":"Norbert Haberl","date":"Feb 12, 2015, 3:58:07 AM","shortDate":"Feb 12, 2015","textHtml":"Ok, thx<br>Have seen that there is an Android and an iOS project with tests ... any known issues?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 4:05:00 AM","shortDate":"Feb 12, 2015","textHtml":"They haven't been tested on devices for a long time. I'd expect Android to be more reliable given it doesn't have iOS NoJIT restrictions.﻿"},{"userId":"100487119967968594517","userName":"Norbert Haberl","date":"Feb 12, 2015, 7:13:29 AM","shortDate":"Feb 12, 2015","textHtml":"Ok, I will give it a try although﻿"}],"date":"Feb 2, 2015, 12:03:58 PM","shortDate":"Feb 2, 2015"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"Hi,<br>Is there available a Microsoft Account provider for ServiceStack? I've a customer wanting to use Microsoft accounts for authentication. Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2015, 6:12:57 PM\n(edited Jan 30, 2015, 6:15:58 PM)","shortDate":"Jan 30, 2015","textHtml":"What's a Microsoft Account Provider? is it based on OAuth or a new MS-only Auth Provider? Is it a library where User Auth data persisted locally or are the credentials stored in a remote Cloud/Server service?﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Jan 30, 2015, 6:26:15 PM","shortDate":"Jan 30, 2015","textHtml":"It's the Live Connect based on OAuth 2.0:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/hh243647.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://msdn.microsoft.com/en-us/library/hh243647.aspx</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2015, 6:42:10 PM\n(edited Jan 30, 2015, 6:45:38 PM)","shortDate":"Jan 30, 2015","textHtml":"ok cool, there's isn't one built-in, hopefully it's just a matter of being able to copy and customize an existing OAuth2 provider like:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Authentication.OAuth2/GoogleOAuth2Provider.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Authentication.OAuth2/GoogleOAuth2Provider.cs</a><br><br>Wont have time to look at it myself before this release, but if you add it on <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a> so I don't forget, I can look into it when I get some free time.﻿"}],"date":"Jan 30, 2015, 5:50:28 PM","shortDate":"Jan 30, 2015"},{"userId":"113071203639930389569","userName":"Constantinos Eraleous","textHtml":"Hi there,<br><br>I have all my DateTime properties handled as<br>JsConfig&lt;DateTime&gt;.SerializeFn = date =&gt;date.ToShortDateString();<br><br>but I need for some specific DTOs , not all, to include the time as well.<br>Is that possible?<br><br>Thanks﻿","comments":[{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Jan 26, 2015, 9:16:44 AM\n(edited Jan 26, 2015, 9:17:05 AM)","shortDate":"Jan 26, 2015","textHtml":"I am handling this by declaring the date-only properties as strings in the DTO and doing the parsing/serializing by hand. When implementing that I couldn't think of a more elegant solution. So if there is a better way I'd like to hear about it as well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 2:04:16 PM","shortDate":"Jan 26, 2015","textHtml":"Yeah using a string is the easiest way. There's also a JsConfig&lt;T&gt;.OnSerializingFn which is called on serializing specific DTO's, here you could remove the time portion out of specific DTO's DateTimes.﻿"}],"date":"Jan 26, 2015, 8:05:46 AM","shortDate":"Jan 26, 2015"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"Hi there,<br><br>I'm facing some trouble with using ServiceStack v4 and SOAP. Long story short, I'm tasked with building a SOAP api that BizTalk should interact with.<br><br>When enabling the Auth plugin, i'm facing the same trouble as this guy on stackoverflow:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/24369106/servicestack-authentication-provider-and-soap-conflict\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/24369106/servicestack-authentication-provider-and-soap-conflict</a><br><br>Any suggestions on how to handle this? I would prefer to keep the Auth plugin enabled as I have built a custom \"token\" auth provider that works with the Authenticate attribute.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 22, 2015, 12:16:19 PM","shortDate":"Jan 22, 2015","textHtml":"It's unlikely SOAP clients support HTTP Basic Authentication, you should be able to use Credentials (i.e. UserName/Password) AuthProvider but the SOAP Client needs to support Cookies to be able to make subsequent authenticated requests.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 22, 2015, 12:25:47 PM","shortDate":"Jan 22, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Yes that is of course an issue - which is why I decided to create a \"token auth provider\" with auto-login like you suggested on this question:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/109587042931756689212/posts/ibjo8VxTs9U\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/109587042931756689212/posts/ibjo8VxTs9U</a><br><br>But I guess disabling the Auth feature and then implementing a custom request filter should do the trick?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 22, 2015, 12:37:17 PM","shortDate":"Jan 22, 2015","textHtml":"Don't think you'll need to disable it, if you're using your own Auth Provider you should be able to detect SOAP requests and handle them differently.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 22, 2015, 1:32:07 PM","shortDate":"Jan 22, 2015","textHtml":"The issue is with the additional types that the AuthProvider registers and renders into the WSDL. When the Visual Studio BizTalk plugin does it's magic, it tries to validate the entire type hierarchy so it ends up giving errors like:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/nover/9086308507032cb02795#file-wsdl-errors\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/nover/9086308507032cb02795#file-wsdl-errors</a><br><br>A screenshot the BizTalk guy sent me:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://drops.skarp.dk/1iCZ2/4DdomSvw\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://drops.skarp.dk/1iCZ2/4DdomSvw</a><br><br>And finally, I have these things registered in the DTO project's AssemblyInfo to try and navigate around the issue:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/nover/9086308507032cb02795#file-assemblyinfo-cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/nover/9086308507032cb02795#file-assemblyinfo-cs</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 22, 2015, 5:40:06 PM\n(edited Jan 22, 2015, 5:40:22 PM)","shortDate":"Jan 22, 2015","textHtml":"Unfortunately the Assembly Contract namespaces only works for classes in that Assembly, i.e. you wont be able to redefine namespaces for types in different dls.<br><br>I've just added an Assembly Contract for ServiceStack.Client in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/b9bd0a66de9d5669763495f0b81166645853e11e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/b9bd0a66de9d5669763495f0b81166645853e11e</a><br><br>This should help with the namespace of the Authenticate DTO's. This change is now on v4.0.37+ that's now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 23, 2015, 7:01:49 AM","shortDate":"Jan 23, 2015","textHtml":"You are the man <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>​. Thank you! ﻿"}],"date":"Jan 22, 2015, 8:05:45 AM","shortDate":"Jan 22, 2015"},{"userId":"117419102482866616321","userName":"Stephen Patten","textHtml":"Hello,<br><br>I'm wondering what would be a driving force for someone to adopt using the proto-buf binary serialization format in their web services? If I'm using JSON right now and it's working fine, is there a compelling reason to switch?<br><br>&nbsp;Thanks team!&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 16, 2015, 4:40:08 PM","shortDate":"Jan 16, 2015","textHtml":"The drawback is that you have to add numeric indexes on each property (in which case MsgPack might be preferred), but otherwise it's fast and compact and good for transferring binary data since it doesn't need to be encoded. But in general unless given a reason not to I prefer JSON which is fast enough, self-describing and easier to debug.<br><br>You would consider ProtoBuf for larger payloads or where you've identified a hotspot bottleneck and you want better performance or smaller payloads.﻿"}],"date":"Jan 16, 2015, 4:36:30 PM","shortDate":"Jan 16, 2015"},{"userId":"112168629760383952479","userName":"Arun Pereira","textHtml":"Posting the link from stackoverflow here for a long code related issue.﻿","comments":[],"date":"Jan 14, 2015, 2:13:52 PM","shortDate":"Jan 14, 2015"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"Hi, what would be the smartest way to implement \"api key\" authorization?&nbsp;<br>The thing is it has to run along the credentials auth, and since most of the operations are simple CRUD I'd like to reuse my DTOs.<br><br>To be more precise: currently all the request DTOs are marked with [Authenticate] since they're available for logged users only.&nbsp;<br>Now I'd like to make some of them available also for non-logged-in requests, in case the request contains valid api key.<br><br>I was considering several ways::<br><br>1. custom auth provider<br>I'm not convinced it's possible to \"authenticate on-the-fly\", i.e. without preceding, separate request calling for authentication ?<br><br>2. global filters<br><br>3. custom runner<br><br>I don't however know when the authentication checking happens in the order of operations ?<br><br>What would be the suggested way to go?<br>Thanks﻿","comments":[{"userId":"112524062958930480770","userName":"Matt Cowan","date":"Jan 13, 2015, 12:17:25 PM","shortDate":"Jan 13, 2015","textHtml":"If your logged-in users are also going to pass an api key, then technically you could just remove the Authenticate attribute from those request DTOs and simply check for the Api Key in a request filter like so, right?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://rossipedia.com/blog/2013/03/simple-api-key-authentication-with-servicestack/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://rossipedia.com/blog/2013/03/simple-api-key-authentication-with-servicestack/</a><br>If you have a mix of requests, with and without api keys, than there are other options...<br>Another option I've implemented is to combine an api key with a service stack session id (i.e.: mobile clients for example, without a cookie container on the client) where you pass both of those back from the client as headers, and the pre-request filter just populates the servicestack session cookie from the session id header key, and then servicestack does it's thing as usual.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 13, 2015, 12:40:30 PM","shortDate":"Jan 13, 2015","textHtml":"You can \"Authenticate on-the-fly\" by calling the Auth Service in your Service, e.g. from AutoLogin feature in /register service:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L106-L114\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L106-L114</a><br><br>I think a good solution for this could be to use a Custom AuthProvider that implements `IAuthWithRequest.PreAuthenticate()`, e.g from BasicAuthProvider:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/BasicAuthProvider.cs#L34\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/BasicAuthProvider.cs#L34</a><br>where if your AuthProvider implements `IAuthWithRequest`, the `[Authenticate]` attribute automatically calls &nbsp;PreAuthenticate() method.&nbsp;<br><br>To satisfy `[Authenticate]` your `session.IsAuthorized(provider)` API just needs to return true. Which by default just calls `AuthProvider.IsAuthorized()` on your AuthProvider:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AuthUserSession.cs#L62\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AuthUserSession.cs#L62</a><br><br>Also you can tell ServiceStack about the sessionId with:<br>httpReq.Items[\"ss-id\"] = sessionId;<br>Or pass it via Cookies (default) or send the ss-* cookie ids as HTTP Headers with a \"X-\" prefix, e.g \"X-ss-id\"﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Jan 15, 2015, 3:44:15 AM","shortDate":"Jan 15, 2015","textHtml":"Thanks Demis, I wasn't aware of&nbsp;IAuthWithRequest. Should've thought of checking out how Basic Auth works, my fault ;)&nbsp;﻿"}],"date":"Jan 13, 2015, 11:27:54 AM","shortDate":"Jan 13, 2015"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","textHtml":"I'm using the FacebookAuthProvider, is there anything I can override or customize so that a user's user_auth record does not get email and username filled out? In v3, it would only fill out primary_email - not email and username.﻿","comments":[{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jan 8, 2015, 12:27:37 PM","shortDate":"Jan 8, 2015","textHtml":"I also use CredentialsAuthProvider. The key here is that I was using IUserAuthRepository.GetUserAuthByUserName() to tell if the user authed with Credentials as opposed to Facebook.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2015, 12:29:05 PM","shortDate":"Jan 8, 2015","textHtml":"You could inherit the FacebookAuthProvider and override&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/FacebookAuthProvider.cs#L86\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/FacebookAuthProvider.cs#L86</a><br><br>Otherwise you could provide a FacebookAuthProvider.CustomValidationFilter and remove the populated fields from the auth tokens:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthProvider.cs#L166\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthProvider.cs#L166</a>﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jan 8, 2015, 12:42:31 PM","shortDate":"Jan 8, 2015","textHtml":"That looks like it controls what ends up in UserAuthDetails not UserAuth. Blanking Email and UserName in LoadUserOAuthProvider() doesn't seem to affect the UserAuth record.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2015, 12:52:24 PM","shortDate":"Jan 8, 2015","textHtml":"What AuthRepo are you using? OrmLiteAuthRepository copies over the info from tokens and then copies it to UserAuth table:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Auth/OrmLiteAuthRepository.cs#L415-L416\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Auth/OrmLiteAuthRepository.cs#L415-L416</a>﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jan 8, 2015, 2:16:03 PM","shortDate":"Jan 8, 2015","textHtml":"Yeah, OrmLiteAuthRepository - do I need to implement the interface myself then ?﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jan 8, 2015, 2:22:50 PM","shortDate":"Jan 8, 2015","textHtml":"Wouldn't it be possible to have duplicate usernames then? If usernames are coming from any number of oauth providers?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2015, 4:33:07 PM","shortDate":"Jan 8, 2015","textHtml":"I would think that you could use the callbacks above to clear the info from the tokens, so they don't get populated.<br><br>We assert Unique Emails by default:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthProvider.cs#L351\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthProvider.cs#L351</a><br><br>And we assert Unique UserName's upon registration (i.e. for User/Password registration), but not for OAuthProviders, I should probably make it configurable like it is for&nbsp;AuthProvider.ValidateUniqueEmails. You can also use the&nbsp;AuthProvider.CustomValidationFilter to add your own custom validation.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2015, 5:22:09 PM","shortDate":"Jan 8, 2015","textHtml":"BTW added validation for Unique UserNames in this commit:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d66e4b581f55bc78ddf1586ec910604a8e5555be\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d66e4b581f55bc78ddf1586ec910604a8e5555be</a> it's overridable with&nbsp;AuthProvider.ValidateUniqueUserNames﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jan 9, 2015, 1:42:18 PM","shortDate":"Jan 9, 2015","textHtml":"Cool. I ended up changing how our auth flow to fit in with how SS works in v4.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 9, 2015, 1:47:43 PM","shortDate":"Jan 9, 2015","textHtml":"ok cool, latest version is also on MyGet should you need it.﻿"}],"date":"Jan 8, 2015, 12:18:01 PM","shortDate":"Jan 8, 2015"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"I'm having some strange problems with async OrmLite for Sql Server in the latest version and I was wondering if anyone else has seen something similiar. I have some code that works fine with 4.0.33, but when I update to 4.0.35 I get an exception \"invalid attempt to call fieldcount when reader is closed\". This exception happens on a call to SingleAsync that is done in a transaction. Before this call there has been a handful of mixed SingleAsync, SelectAsync and ExistsAsync calls. All which have been awaited.<br><br>I've been trying to isolate the problem in a unit test, but I still haven't managed to pin it down. I'll keep trying to pin it down - but does anyone have any tips or ideas as to what might be the problem?﻿","comments":[{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Jan 8, 2015, 4:39:06 AM","shortDate":"Jan 8, 2015","textHtml":"A-ha! I think I managed to make a failing unit test. I'll post an issue on the tracker.﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Jan 8, 2015, 4:40:05 AM","shortDate":"Jan 8, 2015","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/wastaz/69f07a2ddd6fb63b2370\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/wastaz/69f07a2ddd6fb63b2370</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2015, 6:51:21 AM","shortDate":"Jan 8, 2015","textHtml":"Great fix is now available on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/213\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/213</a>﻿"}],"date":"Jan 8, 2015, 3:44:51 AM","shortDate":"Jan 8, 2015"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"I have a problem with the routes on the ServerEventsFeature.<br><br>My app is configured with:<br>SetConfig(new HostConfig<br>{<br>\tWebHostUrl = \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test</a>\",<br>\tHandlerFactoryPath = \"api\"<br>});<br><br>If I send a request to <a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test/api/event-stream\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test/api/event-stream</a>, I get back:<br>id: 1<br>data: cmd.onConnect {\"userId\":\"-2\",\"displayName\":\"user2\",\"profileUrl\":\"\",\"id\":\"JVjUcHYjGHGlhDToOHAQ\",\"unRegisterUrl\":\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test/event-unregister?id=JVjUcHYjGHGlhDToOHAQ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test/event-unregister?id=JVjUcHYjGHGlhDToOHAQ</a>\",\"heartbeatUrl\":\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test/event-heartbeat?id=JVjUcHYjGHGlhDToOHAQ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test/event-heartbeat?id=JVjUcHYjGHGlhDToOHAQ</a>\",\"heartbeatIntervalMs\":\"10000\",\"idleTimeoutMs\":\"30000\"}<br><br>The unRegisterUrl and heartbeatUrl are generated using ResolveAbsoluteUrl, which does not include the HandlerFactoryPath.<br><br>Is this the correct behaviour? If yes, how do I get those url's to be consistent?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2015, 9:17:06 AM\n(edited Jan 6, 2015, 9:24:15 AM)","shortDate":"Jan 6, 2015","textHtml":"What version of SS are you running? You can get a consistent base url by specifying Config.WebHostUrl or by overriding AppHost.ResolveAbsoluteUrl - BTW your&nbsp;Config.WebHostUrl should include the full url, e.g <a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.text/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.text/api</a>﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jan 6, 2015, 9:53:24 AM","shortDate":"Jan 6, 2015","textHtml":"I'm running 4.0.35.<br><br>If I set the full WebHostUrl in the config (<a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test/api</a>), it works correctly.<br><br>However, in that case, the operations metadata returned by /api/metadata is not correct (the \"/api\" is doubled up).<br>e.g.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://mydomain.test/api/api/json/metadata?op=ActivityRequest\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mydomain.test/api/api/json/metadata?op=ActivityRequest</a><br><br>The Postman metadata is correct though.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2015, 10:57:27 AM","shortDate":"Jan 6, 2015","textHtml":"ok the correct url is the full BaseUrl inc. \"../api\", I've just resolved the absolute url in metadata pages this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commits\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commits</a> (was using old url resolution behavior).&nbsp;<br>Will let you know when it's finished passing thru CI and gets deployed on MyGet.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2015, 11:31:24 AM","shortDate":"Jan 6, 2015","textHtml":"FYI the Config.WebHostUrl url fix for metadata pages is now on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jan 7, 2015, 2:30:01 AM","shortDate":"Jan 7, 2015","textHtml":"Sweet!<br>Great service, as always.﻿"}],"date":"Jan 6, 2015, 8:36:49 AM","shortDate":"Jan 6, 2015"},{"userId":"106953515973464470098","userName":"Chris Gilligan","textHtml":"Is there support yet for DynamoDB as the user store? Really wanted to take advantage of the free database i get for a year vs needing the paid options for my user store.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 31, 2014, 8:13:19 PM","shortDate":"Dec 31, 2014","textHtml":"There's no DynamoDB support for AuthProvider, just as a AWS caching client. Though creating adapters for AWS/Azure is on the roadmap, hopefully will have free time for it in the new year.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Dec 31, 2014, 9:09:09 PM","shortDate":"Dec 31, 2014","textHtml":"thanks Demis it would be good to see. I tried creating my own one but the integer ID's on the interfaces and objects caused me no end of trouble and i could only search by user id and not userid and email. I may have to use a relational DB for now.﻿"}],"date":"Dec 31, 2014, 7:15:53 PM","shortDate":"Dec 31, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"There is in&nbsp; ServiceStack github,&nbsp; a&nbsp;&nbsp; test&nbsp; for a MultiTennantAppHost. What is it about ?&nbsp;&nbsp; Is it an example&nbsp; for a&nbsp; multitenant scenario ? nice.<br>&nbsp;thank you﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 21, 2014, 12:57:27 PM","shortDate":"Dec 21, 2014","textHtml":"yeah it's an example on how I'd approach it, originally from this question:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/q/26140789/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/q/26140789/85785</a>﻿"}],"date":"Dec 21, 2014, 6:54:13 AM\n(edited Dec 21, 2014, 7:04:40 AM)","shortDate":"Dec 21, 2014"},{"userId":"107970815325006319569","userName":"Jon Kennerly","textHtml":"What is the best way to hide certain Operations (DTO contracts) under the operations section of the MetadataFeature page?<br><br>For instance I want to hide in production the following endpoints:<br>RequestLogs<br>ResourceRequest<br>Resources<br><br>I'm not seeing that DebugMode hides these automagically like the \"Debug Info\" section.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2014, 12:41:48 PM","shortDate":"Dec 17, 2014","textHtml":"You can specify it in the config, e.g:<br><br>Feature disableFeatures = Feature.Jsv |&nbsp;Feature.Csv |&nbsp;Feature.Xml |&nbsp;Feature.Soap;<br><br>SetConfig(new HostConfig {<br>&nbsp; &nbsp; EnableFeatures = Feature.All.Remove(disableFeatures),&nbsp;<br>});﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 17, 2014, 12:51:42 PM","shortDate":"Dec 17, 2014","textHtml":"I do want to hide the Soap feature, but that's not really what I'm asking here.<br><br>I want to hide the Operation itself from the list, not just the serialization option. For instance, I have RequestLogs feature enabled, but I don't want it to appear in the list.<br><br>Sorry if I'm not explaining very well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2014, 1:21:06 PM\n(edited Dec 17, 2014, 3:26:20 PM)","shortDate":"Dec 17, 2014","textHtml":"ok you can restrict visibility of services with [Restrict] attribute: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services</a><br><br>You can use runtime attributes API to add these attributes on existing services, e.g:<br><br>typeof(RequestLogs)<br>&nbsp; &nbsp; .AddAttributes(new RestrictAttribute { InternalOnly = true});﻿"}],"date":"Dec 17, 2014, 12:38:35 PM\n(edited Dec 17, 2014, 12:42:29 PM)","shortDate":"Dec 17, 2014"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"couldn't find this on the wiki - what's the difference between RedisCacheClient and a regular RedisClient? Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 14, 2014, 5:19:04 PM\n(edited Dec 14, 2014, 5:19:13 PM)","shortDate":"Dec 14, 2014","textHtml":"What do you mean by regular client? Do you mean .NET Service Client?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/C%23-client\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/C%23-client</a><br><br>They're the typed clients for consuming Services whereas ICacheClient is an abstraction for implementing Caching in your Services:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Caching\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Caching</a>﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Dec 14, 2014, 5:20:05 PM","shortDate":"Dec 14, 2014","textHtml":"Sorry there are a ton of plugins - I meant the Redis client and cache client :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 14, 2014, 5:27:03 PM\n(edited Dec 14, 2014, 5:28:26 PM)","shortDate":"Dec 14, 2014","textHtml":"The CacheClient is a light caching abstraction with multiple different backend providers to choose from inc. Redis, InMemory, Memcached, OrmLite, Azure, AWS, etc.<br><br>Whereas the Redis Client is a full-featured client for the Redis back-end data store with API's for all of Redis Server operations:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis</a> - more info about redis datastore is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://redis.io/documentation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redis.io/documentation</a>﻿"}],"date":"Dec 14, 2014, 5:16:28 PM\n(edited Dec 14, 2014, 5:21:22 PM)","shortDate":"Dec 14, 2014"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","textHtml":"As part of upgrading to v4, I needed to update redis from 2.4 to at least 2.6 due to what seemed like breaking changes. That's fine except now I get intermittent connection errors. It will work for a while but then throw \"A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond\".&nbsp;<br>Do you have any advice on how I can better track down what is happening? I know about&nbsp;TrackingRedisClientsManager but that doesn't seem to provide any useful information.<br>I have redis hosted on ubuntu 12 in an azure virtual machine. I've found many questions that sound similiar but it feels like no one has any idea what is really happening.&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22509232/servicestack-redis-client-and-receive-timeouts\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22509232/servicestack-redis-client-and-receive-timeouts</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/20384052/servicestack-redis-unable-to-connect-sport\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/20384052/servicestack-redis-unable-to-connect-sport</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/18963809/how-best-to-manage-redis-connections-using-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/18963809/how-best-to-manage-redis-connections-using-servicestack</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/13128363/redis-ioexception-existing-connection-forcibly-closed-by-remote-host-using-se\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/13128363/redis-ioexception-existing-connection-forcibly-closed-by-remote-host-using-se</a>﻿","comments":[{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 3:34:24 PM\n(edited Dec 10, 2014, 3:42:41 PM)","shortDate":"Dec 10, 2014","textHtml":"Also, I'm using today's servicestack release and registered with&nbsp;<br><br>.Register&lt;IRedisClientsManager&gt;(new RedisManagerPool(redis));﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2014, 3:43:51 PM\n(edited Dec 10, 2014, 3:56:12 PM)","shortDate":"Dec 10, 2014","textHtml":"Sounds like the TCP Connection is dropping as those are underlying .NET Socket exceptions being thrown. From the exception message it appears that the Redis Client isn't able to setup a TCP connection with the remote redis server, one way to confirm this is using WireShark to inspect the network packets to see if redis is returning the required SYN-ACK handshaking required to setup a TCP connection (more info at<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.inetdaemon.com/tutorials/internet/tcp/3-way_handshake.shtml\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.inetdaemon.com/tutorials/internet/tcp/3-way_handshake.shtml</a>)<br><br>One suggestion is to disable RDB persistence so it doesn't fork<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/20100427/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/20100427/85785</a> - more info about how improving and troubleshooting latency issues are published on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://redis.io/topics/latency\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redis.io/topics/latency</a><br><br>E.g. 2.8.13 includes a latency monitoring feature where you can view logged latency events:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://redis.io/topics/latency-monitor\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redis.io/topics/latency-monitor</a>﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 4:30:10 PM","shortDate":"Dec 10, 2014","textHtml":"I'm definitely not a wireshark expert but it looks like the connection is established fine. I can see that my connection on port 3284 (for example) worked for a while, but then after waiting about eight minutes and refresh my page, I see port 3284 used for [PSH,ACK] which contains the iauthsession key then five retransmissions of that packet and finally a [RST,ACK] which then gives me the yellow screen containing my \"connection attempt failed\" message. I don't know if any of this is helpful :-)﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 4:47:25 PM","shortDate":"Dec 10, 2014","textHtml":"After about thirty minutes of monitoring, I can see some quits being sent which also result in retransmissions and finally [RST,ACK]'s﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 4:48:39 PM","shortDate":"Dec 10, 2014","textHtml":"And that might be IIS falling asleep, but it still shows that those pooled connections don't seem to be usable any more.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2014, 4:55:30 PM","shortDate":"Dec 10, 2014","textHtml":"Can you try switching back to the PooledRedisClientManager to see if it helps?﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 5:14:41 PM","shortDate":"Dec 10, 2014","textHtml":"Tried&nbsp;PooledRedisClientManager without additional options (only host and auth). It seems to create a lot more connections, waiting about five minutes, and I can see it try to send a get for the iauthsession using the lowest port number (I'm guessing it's the first connection) and it ends up with five retransmissions and finally a reset that throws the same error.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2014, 5:57:21 PM\n(edited Dec 10, 2014, 5:57:38 PM)","shortDate":"Dec 10, 2014","textHtml":"Ok thx for the update. One thing to look at is to make sure the `IdleTimeOutSecs` is less than `timeout` in redis.conf. It can be configured on the Connection String.﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 10, 2014, 7:11:24 PM","shortDate":"Dec 10, 2014","textHtml":"I connected to an azure redis instance and noticed in wireshark that they send tcp keep-alive every 15 seconds. I updated by redis server tcp-keepalive config and it seems to be smooth now.. maybe yay?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2014, 7:17:55 PM","shortDate":"Dec 10, 2014","textHtml":"that's like a TCP heartbeat to keep the connection alive, so yeah hopefully!﻿"}],"date":"Dec 10, 2014, 3:27:59 PM","shortDate":"Dec 10, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Just a thought about the SSVS extensions...&nbsp;<br><br>Although one is specifically labeled \"self host\" and others as \"empty,\" to me, these names are a bit confusing. &nbsp;Since all of the templates implement the services within the web project, they are all technically self-hosting. &nbsp;If they were NOT self-hosting, I would expect to see the service hosted in one project and then consumed in another. &nbsp;So many of the SS examples focus on building and hosting that it would be helpful to see examples of how to properly consume these services from various clients and NOT nest them.<br><br>The \"empty\" name seems a bit misleading. &nbsp;My guess is that this name was chosen based on the fact that the client logic is empty. &nbsp;However, this template itself is more of a shell for creating and hosting a service.<br><br>Personally, I love to see these templates named for what they are... self-hosted service applications AND THEN a second set of templates to show the decoupled client consumption of the service. &nbsp; I've stumbled across many questions where people as if AppHost is required to CALL a SS service, or if they should use ServiceStackController or Resolve&lt;&gt; from a client app. &nbsp;Showing the service host separated would help clarify the full stack and reuse.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 2, 2014, 3:58:26 PM\n(edited Dec 2, 2014, 3:59:58 PM)","shortDate":"Dec 2, 2014","textHtml":"I think all the templates are logically named. All projects contain the recommended multi-project template structure. The templates that end with 'Empty' are effectively the minimum required dependencies that are required for a working example app, i.e. just 'ServiceStack' NuGet pkg and its deps.<br><br>There is only 1 SelfHost template which is appropriately named:<br>&nbsp;- ServiceStack Self Host Empty<br>which is conceptually equivalent to<br>&nbsp;- ServiceStack <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Empty<br><br>The other <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> templates suffix suggest what type of project they create e.g. 'MVC4', 'MVC5 Empty', 'with AngularJS', 'with Bootstrap' and 'with Razor' - again I think they're all logically named.<br><br>The only one that's different is 'AngularJS App (beta)' which is our new style of Single Page App template that uses a node-based npm/Gulp/GruntJS build system:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStackVS/blob/master/angular-spa.md\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStackVS/blob/master/angular-spa.md</a><br><br>All other templates are classic C# <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> or Self-Host style templates.<br><br>Can you clarify with the Existing name with what you think it should be called instead?﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Dec 2, 2014, 4:11:12 PM\n(edited Dec 2, 2014, 4:13:01 PM)","shortDate":"Dec 2, 2014","textHtml":"In their current form, it seems as if all of the current templates should have \"self host\" in their name since the web app is both the host, for the service, as well as the only project making a call into the service.<br><br>If they were NOT self-hosted, I would expect to see at least two web applications per template... one for the service host and one for the web app calling the service.<br><br>Personally, whenever I'm using a template as a starter, or to learn from, I'd like to see it mirror a real-life example as close as possible. &nbsp;The very nature of a web service implies that it is to be consumed from many client applications (web, compiled, Angular, .NET, etc.). &nbsp;Most web apps where a service is hosted in the same application are designed as such because they are either insignificant OR the self-hosted service is serving a business function (bundling multiple service calls, preventing cross-domain calls from the browser, etc.).<br><br>This is the reason I recommended a set of templates, similar to the current set, which show a SEPARATE client project calling into the service host. &nbsp;This second set would NOT have the \"self host\" title.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 2, 2014, 4:30:01 PM\n(edited Dec 2, 2014, 5:29:43 PM)","shortDate":"Dec 2, 2014","textHtml":"\"Self Host\" vs \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>\" describes what type of Application / Host it is i.e. \"Self Host\" refers to HttpListener Self-Hosted Console App&nbsp;(which inherits from `AppSelfHostBase`), all other project templates are standard <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Web Applications (which inherit from `AppHostBase`).<br><br>We've (and other fx's offering multiple hosting options) consistently use the \"Self Host\" term for a long time (and throughout our docs) to refer to ServiceStack's Self Hosting (i.e. non <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>) HttpListener Host.<br><br>All project templates are to create ServiceStack server applications, you don't need a project template to call a ServiceStack service, just the <b>ServiceStack.Client</b> NuGet package (and the Servers DTO .dll) for any .NET project/platform (i.e.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HelloMobile\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HelloMobile</a>).<br><br>Alternatively you can just use SSVS `Add ServiceStack Reference` which automatically references the ServiceStack.Client NuGet package as well as generating the remote Services DTO's which you can use instantly with the Service Clients, more info at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/CSharp-Add-ServiceStack-Reference\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/CSharp-Add-ServiceStack-Reference</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Dec 2, 2014, 5:04:11 PM\n(edited Dec 2, 2014, 5:06:16 PM)","shortDate":"Dec 2, 2014","textHtml":"Sorry... didn't mean to upset anyone. &nbsp;Remember, I'm the guy that constantly proclaims his love to you and SS. &nbsp;<br><br>And, yes, I completely understand the term \"self host\" generally refers to hosting the service in a headless app (console). &nbsp;I get that. &nbsp;But should the technology really matter? &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> vs a console app? &nbsp;That's just the harness for the service. &nbsp;(but that's a completely different debate).<br><br>I guess, when you think of what SS actually IS... a web service framework... then the templates names are really accurate when you keep the scope in mind.<br><br>I agree that it's ridiculously easy to use the Client package. &nbsp;I guess I was just hoping to see a client implementation from the \"WWDD\" (What Would Demis Do) perspective. &nbsp;Although many of the facets would be completely architectural to the solution in question, it would be comforting to see visual examples of how YOU see the service being used... as well as any cool ways to use other pieces of SS that we may not know are there. &nbsp;For example, is there some uber-cool way of incorporating a staged cache with Redis... or maybe accounting for the various authentication providers from multiple client apps... or seeing a client leverage queries in the request/response pattern.<br><br>One-ff examples of a single feature (OAuth, etc.) is great for understanding how that lil' piece is used. &nbsp;My vote is for a more full-fledged set of templates that show everything from back to front with caching, auth, and whatever else would go into a distributed enterprise solution using SS.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 2, 2014, 5:28:58 PM\n(edited Dec 2, 2014, 6:06:37 PM)","shortDate":"Dec 2, 2014","textHtml":"I'm just pointing out that the term \"Self Host\" is prevalent in web/service frameworks and that overloading it to mean something else isn't a good idea. One of things I aim for is to keep consistent nomenclature, to reduce confusion as much as possible.<br><br>Yeah what type of Service you want to create matters a lot, whether it's going to be deployed as a Console Application or hosted in IIS/Cloud would be highly dependent on your use case, what you're building and how you end up deploying.&nbsp;<br><br>Yep it's all good to want to to see example apps but the project templates is not a good place for them, as they're primarily for creating new projects with, not for exploring how existing ones work.<br><br>The best place for that is cloning one of the Live Demos, which include a number of apps with OAuth enabled:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/LiveDemos\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/LiveDemos</a><br>e.g. HttpBenchmarks also includes docs about its Auth/OAuth support;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HttpBenchmarks#authentication\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HttpBenchmarks#authentication</a><br><br>It's definitely missing a larger application example, although each project template does contain the recommended multi-project layout which is suitable for medium/large sized projects. i.e. once projects get larger I'd only be adding more projects, not refactoring the existing project structure.<br><br>I do eventually want to get around to creating a full-featured and useful (i.e non-demo) app, ideally something integrated with Stripe, SMTP, etc. But this would mean stopping development on SS, so it's something I can only really do once development on SS slows down, hopefully next year.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 2, 2014, 6:40:27 PM","shortDate":"Dec 2, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span>&nbsp;No need to apologize! The feedback is appreciated :)﻿"}],"date":"Dec 2, 2014, 3:40:36 PM\n(edited Dec 2, 2014, 3:41:08 PM)","shortDate":"Dec 2, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"VERY interesting link below. &nbsp;Is Telerik's ORM product using ServiceStack or just using the TERM \"service stack?\" &nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 30, 2014, 10:56:16 AM\n(edited Nov 30, 2014, 10:59:01 AM)","shortDate":"Nov 30, 2014","textHtml":"Well they are a customer and the link of that snippet looks like it's using the `ServiceStack` and `ServiceStack.Interfaces` NuGet packages, so I'm assuming generating ServiceStack services is one of their new features :) <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.telerik.com/support/whats-new/data-access\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.telerik.com/support/whats-new/data-access</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Nov 30, 2014, 10:58:48 AM","shortDate":"Nov 30, 2014","textHtml":"That's what I saw, but it seemed almost too good to be true. &nbsp;So, in theory, this means, model-first generation now exists for SS. &nbsp;And, since their product is free, there's possibly gonna be a lot of happy customers.﻿"},{"userId":"116716178637849061271","userName":"Brian Stewart","date":"Nov 30, 2014, 12:07:10 PM","shortDate":"Nov 30, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Yes it is one of the new features - I'm a paying customer with Telerik (fantastic products ) - its great that Open Access is now free too &nbsp;- they already support web api service generation﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 30, 2014, 12:26:30 PM","shortDate":"Nov 30, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/116716178637849061271\" oid=\"116716178637849061271\">Brian Stewart</a></span>&nbsp;awesome, always great to see large vendors like Telerik adding support for SS :)&nbsp;this looks like it's a great value-add.﻿"}],"date":"Nov 30, 2014, 10:43:56 AM","shortDate":"Nov 30, 2014"},{"userId":"106953515973464470098","userName":"Chris Gilligan","textHtml":"Is there support for&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://json-ld.org/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://json-ld.org/</a> in servicestack or any plan to add it or has someone found a recommended way to implement it in servicestack?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 27, 2014, 5:37:05 PM","shortDate":"Nov 27, 2014","textHtml":"Nope it's not built-in, it's never been requested so there's no plan to add it:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a><br><br>I personally don't like polluting my existing services and DTO's with metadata links like this so if I ever needed to impl these types of services I'd create additional services returning bespoke DTO's. The custom DTO's would need to use [DataMember(Name=\"@id\")] to be able to return property names with `@` prefixes. Depending on the use-case I may even consider adding a custom media type, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://northwind.servicestack.net/vcard-format.htm\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://northwind.servicestack.net/vcard-format.htm</a>﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Nov 27, 2014, 6:48:32 PM","shortDate":"Nov 27, 2014","textHtml":"Thanks for the response just thought there may be a way to do it as a format and attributes like how XML is done﻿"}],"date":"Nov 27, 2014, 4:51:18 PM","shortDate":"Nov 27, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi Demis,<br>I'm wondering if Response Filter is a sensible way of handling the following scenario:<br><br>Lets say I have 2-3 permissions possible for any users. And based off of user's permission(s), I want to set some properties on the response dto to empty or do some processing before returning the dto. So basically don't return values for certain fields based off of user's permission.<br><br>Is ResponseFilter a good candidate to handle this? Any other suggestions on tackling this?&nbsp;<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 2:19:16 AM","shortDate":"Nov 22, 2014","textHtml":"Yeah sounds like a number of different ways you can do this, Response Filter, ResponseFilterAttribute, base method of a shared base Service class, etc.<br><br>I would probably use a typed response filter and shared interface for something this, basically have the Response DTO's that should have this behavior implement a shared interface with all the properties needed for the feature. Here's an example on how to register a typed response filter using an interface:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#apply-custom-behavior-to-multiple-dtos-with-interfaces\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#apply-custom-behavior-to-multiple-dtos-with-interfaces</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 22, 2014, 2:53:34 AM","shortDate":"Nov 22, 2014","textHtml":"This is perfect!<br>Although, the properties across different dto's won't always be the same. I guess I could also define few methods in the same dto interface like:<br>void ApplyPermissions(list of permissions);<br><br>Then have each of those dto do whatever needs to based on the permissions passed to it?<br><br>Is that not giving too much responsibility to a dto though?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 4:05:56 AM","shortDate":"Nov 22, 2014","textHtml":"I wouldn't put any methods on the DTO, just an interface with all the properties required to impl feature, e.g the properties you want to populate.&nbsp;﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Nov 23, 2014, 3:11:53 PM","shortDate":"Nov 23, 2014","textHtml":"Hi <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105171576940115851851\" oid=\"105171576940115851851\">Kebin Maharjan</a></span>&nbsp;, you might want to take a look at this&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/migajek/ServiceStackPlugins/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/migajek/ServiceStackPlugins/</a><br><br>this is my implementation of per-field permissions. It is quite limited as I've implemented only the features I needed, namely:<br>* is role-based only, not permission based<br>* processes only response DTOs, not request (although it's probably just as simple as registering the routine as response filter as well)<br>* doesn't follow the object graph, works on root-level object only<br><br>I might have to improve it soon, but it's not a guarantee yet.<br>hope this helps﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 24, 2014, 2:13:41 AM","shortDate":"Nov 24, 2014","textHtml":"Hi Michal,<br>This is great. I'll give this a try!<br><br>Thanks a lot :)<br>Kebin﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 24, 2014, 6:31:17 PM","shortDate":"Nov 24, 2014","textHtml":"That neat <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/109587042931756689212\" oid=\"109587042931756689212\">Michał Gajek</a></span>&nbsp;... you could call it the \"Access To Information Sharpie\" plugin.﻿"}],"date":"Nov 22, 2014, 2:06:28 AM","shortDate":"Nov 22, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hi Demis,<br><br>I can't seem to find the RedisServerEvents class described in this article :<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Redis-Server-Events\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Redis-Server-Events</a><br><br>in fact - a search for the IServerEvents interface in the ServiceStack.Redis repository returns no results!<br><br>What am I missing?<br><br>Ryan﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 19, 2014, 2:53:46 PM","shortDate":"Nov 19, 2014","textHtml":"It's in the `ServiceStack.Server` NuGet pkg, this is where high-level features depending on OrmLite or Redis are - I'll add a note on the wiki.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 19, 2014, 9:23:56 PM","shortDate":"Nov 19, 2014","textHtml":"Great - thanks!﻿"}],"date":"Nov 19, 2014, 2:51:23 PM","shortDate":"Nov 19, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I'm upgrading a project from .24 to .33 (a WPF Application) and I've noticed that all the ConvertToList needs a DialectProvider specified (which I retrieve with Db.GetDialectProvider()) ... it was not so got to me but I've replaced all the code (btw why haven't you kept a parameterless method that auto-resolve the current dialect?) I've also noticed that the ConvertTo&lt;SomePoco&gt;() needs the DialectProvider to be specified otherwise the result is an empty object...was this by design or it's a bug? I think this should be told in the Release notes&nbsp;<br><br>Thanks<br>Paolo﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 12:21:06 PM","shortDate":"Nov 18, 2014","textHtml":"These are internal API's that were modified to support OrmLite Async.<br>But it was mentioned in the release notes:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#breaking-changes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#breaking-changes</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Nov 18, 2014, 12:29:59 PM","shortDate":"Nov 18, 2014","textHtml":"Ok but it shouldn't break existing method firm for not async in my opinion<br>Il 18/Nov/2014 18:21 \"Google+ (Demis Bellot)\" &lt;<br><b>****</b>@<b>**</b>&gt; ha scritto:﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 12:33:05 PM\n(edited Nov 18, 2014, 12:51:48 PM)","shortDate":"Nov 18, 2014","textHtml":"It was a necessary refactor of internal methods to support async, there are no more threadstatics - the dialect provider is now attached to the connection/command.﻿"}],"date":"Nov 18, 2014, 8:49:14 AM","shortDate":"Nov 18, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>I've encountered a strange problem regarding the sessions... We use a custom auth provider that lays on SqlServer's session... it's registered at this way<br><br>public override void Configure(Funq.Container container)<br>{<br>&nbsp; &nbsp; container.Register&lt;IDbConnectionFactory&gt;(c =&gt; new OrmLiteConnectionFactory(ConfigurationManager.ConnectionStrings[\"default\"].ConnectionString, SqlServerDialect.Provider));<br>&nbsp; &nbsp; container.RegisterAs&lt;OrmLiteCacheClient, ICacheClient&gt;();<br>&nbsp; &nbsp; container.Resolve&lt;ICacheClient&gt;().InitSchema();<br><br>&nbsp; &nbsp; Plugins.Add(<br>&nbsp; &nbsp; &nbsp; &nbsp; new IdeaAuthFeature(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ConfigurationManager.ConnectionStrings[\"idea\"].ConnectionString,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; appSettings.Get(\"auth.slidingExpiration\", new TimeSpan(0,20,0))<br>&nbsp; &nbsp; &nbsp; &nbsp; )<br>&nbsp; &nbsp; );<br>}<br><br>The source code of the provider is shared here <a rel=\"nofollow\" target=\"_blank\" href=\"https://drive.google.com/file/d/0B6nPFuIuKHG1cDdfZ3pfRGpxMjg/view?usp=sharing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://drive.google.com/file/d/0B6nPFuIuKHG1cDdfZ3pfRGpxMjg/view?usp=sharing</a><br><br>Servicestack had created the CacheEntry table correctly and profiling the DB I've found that a sesson is beign ovewritten wrongly...<br><br>2014-11-13 12:33:15.360 &nbsp; &nbsp; &nbsp; &nbsp;exec sp_executesql N'INSERT INTO \"CacheEntry\" (\"Id\",\"Data\",\"ExpiryDate\",\"CreatedDate\",\"ModifiedDate\") VALUES (@Id,@Data,@ExpiryDate,@CreatedDate,@ModifiedDate)',N'@Id nvarchar(37),@Data nvarchar(1146),@ExpiryDate datetime,@CreatedDate datetime,@ModifiedDate datetime',@Id=N'urn:iauthsession:XgR7XAwsHwPmt35HIL8W',@Data=N'{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:98403,InstituteId:84,Ndg:000000001 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:XgR7XAwsHwPmt35HIL8W,UserAuthName:CC00145,UserName:CC00145,DisplayName:FRANCO NERI,CreatedAt:2014-11-13T11:33:16.1113157Z,LastModified:2014-11-13T11:33:16.1113157Z,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}',@ExpiryDate='2014-11-13 13:33:16.110',@CreatedDate='2014-11-13 11:33:16.110',@ModifiedDate='2014-11-13 11:33:16.110'<br><br>2014-11-13 12:33:15.363 &nbsp; &nbsp; &nbsp; &nbsp;UPDATE \"CacheEntry\" SET \"Data\"='{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:98403,InstituteId:84,Ndg:000000001 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:XgR7XAwsHwPmt35HIL8W,UserAuthName:CC00145,UserName:CC00145,DisplayName:FRANCO NERI,CreatedAt:2014-11-13T11:33:16.1113157Z,LastModified:2014-11-13T11:33:16.1113157Z,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}', \"ExpiryDate\"='20141113 13:33:16.111', \"ModifiedDate\"='20141113 11:33:16.111' WHERE (\"Id\" = 'urn:iauthsession:XgR7XAwsHwPmt35HIL8W')<br><br>2014-11-13 12:33:51.680 &nbsp; &nbsp; &nbsp; &nbsp;UPDATE \"CacheEntry\" SET \"Data\"='{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:98403,InstituteId:84,Ndg:000000001 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:XgR7XAwsHwPmt35HIL8W,UserAuthName:CC00145,UserName:CC00145,DisplayName:FRANCO NERI,CreatedAt:2014-11-13T12:33:16.1113157+01:00,LastModified:2014-11-13T12:33:16.1113157+01:00,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}', \"ExpiryDate\"='20141113 13:33:52.430', \"ModifiedDate\"='20141113 11:33:52.430' WHERE (\"Id\" = 'urn:iauthsession:XgR7XAwsHwPmt35HIL8W')<br><br>2014-11-13 12:35:19.767 &nbsp; &nbsp; &nbsp; &nbsp;UPDATE \"CacheEntry\" SET \"Data\"='{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:98403,InstituteId:84,Ndg:000000001 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:XgR7XAwsHwPmt35HIL8W,UserAuthName:CC00145,UserName:CC00145,DisplayName:FRANCO NERI,CreatedAt:2014-11-13T12:33:16.1113157+01:00,LastModified:2014-11-13T12:33:16.1113157+01:00,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}', \"ExpiryDate\"='20141113 13:35:20.530', \"ModifiedDate\"='20141113 11:35:20.530' WHERE (\"Id\" = 'urn:iauthsession:XgR7XAwsHwPmt35HIL8W')<br><br>2014-11-13 12:41:57.773 &nbsp; &nbsp; &nbsp; &nbsp;UPDATE \"CacheEntry\" SET \"Data\"='{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:142524,InstituteId:84,Ndg:000000002 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:npK6nhS3H78b8PDMO0DR,UserAuthName:ccp0587,UserName:ccp0587,DisplayName:MARIO ROSSI,CreatedAt:2014-11-13T11:41:58.5367722Z,LastModified:2014-11-13T11:41:58.5367722Z,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}', \"ExpiryDate\"='20141113 13:41:58.552', \"ModifiedDate\"='20141113 11:41:58.552' WHERE (\"Id\" = 'urn:iauthsession:npK6nhS3H78b8PDMO0DR')<br><br>2014-11-13 12:41:57.773 &nbsp; &nbsp; &nbsp; &nbsp;exec sp_executesql N'INSERT INTO \"CacheEntry\" (\"Id\",\"Data\",\"ExpiryDate\",\"CreatedDate\",\"ModifiedDate\") VALUES (@Id,@Data,@ExpiryDate,@CreatedDate,@ModifiedDate)',N'@Id nvarchar(37),@Data nvarchar(1146),@ExpiryDate datetime,@CreatedDate datetime,@ModifiedDate datetime',@Id=N'urn:iauthsession:npK6nhS3H78b8PDMO0DR',@Data=N'{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:142524,InstituteId:84,Ndg:000000002 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[],Id:npK6nhS3H78b8PDMO0DR,UserAuthName:ccp0587,UserName:ccp0587,DisplayName:MARIO ROSSI,CreatedAt:2014-11-13T11:41:58.5367722Z,LastModified:2014-11-13T11:41:58.5367722Z,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}',@ExpiryDate='2014-11-13 13:41:58.553',@CreatedDate='2014-11-13 11:41:58.553',@ModifiedDate='2014-11-13 11:41:58.553'<br><br><b>2014-11-13 12:43:52.397 &nbsp; &nbsp; &nbsp; &nbsp;UPDATE \"CacheEntry\" SET \"Data\"='{__type:\"IF.Auth.IdeaAuthUserSession, IF.Core\",UserId:98403,InstituteId:84,Ndg:000000001 &nbsp; &nbsp; &nbsp; ,ExtraParameters:[], Id:XgR7XAwsHwPmt35HIL8W,UserAuthName:CC00145,UserName:CC00145,DisplayName:FRANCO NERI,CreatedAt:2014-11-13T12:33:16.1113157+01:00,LastModified:2014-11-13T12:33:16.1113157+01:00,ProviderOAuthAccess:[],Roles:[Administrator,Reader],Permissions:[],IsAuthenticated:True,Tag:0}', \"ExpiryDate\"='20141113 13:43:53.161', \"ModifiedDate\"='20141113 11:43:53.161' WHERE (\"Id\" = 'urn:iauthsession:npK6nhS3H78b8PDMO0DR')</b><br><br>As you can see at<br><br>At 2014-11-13 12:33:15.360 &nbsp;the session of FRANCO NERI is inserted with Id = XgR7XAwsHwPmt35HIL8W.<br>At 2014-11-13 12:41:57.773 the session of MARIO ROSSI is inserted with Id = npK6nhS3H78b8PDMO0DR.<br><br>Updates are correct except the one &nbsp;where the session \"npK6nhS3H78b8PDMO0DR\" (Mario Rossi) &nbsp;is overwritted with the data of Franco Neri...<br><br>have you got any idea of why this happens?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 6:07:19 PM\n(edited Nov 17, 2014, 8:19:19 PM)","shortDate":"Nov 17, 2014","textHtml":"Nope, I can't make sense of it, and the source code you've given me isn't enough to reproduce it so I can only go off these 3 source files. What I don't understand is if you're using&nbsp;MemoryCacheClient and&nbsp;InMemoryAuthRepository (in your IdeaAuthFeature) why the cache is being saved to the database? On a side note I personally would be passing the same IDbConnectionFactory dependency into your IdeaAuthProvider instead of setting a connection string.<br><br>But I can't tell why it's using a different session id, it would be more useful if you could also log the HTTP Request Headers to see if the session id used matches up with the request.&nbsp;﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Nov 20, 2014, 10:47:18 AM","shortDate":"Nov 20, 2014","textHtml":"Hello Demis,<br>I've done some testing and I've removed the Sliding Expiration since it was one of the 2 points where the session was manipulated... today I got the same problem as the other day.... the strange thing is that the same&nbsp;iauthsession for 2 different clients.. not it seems that the same SQL connection has been reused by the ServiceStack factory... is this a possible issue?&nbsp;<br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 20, 2014, 7:47:11 PM","shortDate":"Nov 20, 2014","textHtml":"The same physical db connection can be reused when using connection pooling but this should be a transparent impl detail.<br><br>In addition to db logging can you log an instance of the session (which you can do with T.Dump() / T.PrintDump() ext methods) together with the SessionId (which you can get with IRequest.GetSessionId() ext method).&nbsp;﻿"}],"date":"Nov 17, 2014, 3:59:58 AM","shortDate":"Nov 17, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there!<br>I've been meaning to ask this question for while.<br><br>I am currently developing a site purely in <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> mv + ravendb and using service stack for text etc. I am now at a point where I need authentication. I'm also sparingly using angular js and few internal apis. Eventually, we'd be exposing more api's and using angular throughout the site. Is it still viable to use SS's authentication, caching features even though 90% of the site is controller/action based? My decision would be to go with service stack. What would you suggest? Anything that I need to keep in mind or watch out for?<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 12, 2014, 10:16:00 PM","shortDate":"Nov 12, 2014","textHtml":"Yep, sure you can use ServiceStack Authentication with MVC, checkout the live demo at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://mvc.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mvc.servicestack.net</a> and some supporting docs at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/ServiceStack-Integration\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/ServiceStack-Integration</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 12, 2014, 11:11:54 PM","shortDate":"Nov 12, 2014","textHtml":"Awesome! Looking forward to getting started with this. I'm currently using Ninject and I'm aware that I can use container adapter to make this work with Funq. Do you recommend that I completely use Funq since I'll have one less project to worry about? Definitely up to me, but I'm open to your opinion/suggestion.<br><br>Finally is it possible to use guid for userid? RavenDb allows to override the default behavior of using incremental integer as id. Will there be any issue within ServiceStack?<br><br>Thanks a lot!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 12, 2014, 11:45:51 PM\n(edited Nov 13, 2014, 12:01:18 AM)","shortDate":"Nov 12, 2014","textHtml":"I'm likely not the best person to ask as I consider heavy IOC's are an unnecessary complexity/dependency. Given that I've not needed anything more than Funq and make a point of using the min moving parts/deps - I personally wouldn't reference another IOC myself.<br><br>The RavenDbUserAuthRepository should take care of persisting UserAuth info, but it does use as int UserId. You can find the UserAuth POCO's that are used here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs</a> also see this answer for different ways they can be extended:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/11118747/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/11118747/85785</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Nov 13, 2014, 8:18:58 AM","shortDate":"Nov 13, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Wish more felt that way. &nbsp;Having been on teams with all sorts of IoC (Windsor, Unity, whatever), I prefer Funq. &nbsp;It's light, logical, and doesn't overstep what IoC should do.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 16, 2014, 11:50:04 PM","shortDate":"Nov 16, 2014","textHtml":"Following up about ways to extend UserAuth. I subclassed UserAuth to add to its schema. All is good since I can do the custom registration to create new accounts. However there are several places in RavenDbUserAuthRepository where concrete UserAuth is being used instead of IUserAuth. Perhaps its unavoidable at certain places to use the interface? This creates an issue. The first one is as follows:<br><br>Lets say I have CustomUser that subclasses UserAuth.<br>Ravendb index currently is based on type UserAuth and therefore &nbsp;GetUserAuthByUserName fails for CustomUser. I resolved using polymorphic index(using convention for subclasses) as documented in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ravendb.net/docs/article-page/2.5/Csharp/client-api/querying/polymorphism\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://ravendb.net/docs/article-page/2.5/Csharp/client-api/querying/polymorphism</a>.<br><br>So all is good for that particular situation.&nbsp;So I guess my question is if there are any particular tips/gotchas that I should be aware of while extending UserAuth while using RavenDb? Or do you recommend that I separate User as a different entity than UserAuth? My concern with the latter approach is that I'd have bits and pieces of data lying around in these two separate entities. I could definitely use UserAuth solely for auth purposes and put anything other than authentication properties to custom class.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 2:03:51 AM","shortDate":"Nov 17, 2014","textHtml":"Extending the UserAuth/UserAuthDetails tables is only supported in select UserAuth Repo's e.g.&nbsp;<br>The <b>*OrmLiteAuthRepository*</b> and <b>*RedisAuthRepository*</b> enable this with a specialized generic constructor:<br>&nbsp; &nbsp; OrmLiteAuthRepository&lt;TUserAuth, TUserAuthDetails&gt;<br>see: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Auth/OrmLiteAuthRepository.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Auth/OrmLiteAuthRepository.cs</a><br><br>The RavenDbUserAuthRepository doesn't have a specialized constructor that supports custom UserAuth/UserAuthDetails tables:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Authentication.RavenDb/RavenDbUserAuthRepository.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Authentication.RavenDb/RavenDbUserAuthRepository.cs</a><br><br>If you want I can try re-factor the RavenDb UserAuth Repo to support a similar generic constructor?<br><br>The other alternatives is to leave the concrete UserAuth/UserAuthDetails tables alone and store any additional metadata in the Meta Dictionary using the <b>*Get&lt;T&gt;*</b> and <b>*Set&lt;T&gt;*</b> API's or in separate tables/types that you have complete control over which can be linked back using the `RefId` or `RefIdStr` fields.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 2:30:18 AM","shortDate":"Nov 17, 2014","textHtml":"Thanks for the quick response. Ideally I think it would be nice to have a generic constructor as in&nbsp;OrmLiteAuthRepositor/RedisAuthRepository.But it might not be necessary if UserAuth didn't have concrete properties like city, state, mailing address etc. Besides the reason that not all application would need those properties, some of those properties don't apply in various scenarios. For example, there is no concept of state in some countries. Its a simple example but if UserAuth is to grow in future, there might be other additional properties that would just be there without being used. The dilemma is that if I were to use UserAuth(either by subclassing, using get, set or RefId), would in the future I will end up with lots of such unused properties.&nbsp;﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 2:40:10 AM","shortDate":"Nov 17, 2014","textHtml":"In addition to that, when I GetUserAuthByUserName, the whole document is brought back from the db. Surely this is great if I were calling this to display the entire object(and add them to session) but I probably would not want everything for authentication purposes? If authentication failed, its a waste, specially it the document was a bit bulky. I could definitely subclass&nbsp;GetUserAuthByUserName(if made virtual) &amp; have it just bring back minimum properties required for authentication. Again this would just be necessary if UserAuth were to be bulky in the future.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 2:45:33 AM\n(edited Nov 17, 2014, 3:57:37 AM)","shortDate":"Nov 17, 2014","textHtml":"It doesn't apply in all scenarios, but in order to support RDBMS tables fixed schemas we've have to preempt and add concrete fields that can be returned by the different OAuth providers. The UserAuth tables are effectively frozen since any changes will break existing RDBMS tables and would require a manual upgrade on each update, even when they're not being used. To mitigate this the UserAuth/UserAuthDetails POCO's include a fairly complete list of fields related to User Authentication as well as different extensibility options so additional metadata can be added or referenced.<br><br>The large number of fields isn't an issue in many NoSQL DB's since null fields are not serialized by default and so unused fields doesn't affect the payload. It may have an affect in RavenDB, but Authentication only needs to be done once so a little overhead is preferred to any additional configuration or code maintenance - which isn't noticeable when using OAuth since the latency of the redirects and manual approval would affect performance a lot more than &nbsp;additional fields would.&nbsp;﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 3:22:02 AM","shortDate":"Nov 17, 2014","textHtml":"I'm totally convinced with your comments regarding rdbms &amp; need for preempt fields. Also agree on overhead vs code maintenance! So I think making a generic repository for ravendb would definitely be helpful. And perhaps making the methods that make db calls virtual will be of greater use too. Even the index creation calls why you are at this? <br><br>Thanks a lot, I've to appreciate and be thankful that I'm learning a lot from ServiceStack and having discussions with you!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 3:59:54 AM","shortDate":"Nov 17, 2014","textHtml":"ok cool, I've just refactored RavenDB to support specialized constructors in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/a25769b8c7c4f65201400d180a9939fcba51b60e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/a25769b8c7c4f65201400d180a9939fcba51b60e</a><br><br>This change has also just finished deploying to MyGet, if you've already get the latest v4.0.34 of MyGet packages installed you'll need to clear your NuGet cache and delete your /packages folder to be able to pull down the updated v3.0.34 packages, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#redownloading-myget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#redownloading-myget-packages</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 9:58:12 PM","shortDate":"Nov 17, 2014","textHtml":"Looks like there's a little bug with OAuth provider after the above update:<br>- I create a user using generic ravendb constructor...RavenDbUserAuthRepository&lt;MyUserType, UserAuthDetails&gt; where MyUserType: UserAuth<br>- Login<br>- Sign up using facebook<br><br>This creates a UserAuthDetails document for facebook but everything is null except UserAuthId and Provider.<br><br>However everything is well If I do the same exact with generic constructor but with RavenDbUserAuthRepository&lt;UserAuth, UserAuthDetails&gt;.<br><br>Does FacebookAuthProvider need to be updated?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 11:28:56 PM\n(edited Nov 17, 2014, 11:35:31 PM)","shortDate":"Nov 17, 2014","textHtml":"I doubt this is specific to the Facebook Auth provider - I suspect it's an issue with using custom types in the RavenDb Auth Provider. Is there another doc type that's created, i.e.&nbsp;MyUserType or&nbsp;UserAuth?﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 18, 2014, 12:53:32 AM","shortDate":"Nov 18, 2014","textHtml":"With FacebookAuthProvider I get MyUserType and UserAuthDetails.<br><br>UserAuthDetails only has provider, UserAuthId, Items.access_token.<br><br>When I create a new account with facebookprovider, both UserAuthDetails and MyUserType are mostly null.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 4:03:22 AM","shortDate":"Nov 18, 2014","textHtml":"ok it looks like I missed a type in the latest refactor, fixed in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/1469b4c1285e518988834ac6b5cb2cd725bbe14a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/1469b4c1285e518988834ac6b5cb2cd725bbe14a</a><br><br>Which has now just finished deploying to MyGet, you'll need to clear NuGet pkgs again to pull latest version:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#redownloading-myget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#redownloading-myget-packages</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 18, 2014, 1:42:59 PM","shortDate":"Nov 18, 2014","textHtml":"Awesome. Works great! Is there an attribute to negate [Authenticate] attribute. i.e. I set the Authenticate attribute on the controller and then add something like AllowAnonymous on selected actions?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 1:48:00 PM\n(edited Nov 18, 2014, 3:18:15 PM)","shortDate":"Nov 18, 2014","textHtml":"You can't reverse the effects of a filter. Just move the anonymous operations into a different Service class without the [Authenticate] attribute, or alternatively to keep everything in the same class, only apply&nbsp;[Authenticate] on the operations (i.e. methods) that need it.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 18, 2014, 4:17:46 PM","shortDate":"Nov 18, 2014","textHtml":"Got it! Is there a way to get hold of AuthUserSession outside of controller or service?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 4:57:47 PM","shortDate":"Nov 18, 2014","textHtml":"The Session is tied to the Request (which it needs to retrieve the session ids in the request cookies). If you have an instance of http request (e.g. in filters) you can get the session with:<br><br>var session = httpReq.GetSession();<br><br>Otherwise pass it in from the Service to your dependency.<br><br>In <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> hosts you can access the current request with the static HttpContext accessor:<br><br>var httpReq = HttpContext.Current.Request.ToRequest();<br>var session = httpReq.GetSession();﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 18, 2014, 5:40:26 PM","shortDate":"Nov 18, 2014","textHtml":"Perfect! Thank you.﻿"}],"date":"Nov 12, 2014, 9:00:26 PM","shortDate":"Nov 12, 2014"},{"userId":"109472812508027296154","userName":"David A. Sjøen","textHtml":"I can't find any information on the licensing of SocialBootstrapApi and other example projects. What license are they released under?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 7, 2014, 1:06:10 PM","shortDate":"Nov 7, 2014","textHtml":"It's not under any license, but you can freely use them as you wish.﻿"},{"userId":"109472812508027296154","userName":"David A. Sjøen","date":"Nov 7, 2014, 1:08:40 PM","shortDate":"Nov 7, 2014","textHtml":"Thanks!﻿"}],"date":"Nov 7, 2014, 2:14:38 AM","shortDate":"Nov 7, 2014"},{"userId":"101547676592938843776","userName":"Michael Hanney","textHtml":"Is there a way to make the redirects in the Auth provider always be HTTPS?&nbsp;<br><br>For website logins I am using ServiceStack's Authentication feature with the Authenticate attribute, the CredentialsAuthProvider and the UserAuth repository. It is working great, however, in production we put all IIS hosts behind a loadbalancer that serves only HTTPS by design (forwarding all requests on port 443 to port 80 on the IIS instances). This creates a problem - the Authenticate attribute redirects to the login page on HTTP port 80 only (I think because it sees only the proxied request Url, not the original). This results in a failed request in the browser because the load balancer does not do HTTP and does not redirect HTTP requests to HTTPS. We cannot configure IIS to also be HTTPS only.<br><br>Is there a way to make the redirects in the Auth provider always be HTTPS? Or, can the Auth provider look at the HTTP headers for the X-Forwarded-Proto to see that the login page request should be over HTTPS?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 2:41:16 PM\n(edited Nov 6, 2014, 2:41:34 PM)","shortDate":"Nov 6, 2014","textHtml":"Some of the OAuth urls are specified in the configuration:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#oauth-configuration\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#oauth-configuration</a><br><br>For other autogenerated Urls you can set it to use https:<br>SetConfig(new HostConfig {&nbsp;<br>&nbsp; &nbsp;&nbsp;UseHttpsLinks = true<br>});<br><br>Which should modify the BaseUrl used in the latest v4.0.33 release.<br><br>You can also override `AppHost.&nbsp;ResolveAbsoluteUrl` method to introspect/customize urls.﻿"},{"userId":"101547676592938843776","userName":"Michael Hanney","date":"Nov 6, 2014, 3:49:02 PM","shortDate":"Nov 6, 2014","textHtml":"Thank you Demis, this override of&nbsp;AppHost.ResolveAbsoluteUrl works great in production and dev!<br><br>public override string ResolveAbsoluteUrl(string virtualPath, IRequest httpReq)<br>{<br>&nbsp; &nbsp; virtualPath = virtualPath.SanitizedVirtualPath();<br>&nbsp; &nbsp; var absoluteUrl = httpReq.GetAbsoluteUrl(virtualPath);<br><br>&nbsp; &nbsp; return httpReq.Headers[\"X-Forwarded-Proto\"] != null<br>&nbsp; &nbsp; &nbsp; &nbsp; &amp;&amp; httpReq.Headers[\"X-Forwarded-Proto\"].Equals(\"https\", StringComparison.InvariantCultureIgnoreCase)<br>&nbsp; &nbsp; &nbsp; &nbsp; ? absoluteUrl.Replace(\"http://\", \"https://\") : absoluteUrl;<br>}﻿"}],"date":"Nov 6, 2014, 2:35:01 PM","shortDate":"Nov 6, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"What's the best way to render the HTML output of a service inside a Razor page?<br><br>I'm looking for something similar to MVC's RenderAction.<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 10:18:12 AM","shortDate":"Nov 6, 2014","textHtml":"There's an example here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/22515261/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/22515261/85785</a>﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 6, 2014, 11:35:01 AM","shortDate":"Nov 6, 2014","textHtml":"Hi Demis, in this case they're rendering a ViewPage.<br><br>I need to resolve a service instead and render its html output.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 11:39:11 AM","shortDate":"Nov 6, 2014","textHtml":"That was an example of rendering a view page? Can I get you to ask a question on StackOverflow detailing what views/src you have and what you're trying to do?﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 6, 2014, 11:52:04 AM","shortDate":"Nov 6, 2014","textHtml":"I'm sorry if I wasn't clear.&nbsp;<br><br>There is a question in SO already about how to render the output of a service inside a view:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/15028447/servicestack-razor-html-renderaction-equivalent\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/15028447/servicestack-razor-html-renderaction-equivalent</a><br><br>Can you answer there? Or should I create a new one?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 12:21:40 PM","shortDate":"Nov 6, 2014","textHtml":"I'll work on creating a test for this, but it looks like you should just be able to call a service and pass the response in, e.g:&nbsp;<br>@{&nbsp;var response = svc.Get(new Request()); }<br>@Html.Partial(\"View\", response)﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 6, 2014, 12:27:28 PM","shortDate":"Nov 6, 2014","textHtml":"Thank you﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 8, 2014, 8:02:39 PM","shortDate":"Nov 8, 2014","textHtml":"Hi Carlos I've added a new RenderToAction method to v4.0.34 that's now on <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a> and added some examples to the StackOverflow answer, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/26823819/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/26823819/85785</a>﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 9, 2014, 4:13:37 PM","shortDate":"Nov 9, 2014","textHtml":"Thank you Demis!﻿"}],"date":"Nov 6, 2014, 6:54:01 AM","shortDate":"Nov 6, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"Hi Demis,<br>is there a way in ServiceStack to &nbsp;slide session expiration? I've seen the solution suggested here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/14857921/how-to-advance-the-session-timeout-in-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/14857921/how-to-advance-the-session-timeout-in-servicestack</a> but I was wondering if there is something built-in in the recent releases.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 5, 2014, 11:42:14 AM\n(edited Nov 5, 2014, 11:44:13 AM)","shortDate":"Nov 5, 2014","textHtml":"Everytime you save the Session it automatically saves it with the ExpiryTime set in the first AuthProvider.SessionExpiry or<br>&nbsp;`SessionFeature.DefaultSessionExpiry`.<br><br>Dan wrote about another solution using a ResponseFilter Attribute instead:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://teadriven.me.uk/2013/02/14/sliding-sessions-in-service-stack/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://teadriven.me.uk/2013/02/14/sliding-sessions-in-service-stack/</a><br><br>This is not something SS could optimize, i.e. any solution in ServiceStack would need to do the same thing under the hood, and if SS did it implicitly, it'd be hard to know when or control how many times SS touches the session for this.<br><br>BTW what ICacheClient provider are you using?﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Nov 5, 2014, 11:44:18 AM","shortDate":"Nov 5, 2014","textHtml":"Redis, so I'll follow your suggestion of manually updating the expiry timeout without re-reading the entry.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 5, 2014, 11:45:29 AM","shortDate":"Nov 5, 2014","textHtml":"yep IMO that's the best approach. Note you can get the session cache key with:<br><br>var sessionKey = SessionFeature.GetSessionKey(httpReq.GetSessionId());﻿"}],"date":"Nov 5, 2014, 11:17:17 AM","shortDate":"Nov 5, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I've got a problem ... I've the following class<br><br>&nbsp;[DataContract]<br>&nbsp; &nbsp; public class UpdatePositionsRequest : IReturnVoid<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public List&lt;Position&gt; Positions { get; set; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; [DataContract]<br>&nbsp; &nbsp; public class Position<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? Quantity { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? Price { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? Accrual { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? ExchangeRate { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? CarryingPrice { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public decimal? CarryingExchangeRate { get; set; }<br>&nbsp; &nbsp; }<br><br>but when I receive the following request<br><br>{<br>&nbsp; &nbsp; \"carryingExchangeRate\" : 1,<br>&nbsp; &nbsp; \"carryingPrice\" : 0E-7,<br>&nbsp; &nbsp; \"exchangeRate\" : 1,<br>&nbsp; &nbsp; \"quantity\" : 4039.346000,<br>&nbsp; &nbsp; \"price\" : 0E-7,<br>&nbsp; }<br><br>I got null value con carryingPrice and price ... how can I threath them?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 10:02:36 AM","shortDate":"Nov 4, 2014","textHtml":"I suspect the problem is either the JSON doesn't match what the Service expects which based on the DTO should be something like:<br>{\"Positions\":[{\"carryingPrice\":1,...}]}<br><br>Or the values you're trying to send aren't valid decimals.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Nov 7, 2014, 9:07:18 AM","shortDate":"Nov 7, 2014","textHtml":"Actually the only part of the object that is not correctly deserialized is the \" 0E-7\".<br>Sorry if the example i provided i missed to include the square parentheses.<br><br>Probably this format is not supported by ServiceStack deserializer but it's part of the JSON standard so far.<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.json.org/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.json.org/</a><br><br>Is there a chance that it's going to be supported?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Nov 7, 2014, 9:12:18 AM","shortDate":"Nov 7, 2014","textHtml":"Demis if I use double it works...what's wrong?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 7, 2014, 12:22:47 PM","shortDate":"Nov 7, 2014","textHtml":"double holds a much larger range of floating point numbers than decimal.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Nov 7, 2014, 12:31:35 PM","shortDate":"Nov 7, 2014","textHtml":"Ok built it also won't work with 1e-2﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 7, 2014, 12:39:54 PM","shortDate":"Nov 7, 2014","textHtml":"the built-in double.Parse/decimal.Parse is what does the parsing, if it doesn't work it's not supported by that data type.﻿"}],"date":"Nov 4, 2014, 4:15:49 AM","shortDate":"Nov 4, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Anyone ever run into a scenario where no operations were available? &nbsp;I'm in the middle of a \"lunch and learn\" where my goal was to show off SS. &nbsp;After creating the most basic solution structure, with two services, nothing is available. &nbsp;I've rebuilt the solution from scrach... TWICE... and checked every StackOverflow article I can find. &nbsp;No success. &nbsp;I'd absolutely love an extra set of eyes.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 30, 2014, 3:03:47 PM","shortDate":"Oct 30, 2014","textHtml":"Maybe you have a startup exception? Can you check if `?debug=requestinfo` shows any Startup errors?<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Oct 30, 2014, 3:42:29 PM","shortDate":"Oct 30, 2014","textHtml":"Yeah, tried that. &nbsp;No exceptions. &nbsp;:(﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 30, 2014, 3:52:27 PM","shortDate":"Oct 30, 2014","textHtml":"The issue is because your AccountService didn't inherit Service base class, e.g:<br><br>public class AccountService : Service { ... }﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Oct 30, 2014, 3:53:50 PM","shortDate":"Oct 30, 2014","textHtml":"No. &nbsp;Friggin. &nbsp;Way. &nbsp;Are you serious!?!?! &nbsp;OMG. &nbsp;How humiliating.﻿"}],"date":"Oct 30, 2014, 2:59:29 PM","shortDate":"Oct 30, 2014"},{"userId":"115683278813749836094","userName":"Daniel Halan","textHtml":"Service Response: HTTP 400/500 -&gt; Result DTO not returned correctly.<br>When Setting&nbsp;base.Response.StatusCode to 400 and above, or throwing new HttpError(respDTO, 500...) the Response Body is not returning the DTO provided, but always a {\"status\":0} -object.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 4:08:22 AM","shortDate":"Oct 26, 2014","textHtml":"Hi Dan, I've improved custom HttpError Response handling in this commit and added tests to show the behavior of each:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d87326be04e4af48d10c27166439b5b9135519d8\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d87326be04e4af48d10c27166439b5b9135519d8</a><br><br>Note: as the tests above show when throwing a HttpError only the ResponseStatus of the DTO is preserved (which is what's passed into Error filters, gets injected with StackTrace when enabled, etc).<br><br>Setting the ErrorCode on the Response and returning a DTO will serialize the entire DTO.<br><br>This change is now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Oct 26, 2014, 1:26:52 PM","shortDate":"Oct 26, 2014","textHtml":"Ok, just to clarify the scenario,&nbsp;<br>+ On Error,<br>- Send a non-200 Status Code + Status&nbsp;Message&nbsp;<br>- Send custom-Json object with detailed info in body, such as<br>{ status: 422, error: { code: 20, message: \"Invalid parameter xxx\" } }<br><br>Should setting the Response.DTO or HttpError() work as this?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 2:59:47 PM\n(edited Oct 26, 2014, 3:04:16 PM)","shortDate":"Oct 26, 2014","textHtml":"No, if you're throwing a HttpError with a DTO only the ResponseStatus property of the DTO is preserved (and gets processed in any registered Error handlers). This is what I tried to say in the previous comment - check the new tests added in the commit which illustrates this behavior. (i.e. `Custom` property is empty when thrown in HttpError but populated when returned as a DTO).﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Oct 28, 2014, 1:48:05 AM","shortDate":"Oct 28, 2014","textHtml":"If I understand correctly,<br>a) throwing HttpError = DTO not preserved,<br>b) Setting Response.StatusCode, StatusDescription&nbsp;+ Response.Dto = DTO should be preserved﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 1:54:36 AM","shortDate":"Oct 28, 2014","textHtml":"a) just the ResponseStatus of the DTO is preserved<br>b) yep﻿"}],"date":"Oct 26, 2014, 12:04:44 AM\n(edited Oct 26, 2014, 12:05:33 AM)","shortDate":"Oct 26, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Excuse me anyone shares a DLL between WPF and Web using it for DTO Repository? Do I have to use a PCL class library?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 23, 2014, 5:25:01 AM","shortDate":"Oct 23, 2014","textHtml":"WPF and <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> both use the full .NET framework so you can use the normal .NET .dlls.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Oct 23, 2014, 5:28:46 AM","shortDate":"Oct 23, 2014","textHtml":"I've tried but when I add the class to the wpf I got a yellow warning on referenxe﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"Oct 23, 2014, 5:39:44 AM","shortDate":"Oct 23, 2014","textHtml":"The yellow warning usually indicates that the source project targets a different version of the .NET framework than the target project, i.e. your DTO project could be set to target framework 4.5.2 while the WPF project could be targeting 4.5.1. Check the target framework settings in each of the projects and make sure they align.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Oct 23, 2014, 5:43:11 AM","shortDate":"Oct 23, 2014","textHtml":"That was! It was pointing to 4.5 on the Dto and 4.0 on fw...Thanks! ﻿"}],"date":"Oct 23, 2014, 4:13:51 AM","shortDate":"Oct 23, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"WWDD? &nbsp;Anyone using GUIDs as PKs? &nbsp;Doing it with SS and code-first? &nbsp;Are you using anything to prevent the PK from being clustered? &nbsp;I have a requirement to ensure all IDs for DTOs are GUIDs. &nbsp;Contemplating whether or not to create a separate field / column for the GUID and using a long for the PK (kinda messy).﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Oct 22, 2014, 5:08:40 PM","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span>&nbsp;I only use Guids in my DTOs and it works great throughout SS. Only caveat I've ran into is defining the Id as a Guid? (Nullable Guid) for DTOs used in a GET url call since it can be optional.&nbsp;<br><br>Also note that I'm not using SS.ORMLite and instead I'm using NHibernate.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 5:13:05 PM\n(edited Oct 22, 2014, 5:13:17 PM)","shortDate":"Oct 22, 2014","textHtml":"There's an [Index(Clustered=false)] attribute for normal indexes. You can use Guid as PKs, and OrmLite doesn't emit anything to prevent Primary Keys from being clustered.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Oct 22, 2014, 5:14:05 PM","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Thanks, but you forgot the WWDD portion (what would Demis do?). &nbsp;:P﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 5:28:06 PM","shortDate":"Oct 22, 2014","textHtml":"I'll only use Guids when absolutely needed as integer ids are easier to remember and more readable (e.g. on urls). If I only need it adhoc (i.e. for a few tables) I'd add a separate column called GlobalId, if it was a requirement that it's on every table I'd add it as the PK.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Oct 22, 2014, 5:51:44 PM","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;But Guids make it easier for migrating data. ;-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 6:00:29 PM","shortDate":"Oct 22, 2014","textHtml":"Right, also suitable when multiple disconnected systems need to produce unique Id's where these datasets are merged and referenced together in an external system. Tho even in this case I'd still prefer to use urns. IMO Guid Id's should be the exception, I personally wouldn't expose them in user-facing systems e.g. Order/Invoice/Quote Ids.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Oct 23, 2014, 4:48:39 AM\n(edited Oct 23, 2014, 4:49:33 AM)","shortDate":"Oct 23, 2014","textHtml":"I also try to avoid using GUIDS as primary keys, simply because of the wasted space in the storage engine. There's a good stack overflow answer on this matter:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/11938495/1662254\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/11938495/1662254</a><br><br>Also, I'm suspecting that joining tables based off guids must be computationally harder for the server, as it's comparing 128bit values (or even worse: strings, depending on the storage strategy) rather than 32bit or 64bit values - I have no performance bencmarks proving this, it's just a hunch :)﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Oct 23, 2014, 5:07:41 AM","shortDate":"Oct 23, 2014","textHtml":"And a really great article on issues with GUIDs as the PK:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.sqlskills.com/blogs/kimberly/disk-space-is-cheap/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.sqlskills.com/blogs/kimberly/disk-space-is-cheap/</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 23, 2014, 5:05:59 PM","shortDate":"Oct 23, 2014","textHtml":"I have actively moved away from GUIDs as a PK whenever possible, mainly because of the visibility and troubleshooting element. &nbsp;Using a lot of rest services, it was just simpler for cross referencing. &nbsp;That being said, a review was first done to ensure that \"data from site A\" would not need to be merged with \"data from site B\" into single tables.<br><br>If need for export/import of data is required, then yeah, GUIDs make that easier without having to do on-import int/long gymnastics.<br><br>In many of my items, a particular use case requires fetching by a human friendly \"code\", that allows you to delete/create new (or rename) and still work.<br><br>Troubleshooting-wise, GUIDs in a previous version became cumbersome to follow along the paths..﻿"}],"date":"Oct 22, 2014, 4:34:07 PM","shortDate":"Oct 22, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"I'd like to implement JSON Vulnerability Protection for angularjs as described in&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://docs.angularjs.org/api/ng/service/$http\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://docs.angularjs.org/api/ng/service/$http</a>&nbsp;<br><br>Simply adding&nbsp;\")]}',\\n\" in front of JSON response.<br><br>What is the best solution to achieve this result? Is this really needed?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 20, 2014, 8:24:03 PM\n(edited Oct 21, 2014, 2:42:53 AM)","shortDate":"Oct 20, 2014","textHtml":"You can add a global response filter to prefix it before all JSON responses with:<br><br>this.GlobalResponseFilters.Add((req, res, dto) =&gt;<br>{<br>&nbsp; &nbsp; if (req.ResponseContentType.MatchesContentType(MimeTypes.Json) &amp;&amp; !(dto is IHttpResult))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; res.Write(\")]}',\\n\");<br>&nbsp; &nbsp; }<br>});﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Oct 21, 2014, 2:20:47 AM","shortDate":"Oct 21, 2014","textHtml":"+1 as always Demis!<br>BTW Instead of Matches I've MatchesContentType as extension.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 21, 2014, 2:42:21 AM","shortDate":"Oct 21, 2014","textHtml":"Ahh, yeah that's actually what I meant to use, updated.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Oct 21, 2014, 5:08:43 AM","shortDate":"Oct 21, 2014","textHtml":"Ivan, I am also intersted in this area, but didnt really understand the need for this tactic, even as recommended by angularjs.<br>Could you explain why you decided to apply this solution, so we can learn what you learned about it why we should apply thsi kind of solution.<br>﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Oct 23, 2014, 12:40:31 AM","shortDate":"Oct 23, 2014","textHtml":"Hi Jeff, it is explained very well here: <a rel=\"nofollow\" target=\"_blank\" href=\"http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx/</a><br><br>to make it short you have to be sure that response of your service is an invalid javascript statement﻿"}],"date":"Oct 20, 2014, 8:16:56 PM","shortDate":"Oct 20, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, when I use the DbConnection \"Db\" of the Service so I have to dispose it? or ServiceStack will handle this automatically?<br>Thanks﻿","comments":[{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Oct 16, 2014, 10:22:57 AM","shortDate":"Oct 16, 2014","textHtml":"Hi Paolo,<br><br>the connection is automatically disposed:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Service.cs#L151\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Service.cs#L151</a>﻿"}],"date":"Oct 16, 2014, 10:11:52 AM","shortDate":"Oct 16, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"ServiceStack vs RemObjects<br><br>I have been using ServiceStack on all new .net projects. Another developer who is older and has been at the company longer is trying to push RemObjects in replace of ServiceStack.&nbsp;<br><br>Do you have a comparison of these 2 frameworks? I want to keep ServiceStack.<br><br>I know that RemObjects is not message based, but rather RPC based.<br><br>The other developer is a Delphi developer who recently learned C#. His app is Delphi using RemObjects and there is talk about converting his product to .NET and now you see.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 14, 2014, 1:19:07 PM\n(edited Oct 14, 2014, 1:20:20 PM)","shortDate":"Oct 14, 2014","textHtml":"Sorry Bruce, never heard of RemObjects service framework, just had a quick scan of the website and am still not 100% sure of what it does or how it works. If it's RPC based, it's going to suffer a lot of the limitations of existing RPC service frameworks like WCF, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.infoq.com/articles/interview-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.infoq.com/articles/interview-servicestack</a><br><br>With ServiceStack's message-based approach we can maximize the accessibility of your Service, i.e. it can be consumed from REST/HTTP with any of the different formats: JSON/XML/JSV/CSV/HTML/MsgPack/ProtoBuf as well as SOAP and MQ Clients.<br><br>It also includes rich metadata services describing your Service Contract in the metadata pages/XSD/WSDLs, Swagger UI and Postman client.<br><br>The new Add ServiceStack Reference feature provides a typed API for C# and F# clients (<a rel=\"nofollow\" target=\"_blank\" href=\"http://VB.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VB.NET</a>'s available next release) using just a url (i.e. has same UX as WCF's Add Service Reference) but even better because it only needs to generate the DTO's which can be used in any of ServiceStack's generic Service Clients (JSON/XML/JSV/MsgPack/ProtoBuf/etc), and since the Service Clients have PCL support they can be used on popular mobile platforms:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HelloMobile\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HelloMobile</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Oct 14, 2014, 1:25:23 PM","shortDate":"Oct 14, 2014","textHtml":"I looked at the site as well and it was confusing to determine exactly what they do. Seems they are all over the place. I do believe they are RPC based and I agree with you 100% Thanks for the input.﻿"}],"date":"Oct 14, 2014, 10:10:03 AM","shortDate":"Oct 14, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Is there any problem or&nbsp; is it good practice&nbsp; to use&nbsp; for&nbsp; services URI , listening on&nbsp; the :PORT/CustomPath/&nbsp; ?&nbsp; the service route is following.&nbsp; I have used it , running production and debug versions in parallel&nbsp;&nbsp; in the same port&nbsp; and&nbsp; it seems to me&nbsp; helpful, a flexible way,&nbsp; to organize&nbsp; services.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 9, 2014, 10:37:35 PM","shortDate":"Oct 9, 2014","textHtml":"It's supported, tho one of the benefits of hosting on `*:port/ ` is that your relative url's are from root `/` which is more portable when deploying to hosts which also serve from root.﻿"}],"date":"Oct 9, 2014, 9:14:49 PM\n(edited Oct 9, 2014, 9:46:21 PM)","shortDate":"Oct 9, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Interesting. &nbsp;I wonder if there is a problem with the NuGet references in v4.0.31.0. &nbsp;After running a \"Package-Update\" today, I started receiving the following exception:<br><br>Method 'Execute' in type 'ServiceStack.Host.ServiceController' from assembly 'ServiceStack, Version=4.0.31.0, Culture=neutral, PublicKeyToken=null' does not have an implementation.﻿<br><br>The ServiceStack assembly was not updated from the \"Update-Package\" command. &nbsp;It always worked previously. &nbsp;I've never specifically installed ServiceStack into a project alone / without another package (ie ServiceStack.Server, etc.). &nbsp;This was resolved by removing the reference and specifically installing ServiceStack by itself.﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Oct 8, 2014, 9:23:24 AM","shortDate":"Oct 8, 2014","textHtml":"Sounds like a stale/older version of the dll might have been getting in the way. If it happens again with another project, try clearing out your nuget cache.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache</a>﻿"}],"date":"Oct 8, 2014, 9:20:54 AM","shortDate":"Oct 8, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Question about loading AuthUserSessions from a Db.&nbsp;I want to persist sessions between application restarts, and I cannot change the CacheClient from MemoryCache for different reasons.<br><br>Right now I have a custom auth provider doing minor stuff on authenticate (loading roles, etc) and also does a Db.Save&lt;CustomAuthSession&gt;(). &nbsp;On application start, I do a ResolveService&lt;CustomSessionService&gt; and trigger a Reload. &nbsp;Loads sessions from db, check expiration, and then do a IsAuthenticated = true and this.SaveSession( ).<br><br>This doesn't seem to work if I load the sessions automatically on startup (after the apphost.start). &nbsp;But, if I trigger the reload request via &nbsp;Chrome once it's running (/api/reloadsessions), then it works.<br><br>I think it's something related to SessionBag being null at first. &nbsp;Odd.<br><br>Any tips?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 5, 2014, 2:30:21 PM\n(edited Oct 5, 2014, 3:29:01 PM)","shortDate":"Oct 5, 2014","textHtml":"Resolving a Service outside the context of a Request (i.e. on AppStart) is the same as resolving an instance from the IOC (which is all its doing). The `base.Request` context will be empty, which is what contains the Session Cookies which are ids that identify the Session for the Request. Without the Cookies you have no way of knowing what Session to use.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 7, 2014, 6:05:44 AM","shortDate":"Oct 7, 2014","textHtml":"So where do I store/load saved sessions on startup ... or alternatively (and probably better), how to intercept the RedirectIfNotAuthenticated call in Razor pages so that only on-demand, I can query for saved sessions, and load if match is found?<br><br>Can I do this through the AppHost ?<br><br>thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 7, 2014, 12:19:51 PM\n(edited Oct 7, 2014, 12:21:16 PM)","shortDate":"Oct 7, 2014","textHtml":"I'm not sure what you mean by loading sessions, are you talking about a particular session or all of them? The supported way sessions persist across across AppDomain restarts is to use a distributed cache which you've mentioned you can't do. If you're trying an alternative approach I'd like to see the code you're using to see if it's a viable solution or not. Are you just trying to pre-populate the MemoryCacheClient from an external source? If so you shouldn't need access to the Request Context for that. As for `RedirectIfNotAuthenticated` it's just an API that gets explicitly called, if you want to intercept it just call your wrapper method which does any post or pre processing?&nbsp;﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 8, 2014, 11:49:54 AM","shortDate":"Oct 8, 2014","textHtml":"I found what the issue is. &nbsp;In the CredentialsAuthProvider, at the time of&nbsp;OnAuthenticated the ss-id is not yet known (if it is I can't find it) and only the ss-pid is known. &nbsp;I am saving to Db the session, but its Id is the \"pid\".<br><br>Rather than reload all on startup, I tried altering my login page to test. &nbsp;If there are both PID &amp; ID cookie, trigger a service that finds a session by pid and if so, replace the Id of the session to the ss-id value, then do a SaveSession( &nbsp;). &nbsp;Then the IsAuthenticated works.<br><br>Should be able to get this to work. &nbsp;Thanks.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 8, 2014, 2:01:59 PM","shortDate":"Oct 8, 2014","textHtml":"Interesting: &nbsp;I call RedirectIfNotAuthenticated from a public void method in my own abstract ViewPage, that inherits the Razor.ViewPage, and throws exception.<br><br>I presume it is related to execution flow being interrupted to a new page and the method doesn't return. &nbsp;Safe to ignore?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 8, 2014, 2:07:58 PM","shortDate":"Oct 8, 2014","textHtml":"Yeah it'll throw a `StopExecutionException()` which is what you can throw to prevent further execution of the Razor page. You can let it bubble/ or rethrow it.﻿"}],"date":"Oct 5, 2014, 1:53:09 PM","shortDate":"Oct 5, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"Using credendtials auth on a self hosted app on ubuntu works first time it is requested but the 2nd time this happens:<br><br>at System.Net.HttpListenerResponse.AddHeader (System.String name, System.String value) [0x00000] in &lt;filename unknown&gt;:0 at ServiceStack.Host.HttpListener.ListenerResponse.AddHeader (System.String name, System.String value) [0x00000] in &lt;filename unknown&gt;:0 at ServiceStack.HttpResponseExtensionsInternal.WriteToResponse (IResponse response, System.Object result, ServiceStack.Web.ResponseSerializerDelegate defaultAction, IRequest request, System.Byte[] bodyPrefix, System.Byte[] bodySuffix) [0x00000] in &lt;filename unknown&gt;:0<br><br>has anyone seen this before?﻿","comments":[],"date":"Oct 3, 2014, 5:47:17 AM","shortDate":"Oct 3, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I've created my own ILog and ILogFactory.<br><br>The LogEngine: ILog -&gt; Saves logs to 3 places. I know. 2 of which I have being configured in the Factory when it creates a ILog instance.<br>However, the 3rd is dynamic based on who is logged in and I need to read base.SessionAs&lt;CustomUserSession&gt;() &nbsp;within the factory dynamically to accomplish switching logging location context.<br><br>When I call.<br>var log = LogManager.GetLogger(System.Reflection.MethodBase.GetCurrentMethod().DeclaringType);<br><br>2 of logging methods are setup as the Factory does it; These 2 are the same for all users.<br><br>CO-Mingling of data is the issue. We aren't able to co mingle log data.<br><br>Suggestions?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 29, 2014, 11:50:54 AM","shortDate":"Sep 29, 2014","textHtml":"I don't understand what the question is?﻿"}],"date":"Sep 29, 2014, 11:30:34 AM","shortDate":"Sep 29, 2014"},{"userId":"116458944481004703771","userName":"Nick Karnik","textHtml":"I need clarification on the /auth/credentials call. A user logs in successfully and closes the browser. Then, the user comes back to the app and is presented with the login screen. If there's an existing session present on the database (and a cookie on the client), the user can login simply by entering their login name and junk password.<br><br>Why does it behave that way? Is there a setting I need to make? Ideally, I want to take advantage of the \"remember me\" feature by storing a cookie. However, if the user happens to come across a login page, I want them to enter the correct credentials.<br><br>What should I be checking in the return value to distinguish between a correct login vs. incorrect? Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 28, 2014, 10:51:24 PM","shortDate":"Sep 28, 2014","textHtml":"It short-circuits if the Login already matches the authenticated session. You can change this by Logging out or clearing the session when loading the Login Page.<br><br>If logging out first, you can change the redirect url, i.e. you can logout and redirect to the /login page with `/auth/logout?continue=/login` other options to redirect are mentioned at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25227684/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25227684/85785</a><br><br>Otherwise you can clear the session with the `RemoveSession()` extension method on the `IRequest` or `Service` types.﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Sep 29, 2014, 1:50:01 PM","shortDate":"Sep 29, 2014","textHtml":"Thanks for the clarification and pointers.﻿"}],"date":"Sep 28, 2014, 9:25:52 PM","shortDate":"Sep 28, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there a HttpContext.Current equivalent &nbsp;when self hosting?&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 23, 2014, 9:59:37 AM","shortDate":"Sep 23, 2014","textHtml":"There isn't, no.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 23, 2014, 10:19:18 AM","shortDate":"Sep 23, 2014","textHtml":"Ok thanks﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 24, 2014, 10:56:17 AM","shortDate":"Sep 24, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Maybe explaining why I was trying to get this will give you some other ideas I could take... I need to change the connection string (in nhibernate) based on which tenant a user belongs too (think 1 tenant = 1 db user). I store this on the the AuthSession and I need to get this within my overridden&nbsp;DriverConnectionProvider (a nhibernate concept).<br><br>Also this isn't by no means urgent. Right now my setup is web hosted, but I'm trying to plan for the future if we decide to go with self hosted.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 24, 2014, 11:06:46 AM","shortDate":"Sep 24, 2014","textHtml":"You might be able to use the static `RequestContext.Items` dictionary for storing per-request metadata.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 24, 2014, 11:08:35 AM","shortDate":"Sep 24, 2014","textHtml":"Ohh good idea. I'll look into that. Thanks Demis!﻿"}],"date":"Sep 22, 2014, 10:08:36 PM","shortDate":"Sep 22, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"When using the&nbsp;Request.ToOptimizedResultUsingCache in a service that renders a razor view I get 3 keys in Redis:<br><br>cachekeyname<br>cachekeyname.html<br><br>Apparently the first two keys are relative to the JSON and HTML results being cached. Is there a way just to cache the html?<br><br>cachekeyname.html.deflate<br><br>Could someone explain what this third cache key is about?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 20, 2014, 5:21:06 PM\n(edited Sep 20, 2014, 5:22:37 PM)","shortDate":"Sep 20, 2014","textHtml":"its contains the compressed (deflated) version of the serialized content-type response. Most browsers accept deflate so it will usually return the optimized deflated version of the response when it exists.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Sep 20, 2014, 5:30:52 PM","shortDate":"Sep 20, 2014","textHtml":"Thank you Demis.&nbsp;Is there a way to cache just the html?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 20, 2014, 5:57:22 PM\n(edited Sep 20, 2014, 6:19:16 PM)","shortDate":"Sep 20, 2014","textHtml":"Nope. Don't see why that'd be preferred, the compressed version is even smaller and faster than the original content and gzip/deflate is built into HTTP making it a transparent detail that most HTTP tools auto-decode by default.﻿"}],"date":"Sep 20, 2014, 5:03:41 PM","shortDate":"Sep 20, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I am throwing a ValidationException or at least the Authenticate provider is throwing it. However, the try catch block catching WebServiceException never gets called. It's always a normal Exception and I can never catch the validation exception.<br><br>Very strange.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using (var authService = ResolveService&lt;AuthenticateService&gt;())<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response =<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; authService.Authenticate(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new Authenticate<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; provider = CredentialsAuthProvider.Name,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName = txtUserName.Text,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password = txtPassword.Text,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RememberMe = false,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // add <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> auth cookie<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FormsAuthentication.SetAuthCookie(txtUserName.Text, true);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (WebServiceException ex)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>// never will get called.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 17, 2014, 3:50:11 PM","shortDate":"Sep 17, 2014","textHtml":"It's only a WebServiceException on the client, i.e. when calling services via the ServiceClients, calling c# services in code throws normal c# exceptions.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 17, 2014, 3:56:41 PM","shortDate":"Sep 17, 2014","textHtml":"I see. No reason I couldn't easily swap out to use the Client?﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 17, 2014, 3:59:38 PM","shortDate":"Sep 17, 2014","textHtml":"Or do the following.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (Exception ex)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (ex is ValidationException)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetValidationByException(ex as ValidationException, \"login\");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 17, 2014, 5:55:55 PM","shortDate":"Sep 17, 2014","textHtml":"That would incur the overhead of a HTTP vs a c# method call.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 17, 2014, 6:40:36 PM","shortDate":"Sep 17, 2014","textHtml":"It's funny. I was driving home and realized that the ResolveService Method hooks up a non-http call. For some reason, I thought it was making a HTTP call. Then you post that and I'm like duh.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 17, 2014, 6:44:15 PM","shortDate":"Sep 17, 2014","textHtml":"I guess in some instances I'll call the services via HTTP and some server side as well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 18, 2014, 10:40:12 AM\n(edited Sep 18, 2014, 10:40:26 AM)","shortDate":"Sep 18, 2014","textHtml":"Hi Bruce, I'd personally recommend the more efficient option of C# services directly. You can call ex.ToResponseStatus() extension method on exceptions to convert it to the ResponseStatus DTO.<br><br>I've updated the WebForms project to show how you can handle Services throwing validation exception like the Register Service that's now deployed at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://webforms.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://webforms.servicestack.net/</a><br><br>The code to handle the Registration form is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx#L59\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx#L59</a><br>and the code-behind is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx.cs#L69\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx.cs#L69</a><br><br>I'm using literal controls to show the field error messages since it's saner and more cleaner than custom validators.<br><br>Although as I try to avoid WebForms and server-side MVC as much as possible, my preference is to just call ServiceStack services directly with Ajax and use the auto-binding errors feature as described in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/EmailContacts#fluent-validation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/EmailContacts#fluent-validation</a>﻿"}],"date":"Sep 17, 2014, 3:44:32 PM","shortDate":"Sep 17, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"I'm having a strange issue after upgrading from v4.0.23 to v4.0.31.<br><br>I have a class that implements the IRequest interface. After upgrading, I had to add a reference to the System.Net.dll assembly to get the project to build.&nbsp;I made sure to clear out all pre-4.0.3x packages too.<br><br>This worked fine, but it refuses to build on my build server. I'm getting these messages in the msbuild output:<br><br>&nbsp;c:\\build-dir\\ERPS-JOB1\\ERPServices\\packages\\ServiceStack.Interfaces.4.0.31\\lib\\portable-wp80+sl5+net40+win8+monotouch+monoandroid\\ServiceStack.Interfaces.dll :<br>&nbsp;warning CS1684: Reference to type 'System.Net.HttpStatusCode' claims it is defined in 'c:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.0\\System.Net.dll', but it could not be found [C:\\build-dir\\ERPS-JOB1\\ERPServices\\Libraries\\ERP.Common\\ERP.Common.csproj]<br>&nbsp;<br>Validation\\CustomHttpRequest.cs(10,18): error CS0738: 'ERP.Common.Validation.CustomHttpRequest' does not implement interface member 'ServiceStack.Web.IRequest.get_Cookies()'. 'ERP.Common.Validation.CustomHttpRequest.Cookies.get' cannot implement 'ServiceStack.Web.IRequest.get_Cookies()' because it does not have the matching return type of 'void'. [C:\\build-dir\\ERPS-JOB1\\ERPServices\\Libraries\\ERP.Common\\ERP.Common.csproj]<br><br>The relevant parts of the code are:<br><br>using System;<br>using System.Collections.Generic;<br>using System.Net;<br>using ServiceStack;<br>using ServiceStack.Configuration;<br>using ServiceStack.Web;<br><br>namespace ERP.Common.Validation<br>{<br>\tpublic class CustomHttpRequest : IRequest<br>\t{<br>\t\tpublic IDictionary&lt;string, Cookie&gt; Cookies<br>\t\t{<br>\t\t\tget { throw new NotImplementedException(); }<br>\t\t}<br>\t}<br>}<br><br>Any ideas?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 17, 2014, 12:11:03 PM","shortDate":"Sep 17, 2014","textHtml":"If it's only a .NET 4.0 build server you will need to install a patch, See this answer for details: <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25863800/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25863800/85785</a>﻿"}],"date":"Sep 17, 2014, 10:39:27 AM","shortDate":"Sep 17, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>I wish to log the exception plus the dto passed (for simplifing the buf fixing) I've created my own servicerunner to log but in that way I've got 2 entry one \"mine\" and the other one of the logmanager (I'm using NLog) ... is there a way I can create my own exception cloning the one returned and then adding some additional fields? otherwise can I disable LogManager to log the exception of the webservices?<br>Thank in advance<br>Paolo﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Sep 14, 2014, 4:38:27 PM","shortDate":"Sep 14, 2014","textHtml":"I have submitted several additional request to Demis to enhance this hooking so we do not have to copy/paste all the existing code. &nbsp;He is looking into that. &nbsp;Additionally, &nbsp;you cannot suppress certain exceptions from being logged because the log.Error is called from inside the SS code (and I would like it to be log.Warning or .Info in some cases, etc).<br><br>Any new/additional thoughts or ideas toward this Demis?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 15, 2014, 12:10:25 PM","shortDate":"Sep 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105956167967297879956\" oid=\"105956167967297879956\">paolo ponzano</a></span>&nbsp;create a custom NLogFactory that returns a NullLogFactory for the loggers you want to ignore and a NLogLogger for everything else:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Logging.NLog/NLogFactory.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Logging.NLog/NLogFactory.cs</a>﻿"}],"date":"Sep 14, 2014, 4:15:27 PM","shortDate":"Sep 14, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I'm using WebForms and ServiceStack Interface as my backend on /api/authenticate.<br><br>I created a login.aspx page and on the code behind I'm using the Client to call authenticate.&nbsp;<br><br>I have a base page class hooked into the Session.&nbsp;<br><br>if (!this.UserSession.IsAuthenticated) this.RedirectToLogin();<br><br>I know that the Session is getting set to IsAuthenticated in the CustomCredentials class I created.<br><br>Not sure why IsAuthenticated isn't sticking.﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 12, 2014, 4:16:16 PM","shortDate":"Sep 12, 2014","textHtml":"When using WebForms am I supposed to handle the cookie?﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 12, 2014, 4:21:02 PM","shortDate":"Sep 12, 2014","textHtml":"My Session Hookup in PageBase Class.<br><br><br>&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;summary&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; /// Typed UserSession<br>&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;/summary&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; private object userSession;<br>&nbsp; &nbsp; &nbsp; &nbsp; protected virtual TUserSession SessionAs&lt;TUserSession&gt;()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (TUserSession)(userSession ?? (userSession = Cache.SessionAs&lt;TUserSession&gt;()));<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; protected CustomUserSession UserSession<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return SessionAs&lt;CustomUserSession&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; protected new ICacheClient Cache<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get { return HostContext.Resolve&lt;ICacheClient&gt;(); }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; private ISessionFactory sessionFactory;<br>&nbsp; &nbsp; &nbsp; &nbsp; protected virtual ISessionFactory SessionFactory<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get { return sessionFactory ?? (sessionFactory = HostContext.Resolve&lt;ISessionFactory&gt;()) ?? new SessionFactory(Cache); }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;summary&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; /// Dynamic Session Bag<br>&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;/summary&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; private ISession session;<br>&nbsp; &nbsp; &nbsp; &nbsp; protected new ISession Session<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return session ?? (session = SessionFactory.GetOrCreateSession());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 12, 2014, 4:22:16 PM","shortDate":"Sep 12, 2014","textHtml":"Let me go check my Save Session with OnAuthenticated﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 12, 2014, 4:38:23 PM","shortDate":"Sep 12, 2014","textHtml":"Yeah, I'm saving the Session in OnAuthenticated﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 14, 2014, 2:48:57 AM\n(edited Sep 14, 2014, 3:00:31 AM)","shortDate":"Sep 14, 2014","textHtml":"Hi Bruce I've just added a new <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Base Page with access to most of ServiceStack providers inside ServiceStack.dll called ServiceStackPage&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AspNet/ServiceStackPage.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AspNet/ServiceStackPage.cs</a><br><br>I've also added a new WebForms test project mimicking your setup with SS hosted at /api the Default.aspx page shows how to authenticate with SS Auth Providers at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx</a><br>The page also includes an Ajax call to call ServiceStack services so you can verify the User is Authenticated in both WebForms and SS.<br>The code-behind shows the code to authenticate with ServiceStack via WebForms:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/WebForms/WebForms/Default.aspx.cs</a><br><br>There's also an example of an AuthOnly.aspx WebForm page that now respects the `[Authenticate]` attribute where it will only allow Authenticated users otherwise it will redirect you to the Default.aspx page to login.<br><br>You can play with this app with the online demo published at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://webforms.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://webforms.servicestack.net/</a><br><br>You'll need the latest v4.0.32+ packages on MyGet to get the new ServiceStackPage:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 15, 2014, 9:01:31 AM","shortDate":"Sep 15, 2014","textHtml":"Dude you rock. I'm off to read code now! Thanks! I'll let you know the outcome.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 15, 2014, 9:11:24 AM","shortDate":"Sep 15, 2014","textHtml":"Looks like this Base page allows me to utilize the&nbsp;htmlRedirect option﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 15, 2014, 11:03:36 AM","shortDate":"Sep 15, 2014","textHtml":"This is needed?<br><br>&lt;add key=\"webPages:Enabled\" value=\"false\" /&gt;<br><br>This is only if using Razor and not ASP.net webforms?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 15, 2014, 11:51:18 AM","shortDate":"Sep 15, 2014","textHtml":"Not for non-razor web apps, but I always include it to stop it hijacking requests for razor pages.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 15, 2014, 1:29:54 PM\n(edited Sep 15, 2014, 1:30:38 PM)","shortDate":"Sep 15, 2014","textHtml":"&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = authService.Authenticate(new Authenticate<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; provider = CredentialsAuthProvider.Name,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName = txtUserName.Text,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password = txtPassword.Text,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Continue = \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://WWW.GOOGLE.COM\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">WWW.GOOGLE.COM</a>,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RememberMe = false, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // add <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> auth cookie<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FormsAuthentication.SetAuthCookie(txtUserName.Text, true); &nbsp;<br><br>I'm assuming that the use of \"Continue\" with WebForms is out? Not working. Plus, if I set it then the cookie logic might not work? My goal is to Authenticate then redirect to a dashboard.aspx. I guess I can manually redirect after the SetAuthCookie method?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 15, 2014, 3:09:14 PM","shortDate":"Sep 15, 2014","textHtml":"Yep, just redirect manually after SetAuthCookie method:<br>base.Response.Redirect(\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://google.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://google.com</a>\");<br><br>Calling the higher-level API authService.Post(new Authenticate { Continue = \"...\", ... }); will return a customized HttpResult with a location redirect, but because it's not ServiceStack processing the Services Response it, wont redirect automatically.﻿"}],"date":"Sep 12, 2014, 4:15:54 PM","shortDate":"Sep 12, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I was wondering if it's possible to create an httphandler to handle cached items... as far I've seen there's no property exposed inside the ICacheClient class that permits me to iterate&nbsp;through ...cna you help me on this? Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 12, 2014, 4:15:52 AM\n(edited Sep 12, 2014, 4:22:14 AM)","shortDate":"Sep 12, 2014","textHtml":"There is no API that lets you that lets you iterate all keys, each cache provider works differently and any key could be used. Ideally you should be treating the cache like a transient store, where the items you want to expire should be specified with a future Date or TimeSpan period when creating the cache so it expires automatically.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 12, 2014, 10:15:00 AM","shortDate":"Sep 12, 2014","textHtml":"Demis It would be nice to have the possibility of invalidate a cache item before it's natural expiration period...consider a simple example... I've a dropdown with some products (data cached) I've expiration set in 5 hours and I've added on DB a new product I wish to show on the dropdown... I can reset the whole cache provider (appPool, Redis, whatelse) or to wait the xxx minutes...﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Sep 12, 2014, 10:27:55 AM","shortDate":"Sep 12, 2014","textHtml":"I don't know if this is the best way to address this idea, but I end up storing the product twice. Once by itself on its own key, and then once within a list that contains all products. Then invalidate the single key whose Id you know and also invalidate the list so it pulled fresh the next time.﻿"}],"date":"Sep 12, 2014, 2:20:33 AM","shortDate":"Sep 12, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"WebForms Web Application:<br><br>For the pages that need to have Authentication cookie. I would just do the following on each page that requires one to be logged in with session/cookie.<br><br>&nbsp; &nbsp; [Authenticate(HtmlRedirect = \"login.aspx\")]<br>&nbsp; &nbsp; public partial class Test : System.Web.UI.Page<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; protected void Page_Load(object sender, EventArgs e)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br><br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 2:49:15 PM","shortDate":"Sep 10, 2014","textHtml":"Or this just goes above the login.aspx page code behind.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:02:50 PM","shortDate":"Sep 10, 2014","textHtml":"I think this is my last hurdle with ServiceStack in a WebForm setup.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:21:41 PM","shortDate":"Sep 10, 2014","textHtml":"I was looking at the ServiceStack code and I think I have to create a BasePage that ties to the CustomSession that I created etc.<br><br>I was looking at&nbsp;ServiceStack.WebHost.IntegrationTests<br><br>I guess this is the way to go.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 3:22:54 PM","shortDate":"Sep 10, 2014","textHtml":"WebForms doesn't do Filters so that's not possible. Using ServiceStack.Razor would provide the best integration, Otherwise look at the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> PageBase used in the ServiceStack.Host.AspNet package:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack.Host.AspNet/content/App_Start/PageBase.cs.pp\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack.Host.AspNet/content/App_Start/PageBase.cs.pp</a><br><br>You would need to do something like:<br><br>if (!UserSession.IsAuthenticated) &nbsp; &nbsp; RedirectToLogin();﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:26:22 PM","shortDate":"Sep 10, 2014","textHtml":"Thanks, that helps. I want to use MVC as I agree with you; more built in features, but the devs I work with do not for lack of knowledge.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 3:26:31 PM","shortDate":"Sep 10, 2014","textHtml":"I'll have a look at modernizing this PageBase to see what a good solution would be.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:31:24 PM","shortDate":"Sep 10, 2014","textHtml":"Funny, this is the same code I found in the ServiceStack.Tests namespace. My&nbsp;CustomUserSession object is actually in the Interface.Session.CustomUserSession location. No need to have 2.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 3:32:14 PM\n(edited Sep 10, 2014, 3:33:03 PM)","shortDate":"Sep 10, 2014","textHtml":"Note: ServiceStack.Razor isn't or has any dependency on MVC, it's much simpler with both \"No Ceremony Controller-less\" Content Pages and Smart View Pages that you're used to in WebForms as well as MVC model using ServiceStack Services (i.e. no MVC Controller in sight). See&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net/</a> for more details. It just uses @Razor syntax for views.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:33:56 PM","shortDate":"Sep 10, 2014","textHtml":"Sweet! Thanks for the information. I will take that into consideration. Oh, keep up the good work. Love the product.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 3:40:51 PM","shortDate":"Sep 10, 2014","textHtml":"I'm assuming that&nbsp;RedirectToLogin method would just be something I add to do the redirecting to where I want if no Session.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 3:50:56 PM\n(edited Sep 10, 2014, 3:51:18 PM)","shortDate":"Sep 10, 2014","textHtml":"Yeah that's just a custom method that does the redirect if there's no authenticated Session.<br><br>Also for SS.Razor the EmailContacts and HttpBenchmarks docs have a good walkthrough of using ServiceStack.Razor<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/EmailContacts\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/EmailContacts</a> /&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HttpBenchmarks\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HttpBenchmarks</a>﻿"}],"date":"Sep 10, 2014, 2:46:26 PM","shortDate":"Sep 10, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there a best practice on using the Role based authorization in ServieStack? Let me try and explain...<br><br>I have user Bob who is in the Admin role. I also have the user Jim who is in the Editor role. Bob as an admin is also an editor because the Admin role has the same access control as an editor and additional admin control. How do you represent this implicit authorization in ServiceStack? &nbsp;Do I add RequiredRole(\"Admin\", \"Editor\") to the service or do I add RequiredRole(\"Editor\") and put Bob in the Admin role as well as the Editor role? I would prefer the first choice if it's easily accomplished in ServiceStack.﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 9, 2014, 11:45:51 PM","shortDate":"Sep 9, 2014","textHtml":"I think I might know my own answer here. I guess I have to override the HasRole method in the UserAuthSession. If there's a better way I'm open to other ideas.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 1:38:17 AM","shortDate":"Sep 10, 2014","textHtml":"Required Roles takes a collection of all the required roles required for the service so the correct way would be add Bob to both roles.<br><br>For overriding AuthRoles you can either override AuthUserSession or override the IManageRoles API methods (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs#L26\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs#L26</a>) by subclassing your AuthRepository.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 10, 2014, 1:40:58 AM","shortDate":"Sep 10, 2014","textHtml":"Thanks Demis! I think for my purposes overriding it in the AuthUserSession will work best since I'm already using the OrmLiteAuthRepository.﻿"}],"date":"Sep 9, 2014, 11:37:13 PM\n(edited Sep 9, 2014, 11:39:50 PM)","shortDate":"Sep 9, 2014"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","textHtml":"Demis, it looks like, there has been a slight version/compilation mixup on the nuget.<br>All packages (that I checked), looks like they have been compiled on 19.8, except for Api.Swagger, which looks like from 3.9., but all have version 4.0.31.<br>The problem arises, when using Swagger, I get:<br>Could not load type 'ServiceStack.Host.MetadataTypeExtensions' from assembly 'ServiceStack, Version=4.0.31.0, Culture=neutral, PublicKeyToken=null'.\",\"StackTrace\"<br><br>And if check the ServiceStack.dll (v 4.0.31) it really doesn't contain the mentioned class - it has been added to git on 31.8. only...﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 8, 2014, 11:54:10 AM","shortDate":"Sep 8, 2014","textHtml":"I don't understand, what do the 19.8, 3.9 and 31.8 numbers you're mentioning mean?﻿"},{"userId":"108846010543763885463","userName":"John Watson","date":"Sep 8, 2014, 11:56:51 AM","shortDate":"Sep 8, 2014","textHtml":"Perhaps he's referring to days/dates, e.g. 19 Aug and 31 Aug?﻿"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","date":"Sep 8, 2014, 12:36:45 PM","shortDate":"Sep 8, 2014","textHtml":"Yes,  these are dates<br>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 8, 2014, 2:45:31 PM\n(edited Sep 8, 2014, 2:48:15 PM)","shortDate":"Sep 8, 2014","textHtml":"What do you mean by 'looks like', i.e. where are you getting the Dates from? I don't see any dates embedded in the metadata and I've just tried pulling down v4.0.31 NuGet packages which all come down fine and uses the current date. v4.0.31 packages were published on 3rd Sept, so I'm not sure where you're getting the earlier dates from, are you sure you don't have old packages from MyGet?﻿"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","date":"Sep 8, 2014, 2:46:30 PM","shortDate":"Sep 8, 2014","textHtml":"My bad - I had previously downloaded 4.0.31 from MyGet which somehow prevented update from Nuget, which I explicitly initiated... Fixed now.<br>So lesson learned, before updating, disable MyGet source.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 8, 2014, 2:53:38 PM","shortDate":"Sep 8, 2014","textHtml":"Yeah NuGet will only pull newer packages with a later version number, so you'll need to delete the /packages folder to ensure the latest NuGet packages are pulled again.﻿"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","date":"Sep 8, 2014, 2:55:32 PM","shortDate":"Sep 8, 2014","textHtml":"oh, we just crossposted. Thanks for looking into it...<br>And yes, \"looks like\" was there because I couldn't believe, that what I'm seeing is possible :)﻿"}],"date":"Sep 8, 2014, 10:17:05 AM","shortDate":"Sep 8, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Excuse me Demis, what I' ve to do in order to serve the&nbsp;ss-utils.js on an ASP.Net MVC application? have I to register an axd or something like this? Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 5, 2014, 3:16:31 AM","shortDate":"Sep 5, 2014","textHtml":"You don't have to do anything. ss-utils.js is embedded in ServiceStack.dll and always accessible from /js/ss-utils.js from where ServiceStack is mounted which when using SS with MVC is typically at /api/js/ss-utils.js, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://bootstrapapi.servicestack.net/api/js/ss-utils.js\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://bootstrapapi.servicestack.net/api/js/ss-utils.js</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 5, 2014, 4:45:50 AM","shortDate":"Sep 5, 2014","textHtml":"Thanks a lot for your reply... I was missing the use of @Url.Content(\"~/api/...\")... another question regarding the message receive... &nbsp;I need to notificate the client in order to wake up some widget after a NotifyWidgets action has been invoked... &nbsp;since only the widget of the current session needs to be notified I've used this method on my Controller<br><br>public ActionResult NofityWidgets()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IServerEvents ServerEvents = AppHost.Instance.TryResolve&lt;IServerEvents&gt;();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServerEvents.NotifySession(UserSession.Id, \"test\");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new EmptyResult();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>and in my _Layout.cshtml I've<br><br>&lt;script&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; $(document).ready(function (e) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var source = new EventSource(\"@Url.Content(\"~/api/event-stream?channel=channel&amp;t='+ new Date().getTime())\")\");<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(source).handleServerEvents({<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; handlers: {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; onConnect: function (subscription) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; activeSub = subscription;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log(\"connected\");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; onJoin: function (user) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log(\"joined\");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; onLeave: function (user) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log(\"leave\");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //... Register custom handlers<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; receivers: {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //... Register any receivers<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; success: function (selector, msg, json) { // fired after every message<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log(selector, msg, json);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &nbsp; &nbsp; })<br>&nbsp; &nbsp; &lt;/script&gt;<br><br>How do I process the received message? I don't see any event fired when I receive a message<br><br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 5, 2014, 6:49:01 AM","shortDate":"Sep 5, 2014","textHtml":"Hi Paolo, if your question has code please post it on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com</a> and paste a link to it here as it's unreadable otherwise.<br><br>If you want to notify &nbsp;a SessionId you have to send the Permanent Session Id (ss-pid) which happens when the user authenticates with `RememberMe=true`. You can check if it's the same by comparing `UserSession.Id` with the users `ss-pid` cookie. Because of this it's more reliable notifying the user with the UserAuthId. You can also make use of a unique channel name to filter what messages a User listens to/receives.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 8, 2014, 8:24:53 AM","shortDate":"Sep 8, 2014","textHtml":"Hello Demis, my problem is related on the javascript part... how do I read the message I've sent from server?<br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 8, 2014, 11:54:48 AM","shortDate":"Sep 8, 2014","textHtml":"Please see the docs, here's the section on handling msgs with the default selector:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/JavaScript-Server-Events-Client#handling-messages-with-the-default-selector\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/JavaScript-Server-Events-Client#handling-messages-with-the-default-selector</a>﻿"}],"date":"Sep 5, 2014, 3:10:07 AM","shortDate":"Sep 5, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there any repercussions to changing the Auth table datetime columns to datetime2 columns (SQL Server) ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 30, 2014, 7:13:32 PM","shortDate":"Aug 30, 2014","textHtml":"Never done it myself, just try and see.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 30, 2014, 7:22:53 PM","shortDate":"Aug 30, 2014","textHtml":"Hmm ok. thanks.﻿"}],"date":"Aug 30, 2014, 6:56:24 PM","shortDate":"Aug 30, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"I had a question regarding the Concurrency model for the AppHost. &nbsp;In the release notes there is a note that highlights that using the SmartPool yields optimal performance; however, in the table with stats, it isn't clear that the HttpListener is the version with the Smart Pool.<br><br>Any chance on clarifications?<br><br>AppSelfHostBase : AppHostHttpListenerBase<br>vs<br>AppHostHttpListenerSmartPoolBase&nbsp;: AppHostHttpListenerBase<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Concurrency-model\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Concurrency-model</a><br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/babf8ac6abcd250cf261077a10f92b1761665fb6/release-notes.md\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/babf8ac6abcd250cf261077a10f92b1761665fb6/release-notes.md</a><br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 5:32:10 PM","shortDate":"Aug 29, 2014","textHtml":"HttpListener isn't, but all smart pool versions (i.e. AppSelfHostBase / AppHostHttpListenerSmartPoolBase) inherit from&nbsp;AppHostHttpListenerBase but override how threads are managed, i.e using the SmartThreadPool:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AppSelfHostBase.cs#L123\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AppSelfHostBase.cs#L123</a>﻿"}],"date":"Aug 29, 2014, 5:05:15 PM","shortDate":"Aug 29, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"I've upgraded an application from SS v4.0.15 to v4.0.30 and after fixing some small issues I've found that IIS fails to start with the following message appearing on the IIS log:<br><br>Type 'Funq.ServiceEntry`2' in assembly 'ServiceStack, Version=4.0.30.0, Culture=neutral, PublicKeyToken=null' is not marked as serializable.<br><br>(full error at the bottom of the post).<br><br>I've managed to isolate this to resolving an interface scoped to request via HostContext.TryResolve while the application is starting. It used to work.<br><br>I've tried to isolate it into a test case, but so far haven't had much success, and so wanted to check if anyone else has seen this issue, or has any clue as to why it stopped working.<br><br>Thanks,<br>Bruno<br><br>Full error:<br><br>An error occurred while trying to start an integrated application instance.<br><br>Exception: System.Runtime.Serialization.SerializationException<br><br>Message: Type 'Funq.ServiceEntry`2' in assembly 'ServiceStack, Version=4.0.30.0, Culture=neutral, PublicKeyToken=null' is not marked as serializable.<br><br>StackTrace: &nbsp; &nbsp;at System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel)<br>&nbsp; &nbsp;at System.Web.Hosting.ApplicationManager.CreateAppDomainWithHostingEnvironment(String appId, IApplicationHost appHost, HostingEnvironmentParameters hostingParameters)<br>&nbsp; &nbsp;at System.Web.Hosting.ApplicationManager.CreateAppDomainWithHostingEnvironmentAndReportErrors(String appId, IApplicationHost appHost, HostingEnvironmentParameters hostingParameters)<br>&nbsp; &nbsp;at System.Web.Hosting.ApplicationManager.GetAppDomainWithHostingEnvironment(String appId, IApplicationHost appHost, HostingEnvironmentParameters hostingParameters)<br>&nbsp; &nbsp;at System.Web.Hosting.ApplicationManager.CreateObjectInternal(String appId, Type type, IApplicationHost appHost, Boolean failIfExists, HostingEnvironmentParameters hostingParameters)<br>&nbsp; &nbsp;at System.Web.Hosting.ProcessHost.StartApplication(String appId, String appPath, Object&amp; runtimeInterface)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 28, 2014, 3:48:23 PM\n(edited Aug 28, 2014, 3:51:32 PM)","shortDate":"Aug 28, 2014","textHtml":"It's hard to provide any help without seeing any of the code that's causing it. It's likely due to the use of RequestScope use of CallContext.LogicalGetData() to store Request-Scoped dependencies.<br><br>If you try resolve registered deps outside the context of a Request (i.e. on StartUp) then it could transparently try to serialize the dependencies. So avoid resolving request-scoped deps on StartUp if you are.<br><br>Otherwise if you're not using async ServiceStack services than you can set `RequestContext.UseThreadStatic = true;` to avoid using CallContext.﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Aug 29, 2014, 5:10:16 AM","shortDate":"Aug 29, 2014","textHtml":"Yeah, I understand that this is not the best error report, but it confirms my thought and gives me some more info that should help in further tracking it down.&nbsp;<br><br>Is there a way to \"simulate\" the request context for dep resolution outside of a request? I ask because we'll most likely need to also do resolution in background tasks (for which we can create a child container per \"task\") and if there's such a way perhaps we can use the same pattern in startup.<br><br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 11:17:08 AM","shortDate":"Aug 29, 2014","textHtml":"Not 100% sure what you're after, if it's a RequestScoped dependency it will automatically look into RequestContext Items, i.e: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Funq/ServiceEntry.Generic.cs#L30\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Funq/ServiceEntry.Generic.cs#L30</a>&nbsp;<br><br>2 ways you can change where it saves Req Deps is with `RequestContext.UseThreadStatic=true` or setting up a new `HttpContext.Current = new&nbsp;HttpContext()`﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Sep 1, 2014, 4:13:55 AM","shortDate":"Sep 1, 2014","textHtml":"That's what I wanted to know, thanks. I might go with creating the new HttpContext during a job execution.﻿"}],"date":"Aug 28, 2014, 3:33:43 PM","shortDate":"Aug 28, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Is there an OrmLite library which supports 32 &amp; 64 bit Sqlite on Mac and Linux? &nbsp;In the NuGet repo two specifically target Windows (signed and unsigned). &nbsp;A third exists for Mono but the title still stresses Windows... and only 32 bit at that.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 26, 2014, 8:05:53 PM","shortDate":"Aug 26, 2014","textHtml":"There's no 64bit sqlite dll that works for Mono.<br><br>The best choice is the 32bit&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.nuget.org/packages/ServiceStack.OrmLite.Sqlite.Mono\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.nuget.org/packages/ServiceStack.OrmLite.Sqlite.Mono</a> package which works for both Windows and *nix/Mono.﻿"}],"date":"Aug 26, 2014, 7:52:46 PM\n(edited Aug 26, 2014, 7:53:17 PM)","shortDate":"Aug 26, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"Im using servicestack.client in a WPF project and in this project I am using DesignInstance to bind to a sample viewmodel in the designer in order to get data to work with in the design view.<br>My viewmodels generally references an instance of JsonServiceClient in order to be able to load data from the server.<br>In 4.0.24 this worked perfectly, I'd set the jsonserviceclient to null in the sample viewmodels and pass in a real one through dependency injection in the real viewmodels. However after upgrading to 4.0.30 this is no longer the case. When creating the design time sample viewmodel I get an error that looks like this:<br><br>\"Method 'GetAsync' in type 'ServiceStack.JsonServiceClient' from assemby 'ServiceStack.Client, Version=4.0.30.0, Culture=neutral, PublicKeyToken=null' does not have an implementation\"<br><br>Reverting to 4.0.24 solves the problem. I have checked my references, and I am not referencing any servicestack dll's by a specific version and all references points to the correct files with the correct versions. I have also checked my GAC and there is nothing servicestacky in my GAC :/<br><br>Does anyone know anything about this?﻿","comments":[{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 22, 2014, 7:39:00 AM","shortDate":"Aug 22, 2014","textHtml":"I have recreated the problem in a tiny new project, which can be downloaded here:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://dl.dropboxusercontent.com/u/20081039/TestApp.zip\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dl.dropboxusercontent.com/u/20081039/TestApp.zip</a>﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 22, 2014, 7:42:29 AM","shortDate":"Aug 22, 2014","textHtml":"I also noticed when I upgraded my references from 4.0.24 to 4.0.30 that my project began complaining about not having a reference to System.Runtime.Serialization. Has this dependency been added between those versions?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 22, 2014, 8:30:53 AM\n(edited Aug 22, 2014, 8:38:17 AM)","shortDate":"Aug 22, 2014","textHtml":"I've downloaded the app, but I'm not sure what I'm looking for as the app runs fine? I just see a blank window where I can drag buttons and text boxes, etc. and runs without issue, i.e. I'm not seeing any errors?<br><br>Have you looked at the latest release notes? i.e. the breaking change was SS.Interfaces was converted to a pure PCL dll:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#breaking-changes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#breaking-changes</a><br>One of the issues is that if you might run into is needing to explicitly reference `System.Net`. As for `System.Runtime.Serialization` that's always been a dependency, but like System.Net it may need to have an explicit reference now, but I haven't needed to or have seen this error.﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 22, 2014, 8:38:19 AM","shortDate":"Aug 22, 2014","textHtml":"Ah. Alright. The window contains a single label which should show the text \"Monkey sample\" in design mode and the text \"Monkey\" when you actually run the program. The errors are a bit hard to see since you can only see them in the XAML editor in mainwindow.xaml (I'm using ReSharper, unsure if actually seeing this error is a resharper feature or if it's in vanilla VS)<br><br>If you have a look in the TestViewModel.cs file you have one set of two viewmodels (and two commented out). If you first uncomment the ones with the comment that says that \"these works\" and then clean and rebuild the solution (the xaml designer is a bit finnicky...) and then open MainWindow.xaml you should see that you can see the sample data \"Monkey sample\" in the window in design mode. (Not when you're running the program!)<br><br>If you then go back to the set of classes marked as \"not working\" and then clean and rebuild and open mainwindow.xaml again then you'll see that there's no \"Monkey sample\" in the design mode.<br><br>The difference between the classes is as you can see only the property ServiceClient and the setting of that one property.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 22, 2014, 9:04:26 AM\n(edited Aug 22, 2014, 9:11:15 AM)","shortDate":"Aug 22, 2014","textHtml":"ok I see the designer error now, but I've no idea what's causing it. It's a TypeLoadException which a lot of people seem to run into <a rel=\"nofollow\" target=\"_blank\" href=\"http://bit.ly/1rpU0Rz\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://bit.ly/1rpU0Rz</a> with the WPF Designer - but I'm not seeing why, since `GetAsync` does indeed have an implementation.&nbsp;<br><br>Anyway one solution I found is to use `IServiceClient` instead of the concrete JsonServiceClient, which is actually recommended since it has less coupling and it's easier to mock﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 22, 2014, 9:15:24 AM","shortDate":"Aug 22, 2014","textHtml":"Ah, yea using IServiceClient might be a good alternative and a quick solution to the problem.<br>Still, it's kind of strange that it showed up between 4.0.24 and 4.0.30. No ideas as to what changes may have triggered it?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 22, 2014, 9:21:02 AM\n(edited Aug 22, 2014, 9:24:09 AM)","shortDate":"Aug 22, 2014","textHtml":"Well the big change in v4.0.30 (please see the release notes), was converting SS.Interfaces into a pure PCL dll so I'm guessing that's somehow causing it. Also the SS.Client PCL dlls have been merged into the same SS.Client Nuget Package, but your project is doesn't reference the PCL Client versions so I doubt that would have any effect.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Aug 29, 2014, 7:51:58 AM","shortDate":"Aug 29, 2014","textHtml":"same problem of Fredrick on xp machine...runs fine on 7﻿"}],"date":"Aug 22, 2014, 7:29:16 AM","shortDate":"Aug 22, 2014"},{"userId":"111566548421189684824","userName":"Phillip Powers","textHtml":"I'm interested in essentially swapping out the \"New API\" Service API in ServiceStack with my own, for part of our backend where I'm having to write a lot of the same boilerplate for interaction with the rest of the system for every Service that I write (not a fault in the ServiceStack API or anything like that, just due to how our other code is structured).<br><br>Essentially I want ServiceStack to do all of its serializing/deserializing/Request and Response hooks/etc, except swap out the part where the Service object is CREATED and CALLED - which I want to implement my own logic for.<br><br>I looked at the ServiceRunner hooks, and initially that looked OK except it seems that ServiceStack still creates the Service that is bound to the DTO (something I want to control) even if I implement an \"Execute\" hook.<br><br>So, I looked at the ServiceStack source and it looks like implementing &nbsp;my own IServiceController would give me what I want. It \"looks\" like it's designed to be user-swappable (ie, the \"CreateServiceController\" virtual method in AppHost, etc), but I can't really find any reference to doing this in documentation or examples.&nbsp;<br><br>I just wanted to verify that this is the \"correct\" ServiceStack way of doing things before I start heading down that path.&nbsp;<br><br>Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 19, 2014, 7:13:30 AM","shortDate":"Aug 19, 2014","textHtml":"It's never been done before (outside SS) nor would I recommend it.&nbsp;ServiceStack already provides a number of extensibility hooks where you can apply custom logic as seen in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Order-of-Operations\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Order-of-Operations</a>&nbsp;<br><br>If that's still too limiting you can reduce boilerplate by taking the code-gen approach that AutoQuery does:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs#L155\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs#L155</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 19, 2014, 5:19:48 PM","shortDate":"Aug 19, 2014","textHtml":"You could have a look at building your own toolkit to generate your custom code for your service. Here's an example of a ServiceStack toolkit to illustrate the idea:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/jezzsantos/servicestacktoolkit\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/jezzsantos/servicestacktoolkit</a><br>In your case you would generate whatever it is that you need to generate to wire your stuff up.﻿"}],"date":"Aug 19, 2014, 1:21:41 AM","shortDate":"Aug 19, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What's the best way to serve an image from ServiceStack when the file does not have an extension and is not recorded anywhere while ensuring all common browsers (including IE) display the image inline? &nbsp;The HelloImage examples seem to default to PNG which concerns me that there would be a mismatch. &nbsp;They also cause Chrome and IE to behave differently (Chrome displays inline / IE prompts to download).﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Aug 17, 2014, 8:33:28 PM\n(edited Aug 17, 2014, 8:34:19 PM)","shortDate":"Aug 17, 2014","textHtml":"I think Internet Explorer is tied to the systems registry, where as Chrome might handle some of the known content types itself, not sure. On my PC, image/png in the example services works fine on IE. Content type of image/jpg works on Chrome, but not IE as my machine has *.jpg registered with content type image/jpeg, not image/jpg. Have a look in \"HKEY_CLASSES_ROOT\\.png\\Content Type\" in the registry to see what value is being used.<br><br>Some one having a similar issue here -&gt;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://answers.microsoft.com/en-us/ie/forum/ie9-windows_7/cannot-view-png-pages-in-internet-explorer/59070ae6-6521-4884-8e71-66571acaed4e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://answers.microsoft.com/en-us/ie/forum/ie9-windows_7/cannot-view-png-pages-in-internet-explorer/59070ae6-6521-4884-8e71-66571acaed4e</a><br><br>Example services I used for testing.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/Layoric/SS-ImageTesting\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/Layoric/SS-ImageTesting</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 17, 2014, 9:00:42 PM","shortDate":"Aug 17, 2014","textHtml":"I've just added several different examples of return an Image in ServiceStack in different image formats:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/blob/master/src/Test/Test/Test.ServiceInterface/ImageService.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/blob/master/src/Test/Test/Test.ServiceInterface/ImageService.cs</a><br><br>I've tested a lot ofthe different combinations with IE and I'm not seeing any issues with it.<br><br>You can play with these services at: <a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">test.servicestack.net</a>, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/image-draw/ServiceStack?background=purple&amp;foreground=yellow&amp;width=900&amp;height=600\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/image-draw/ServiceStack?background=purple&amp;foreground=yellow&amp;width=900&amp;height=600</a>﻿"},{"userId":"116305637137724842347","userName":"Geoffrey Huntley","date":"Aug 17, 2014, 9:33:00 PM","shortDate":"Aug 17, 2014","textHtml":"Override the Response.ContentType manually and return a HttpResult:<br><br>public object Get(GetEmployeeAvatar request)<br>{<br>&nbsp; &nbsp; var photo = EmployeePhoto.GetEmployeeThumbnailPhoto(new MailAddress(request.EmployeeEmailAddress));<br><br>&nbsp; &nbsp; const string contentType = \"image/png\";<br>&nbsp; &nbsp; base.Response.ContentType = contentType;<br>&nbsp; &nbsp; return new HttpResult(photo, contentType);<br>}﻿"}],"date":"Aug 17, 2014, 9:02:36 AM","shortDate":"Aug 17, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What am I missing? &nbsp;Ran a NuGet update individually in each project. &nbsp;Exception after upgrading to v4.0.30 with an existing (functioning) web service. &nbsp;It's happening when I call the constructor for the AppHostBase...<br><br>public PathCatalogPublicHost() : base(HOST_TITLE, typeof(PathService).Assembly) { }<br><br>at ServiceStack.NativeTypesFeature..ctor()<br>at ServiceStack.ServiceStackHost..ctor(String serviceName, Assembly[] assembliesWithServices)<br>at ServiceStack.AppHostBase..ctor(String serviceName, Assembly[] assembliesWithServices)<br>at Hosting.PathCatalogPublicHost..ctor() in c:\\_Source\\Hosting\\PathCatalogPublicHost.cs:line 21<br>at Hosting.Global.Application_Start(Object sender, EventArgs e) in c:\\_Source\\Hosting\\Global.asax.cs:line 16﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 12, 2014, 6:53:41 PM","shortDate":"Aug 12, 2014","textHtml":"It's been working for me no problems. Any chance you can send me a small stand-alone repro? Can't infer anything from the description.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Aug 12, 2014, 6:59:59 PM","shortDate":"Aug 12, 2014","textHtml":"Disregard. &nbsp;Looks like NuGet should be called NuForGet. &nbsp;Killed off the assemblies and reinstalled... problem solved (unfortunately).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 12, 2014, 7:02:00 PM","shortDate":"Aug 12, 2014","textHtml":"ok great, was hoping it was something like that :)﻿"}],"date":"Aug 12, 2014, 6:46:03 PM","shortDate":"Aug 12, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"the Autoquery/IQuery concept seems to be lending itself towards a more generic handling of query-oriented messages.<br><br>In turn, the REST-collections-with-HTTP-Verbs is a very elegant way of handling entity-types and their child collections (and the basic CRUD operations of each)<br><br>It makes sense to me, therefore, to use a Command-Handler pattern for the balance of the service interaction (ie: Actions). I noticed that there are some classes that seem to be geared towards this in ServiceStack already.<br><br>my questions :<br><br>1. is there any special processing/handling for the Command-Pattern classes in the ServicesStack stack?<br>2. using CommandHandlers gives me a neat little testable triangle of classes comprising a Command message, a CommandResponse message and a CommandHandler class into which I can inject my dependencies (which I can unit test without running full service-stack integration tests); but this means that I will have ServiceStack services that do no more than use the CommandHandlerFactory to get a Handler instance and run it (basically a very thin orchestration layer of repetitive code). Would there be a way to hook into the pipeline to run this boilerplate code for all classes implementing the ICommand interface, so that this repetitive code can be bypassed? My entity interactions and query interactions are likewise simply being passed on to an IRepository implementation - which could perhaps similarly be handled in a generic fashion from within the Pipeline based on the presence of an IQuery/IEntity interface? what do you think?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 8:00:36 PM\n(edited Aug 11, 2014, 1:06:22 PM)","shortDate":"Aug 10, 2014","textHtml":"What you're describing sounds similar to ServiceStack's Request/Response DTO and Service handler. You also don't need a full HTTP stack to test Services as they're pretty testable in isolation:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Testing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Testing</a><br>A way to add generic behavior across all DTO's is to have them share an interface, which you can check for in Typed Filters (or normal filters) to apply custom behavior:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#typed-request-filters\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#typed-request-filters</a><br>or Custom Service Runner:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Customize-HTTP-Responses#using-a-custom-servicerunner\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Customize-HTTP-Responses#using-a-custom-servicerunner</a><br><br>For an automated AutoQuery-like&nbsp;solution&nbsp;that saves having to&nbsp;write a 1 line methods you can just do the same thing that AutoQuery does :) i.e. code-gen&nbsp;1-line stub implementations:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs#L175\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs#L175</a><br>Which makes it behave like normal Services, i.e. shows up in metadata, etc. This does make it more \"magical\" and less visible/debuggable as you'll lose the typed Entry Point into your services.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Aug 11, 2014, 4:05:32 AM","shortDate":"Aug 11, 2014","textHtml":"awesome! thanks for the direction, Demis. I think I'll approach things the same way that you did with the AutoQuery Module...﻿"}],"date":"Aug 10, 2014, 3:37:48 PM\n(edited Aug 10, 2014, 3:40:14 PM)","shortDate":"Aug 10, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"What's the correct way to connect to Azure redis cache (preview) using ServiceStack.Redis (note I'm using v4.0.15.0 if that matters). I'm using the syntax \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://mycache.redis.cache.windows.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">mycache.redis.cache.windows.net</a>,ssl=true,password=&lt;password&gt;\" and I keep getting a connection refused. I tried it using the StackExchange.Redis library and that worked fine.<br><br>I got the connection syntax from this link...﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 9, 2014, 4:05:23 AM","shortDate":"Aug 9, 2014","textHtml":"Ok I got a bit further. I found I could connect using the RedisClient instead of&nbsp;PooledRedisClientManager, but I'm still having trouble getting it to work with ssl. Any thoughts on the ssl part?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 9, 2014, 4:09:14 AM\n(edited Aug 9, 2014, 4:11:21 AM)","shortDate":"Aug 9, 2014","textHtml":"Redis does not have an official connection string format so that&nbsp;link only shows StackExchange.Redis connection string format.<br><br>This answer shows an example of connecting with a remote server that includes a password:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/9435227/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/9435227/85785</a><br><br>e.g.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://password@mycache.redis.cache.windows.net:6379\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">password@mycache.redis.cache.windows.net:6379</a><br><br>There's no SSL in redis-server either, that's an Azure extension Microsoft added which isn't supported in SS.Redis (or most other Redis clients). You should still be able to connect without SSL tho.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 9, 2014, 4:12:52 AM","shortDate":"Aug 9, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Isn't it a security risk not using ssl with redis if the auth data is stored in the redis cache? ssl has never been my strong point.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 9, 2014, 4:19:24 AM\n(edited Aug 9, 2014, 1:54:20 PM)","shortDate":"Aug 9, 2014","textHtml":"Want to stress again: Redis doesn't support SSL so its very rare that it's ever accessed over SSL. In order to access the official redis-server distribution over SSL you would basically have to go through a ssh tunnel.<br><br>Redis is meant to be used internally (i.e. AppServer to redis instance, not over the Internet) so it's normally protected by firewalls.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 9, 2014, 4:36:21 AM","shortDate":"Aug 9, 2014","textHtml":"Got it, makes sense. Thanks Demis﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 21, 2014, 4:13:33 AM","shortDate":"Sep 21, 2014","textHtml":"I agree that Redis should be used internally, but on Azure it' offered as a service from a public URL so SSL is a must :(﻿"}],"date":"Aug 9, 2014, 3:50:45 AM","shortDate":"Aug 9, 2014"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"I'm trying to use SSE with my AngularJS project (no ss-utils.js used). Is there any way to prevent ServiceStack from sending all the \"commands\" (\"cmd.onConnect\" etc)? I'm using SSE in very narrow area and would like to keep it as simple as possible, I don't need any client-side command dispatcher.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 4, 2014, 8:07:40 PM\n(edited Aug 4, 2014, 8:21:32 PM)","shortDate":"Aug 4, 2014","textHtml":"You always want 'cmd.onConnect' which happens only once as it contains the urls for auto&nbsp;heartbeats and unregistering. You can disable the other control commands like \"cmd.onJoin\" and \"cmd.onLeave\" by setting `NotifyChannelOfSubscriptions = false`<br>See&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/Chat#registering\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/Chat#registering</a>﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Aug 5, 2014, 4:20:57 AM","shortDate":"Aug 5, 2014","textHtml":"I've read both html5rocks sse tutorial as well as w3c specs. While I understand the idea of channels and subscriptions and the problems they address, I dont get why would I need to take care of heartbeats manually in my simple scenario (where sse is to be used for sending \"live\" output of console app being ran by logged in user via process.start). Neither of those concepts is covered (or at least the problem mentioned) in any of the sse sources. Besides I don't get why does ServiceStack use \"selector\" (message data prefix?) instead of event type (which is part of standard, plus it doesn't require manual client-sise dispatching)? ﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 5, 2014, 4:49:31 AM\n(edited Aug 5, 2014, 4:54:17 AM)","shortDate":"Aug 5, 2014","textHtml":"You don't need to take care of manual heartbeats as ss-utils.js automatically registers and handles it for you when you $(source).handleServerEvents(). It needs to do the housekeeping because <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> and HttpListener doesn't get notified when a HTTP Client is no longer connected so will happily keep writing the non-existing response whilst the list of \"active\" connections keep growing. The \"selector\" is a messaging concept used to route the message to the appropriate handler. It's not sending separate named DOM events because the selectors aren't known ahead of time and it's more efficient to register a single event listener than multiple event listeners to an unbounded list of selectors which is why ss-utils only listens to the default \"message\" event.<br><br>You can of course choose not use ss-utils and register it as a normal EventSource.&nbsp;﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Aug 5, 2014, 6:46:39 AM","shortDate":"Aug 5, 2014","textHtml":"Thanks Demis, I've written a simple AngularJS, jQuery-independent version which takes care of heartbeat &amp; unregistering when route / state is changing. &nbsp;If anyone is interested:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/migajek/dede8e9184a087e19bd9\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/migajek/dede8e9184a087e19bd9</a>﻿"}],"date":"Aug 4, 2014, 7:58:43 PM","shortDate":"Aug 4, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Looking at moving to a SPA on my web clients, and investigating the JS frameworks I need to get started with.<br><br>Currently leaning towards a knockout.js and breezejs.<br><br>I understand we may need an adapter for breezejs?<br>Can anyone confirm?﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 3, 2014, 4:35:31 PM","shortDate":"Aug 3, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;I can't speak for knockout and breeze but if it helps I've been using angularjs with ServiceStack and so far love it a lot. Out of curiosity why did you choose knockout/breeze?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 3, 2014, 4:42:44 PM","shortDate":"Aug 3, 2014","textHtml":"Hey Stephen,<br><br>Just because my starting point was knockout+upshot. Upshot now dead, so looking for a replacement. Recommendation was either JayData or Breezejs.<br><br>Not seeing any firm statements either way on whether breezejs or jaydata support SS services. Or if I need to build WebAPI stuff between my SS service and my JS clients. Hope not.&nbsp;<br><br>Just looking for guidance, given this is all new ground.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 3, 2014, 4:52:11 PM","shortDate":"Aug 3, 2014","textHtml":"If knockout/breeze can handle a rest api then I see no reason why you would need web api in between. ServiceStack is the alternative to MS's web api. ServiceStack.Razor is also an alternative to MS's <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> mvc as well. Both of which I'm using and prefer.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 3, 2014, 5:06:20 PM","shortDate":"Aug 3, 2014","textHtml":"OK, thanks, so if I moved to angularjs (I am studying it now) sounds like it will replace knockout for binding to data, but will give me the offline functionality (like upshot or breezejs) as well?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 3, 2014, 5:30:32 PM","shortDate":"Aug 3, 2014","textHtml":"I had to look up breeze myself since I haven't used it before. From what I can tell no you need to still use breeze even with angularjs. But I did find a few pages showing how breeze works with angularjs just fine... See&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.breezejs.com/documentation/breeze-angular-service\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.breezejs.com/documentation/breeze-angular-service</a><br><br>and...<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.breezejs.com/samples/todo-angular\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.breezejs.com/samples/todo-angular</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 3, 2014, 5:32:14 PM","shortDate":"Aug 3, 2014","textHtml":"Oh and let me comment on angularjs in respect to knockoutjs. angularjs does two-way binding incredibly well, but it also provides an excellent client side mvc framework with dependency injection.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 3, 2014, 6:01:59 PM","shortDate":"Aug 3, 2014","textHtml":"that might be the clincher for me - JS unit testing is non negotiable.<br><br>Great, so looks like: angularjs + breezejs + jasmine:<br>angularjs for a MVVM framework + databinding + structuring app<br>jasmine for unit testing angluarjs<br>breezejs for offline support?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 3, 2014, 6:03:18 PM","shortDate":"Aug 3, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;Sounds like some good client side choices :-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 3, 2014, 6:04:10 PM\n(edited Aug 3, 2014, 6:05:33 PM)","shortDate":"Aug 3, 2014","textHtml":"I also highly recommend AngularJS which IMO is the choice SPA platform for any backend. We've even added an AngularJS template in the ServiceStackVS templates:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Creating-your-first-project\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Creating-your-first-project</a> also <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/104553804192329546520\" oid=\"104553804192329546520\">Alexandru Vasile Pop</a></span>&nbsp;just released his AngularJS + SS book which may help, you can also find links to his code samples on GitHub from his blog:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#get-the-learning-angularjs-for-net-developers-book\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#get-the-learning-angularjs-for-net-developers-book</a><br><br>There are also a few example projects with SS + AngularJS on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#get-the-learning-angularjs-for-net-developers-book\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#get-the-learning-angularjs-for-net-developers-book</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 3, 2014, 6:07:18 PM\n(edited Aug 3, 2014, 6:07:31 PM)","shortDate":"Aug 3, 2014","textHtml":"thanks guys, thanks for the support/confidence. Time to experiment and learn﻿"}],"date":"Aug 3, 2014, 4:16:28 PM","shortDate":"Aug 3, 2014"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","textHtml":"Hi Demis,<br><br>Any plan to have async support in OrmLite?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 25, 2014, 3:12:22 PM","shortDate":"Jul 25, 2014","textHtml":"There's no feature request for it so it's not a priority:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jul 25, 2014, 6:22:22 PM","shortDate":"Jul 25, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;: Are you planning to submit a feature request?﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Jul 25, 2014, 6:31:29 PM","shortDate":"Jul 25, 2014","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/6217167-provider-async-support-for-ormlite\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/6217167-provider-async-support-for-ormlite</a><br><br>I mean provide async support not provider﻿"}],"date":"Jul 25, 2014, 2:47:59 PM","shortDate":"Jul 25, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hi, I have a scenario where I need to use a System DSN with OrmLite instead of a normal connection string. &nbsp;I looked up basic examples of how to use this and all that I found was that the connection string should just contain \"DSN=&lt;YourDSNName&gt;\". &nbsp;A system data source can be setup in the ODBC Data Source Administrator. &nbsp;(Control Panel &gt; Administrative Tools &gt; Data Sources (ODBC) &gt; System DSN Tab. &nbsp;I tried just passing the \"DSN=&lt;YourDSNName&gt;\" as the connection string and I just get an exception \"A file activation error occurred. The physical file name 'DSN=MYDSN' may be incorrect. Diagnose and correct additional errors, and retry the operation.<br>Cannot attach the file 'DSN=MYDSN.mdf' as database 'DSN=MYDSN'.\" &nbsp;I don't know much about this and nothing came up when I googled DSN with Ormlite. Any ideas are appreciated. &nbsp;Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 22, 2014, 3:34:13 PM","shortDate":"Jul 22, 2014","textHtml":"DSN's require using an OdbcConnection, currently all OrmLite DialectProvider's like SqlServer uses the native SqlConnection. If you can add a feature request to support DSN's on<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a> I can look to see if there's an easy way to add support for it.<br><br>The unknown issue is whether there is any platform driver differences that exists between ODBC and the native <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a>&nbsp;SqlServer SqlConnection, hopefully it wont be as it would require a lot more effort to support.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jul 22, 2014, 9:30:26 PM","shortDate":"Jul 22, 2014","textHtml":"Thank you for looking into it. &nbsp;I will try to find some workaround before requesting this feature.﻿"}],"date":"Jul 22, 2014, 1:16:59 PM","shortDate":"Jul 22, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"What's the suggested method for setting a content razor page to be protected? &nbsp;Should I manually extract the session and check if user.IsAuthenticated and trigger a redirect?<br><br>This statement \"The behavior of accessing a protected page...\" seems to imply that there is a way to flag a page.<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/13346070/redirect-on-successful-login-using-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/13346070/redirect-on-successful-login-using-servicestack</a><br><br>I am not sure I necessarily want all my pages to move to a service driven approach yet. &nbsp;Using content pages with angular for now.<br><br>thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 18, 2014, 11:44:57 AM","shortDate":"Jul 18, 2014","textHtml":"You can just use the&nbsp;<br>RedirectIfNotAuthenticated() method on the ViewPage, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Views/EditTestPlan.cshtml#L3\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Views/EditTestPlan.cshtml#L3</a><br><br>Otherwise if you want to control content on whether they're authenticated or not you can use the `IsAuthenticated` property, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/default.cshtml#L1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/default.cshtml#L1</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jul 18, 2014, 12:46:14 PM","shortDate":"Jul 18, 2014","textHtml":"Awesome, works like a charm!﻿"}],"date":"Jul 18, 2014, 11:36:09 AM","shortDate":"Jul 18, 2014"},{"userId":"102009037555060074960","userName":"Nabil Alhusail","textHtml":"How do I call stored procedures with Output parameters in&nbsp;Ormlite.Mysql ?<br>I'm currently generating the query (example: CALL IncreaseWeblinkClicksCount(@id,@amount)) and using&nbsp;db.SqlList&lt;T&gt;(generatedQuery,&nbsp;commandParameters) to get list, but this doesn't work with parameters with direction = output.<br><br>I get the error<br>\"OUT or INOUT argument 4 for routine&nbsp;*<b>*</b>-db.GetCompanySearchResult is not a variable or NEW pseudo-variable in BEFORE trigger\"﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 12, 2014, 6:55:36 PM","shortDate":"Jul 12, 2014","textHtml":"OrmLite didn't have good API's for output params so you would've had to just use the underlying <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> IDbConnection/IDbCommand to add them (e.g.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://codingboys.blogspot.com/2012/07/output-parameter-in-stored.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://codingboys.blogspot.com/2012/07/output-parameter-in-stored.html</a>)<br><br>But I've just added some new API's to help with this in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/0f17bd3a683d858aec816ea757b5d48d541ae96c\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/0f17bd3a683d858aec816ea757b5d48d541ae96c</a><br><br>Basically it now lets you call a SP with:<br><br>var cmd = db.SqlProc(\"spSearchLetters\", new { pLetter = \"C\" });<br>var pTotal = cmd.AddParam(\"pTotal\", direction: ParameterDirection.Output);<br>var results = cmd.ConvertToList&lt;LetterFrequency&gt;();<br><br>Where results is populated with the returned resultset whilst `pTotal.Value` has the value of the out parameter.<br><br>You can also use a new overload for `SqlList` which takes a closure but requires a little more boilerplate:<br><br>IDbDataParameter pTotal = null;<br>var results = db.SqlList&lt;LetterFrequency&gt;(\"spSearchLetters\", cmd =&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; cmd.CommandType = CommandType.StoredProcedure;<br>&nbsp; &nbsp; &nbsp; &nbsp; cmd.AddParam(\"pLetter\", \"C\");<br>&nbsp; &nbsp; &nbsp; &nbsp; pTotal = cmd.AddParam(\"pTotal\", direction: ParameterDirection.Output);<br>&nbsp; &nbsp; });<br><br>This change is now on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"Jul 12, 2014, 12:00:52 AM","shortDate":"Jul 12, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;<br>A question on OrmLite's&nbsp;support for auto mapping `{Table}{Field}` convention.<br><br>From looking at the code, it's matching on the FieldDefinition.FieldName property (i.e. actual, possibly aliased, column name) instead of the FieldDefinition.Name property:<br><br>// Add support for auto mapping `{Table}{Field}` convention<br>\tforeach (var tableDef in tableDefs)<br>\t{<br>&nbsp; &nbsp; var tableName = tableDef.Name;<br>&nbsp; &nbsp; var matchingField = tableDef.FieldDefinitionsArray<br>&nbsp; &nbsp; &nbsp; &nbsp; .FirstOrDefault(x =&gt; tableName + x.FieldName == fieldDef.Name);<br>\t\t<br><br>&nbsp; &nbsp; //etc...<br>}<br><br>This means it won't work in some cases e.g. if the columns have aliases containing a space.<br><br>public class User&nbsp;<br>{<br>&nbsp; &nbsp; public property Id { get; set; }<br>&nbsp; &nbsp; [Alias(\"First Name\")]<br>&nbsp; &nbsp; public property Name { get; set; }<br>&nbsp; &nbsp; [Alias(\"Last Name\")]<br>&nbsp; &nbsp; public property Surname { get; set; }<br>}<br><br>POCO for join result:<br>public class UserDetail<br>{<br>&nbsp; &nbsp;&nbsp;public property UserId { get; set; }<br>&nbsp; &nbsp; public property UserName { get; set; }<br>&nbsp; &nbsp; public property UserSurname { get; set; }<br>}<br><br>The convention will look for \"User\" + \"First Name\" == \"UserName\" and not find a match.<br><br>Was this your intended design?<br>Or should the code be changed to:<br>var matchingField = tableDef.FieldDefinitionsArray<br>&nbsp; &nbsp; .FirstOrDefault(x =&gt; tableName + x.Name == fieldDef.Name);﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 9, 2014, 4:50:26 PM","shortDate":"Jul 9, 2014","textHtml":"ok yeah that should be just the Property Names. I've updated it in this commit to also include Alias property names:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/92db7c7502313cc83deb0351a4433e546a7e0c22\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/92db7c7502313cc83deb0351a4433e546a7e0c22</a><br><br>Which is now on MyGet:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"Jul 9, 2014, 8:23:59 AM","shortDate":"Jul 9, 2014"},{"userId":"107064682139080786059","userName":"Dion Scher","textHtml":"I'm getting an error and can't figure out what I'm doing wrong:<br><br>\"Type definitions should start with a '{', expecting serialized type 'MessageHistoryResponse', got string starting with:&nbsp;<br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&nbsp; &nbsp; &lt;meta name=\"<br>The client code is simpy:<br><br>var client = new JsonServiceClient(Url);<br><br>try<br>{<br>&nbsp; &nbsp; var messageHistoryResponse = client.Send(new MessageHistory<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Take = 20,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Skip = 0<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>}<br>catch (WebServiceException e)<br>{<br>&nbsp; &nbsp; Console.WriteLine(e);<br>}<br>I have a request filter in place as follows:<br><br>&nbsp;public override void Execute(IRequest req, IResponse res, object requestDto)<br>{<br>&nbsp; &nbsp; var token = req.Headers[\"authtoken\"];<br><br>&nbsp; &nbsp; if (token != null)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; //Authenticated code<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; if (_logger.IsDebugEnabled)<br>&nbsp; &nbsp; &nbsp; &nbsp; _logger.DebugFormat(\"[Token {0}] Access Denied\", token);<br><br>&nbsp; &nbsp; res.ReturnAuthRequired();<br>}<br>This is following one of the examples but instead of receiving a webexception,it throws a Serialization exception. I'm not sure how best to handle this?<br><br>All of my services use a standard requestDto/responseDto pattern. From the docs I was expecting a WebException to be thrown, which I could then handle. But instead it's a SerializationException and doesn't report that the Auth failed.<br><br>Anyone got any ideas to help me?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 8, 2014, 10:00:38 AM","shortDate":"Jul 8, 2014","textHtml":"Can you use Fiddler to show the full contents of the HTML page? I want to know if it's an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> error or a SS error page.﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:05:50 AM","shortDate":"Jul 8, 2014","textHtml":"Hmmm... looks like an HTTP Error. Not sure why. I will investigate further. Thanks.<br><br><br>&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>&nbsp; &nbsp; &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;<br>&nbsp; &nbsp; &lt;title&gt;Login&lt;/title&gt;<br>&nbsp; &nbsp; &lt;link href='<a rel=\"nofollow\" target=\"_blank\" href=\"http://fonts.googleapis.com/css?family=Roboto:300\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://fonts.googleapis.com/css?family=Roboto:300</a>' rel='stylesheet' type='text/css'&gt;<br>&nbsp; &nbsp; &nbsp;&lt;link href=\"/Content/site.css\" rel=\"stylesheet\"/&gt;<br><br>&nbsp; &nbsp; &nbsp;&lt;link href=\"/Content/themes/base/jquery.ui.core.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.resizable.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.selectable.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.autocomplete.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.button.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.dialog.css\" rel=\"stylesheet\"/&gt;<br>&lt;link href=\"/Content/themes/base/jquery.ui.theme.css\" rel=\"stylesheet\"/&gt;<br><br>&nbsp; &nbsp; &nbsp;&lt;link href=\"/Content/themes/uniformjs/default/css/uniform.default.css\" rel=\"stylesheet\"/&gt;<br><br>&nbsp; &nbsp; &nbsp;&lt;script src=\"/Scripts/jquery-2.1.0.js\"&gt;&lt;/script&gt;<br>&lt;script src=\"/Scripts/jquery-migrate-1.2.1.js\"&gt;&lt;/script&gt;<br><br>&nbsp; &nbsp; &nbsp;&lt;script src=\"/Scripts/jquery-ui-1.10.4.js\"&gt;&lt;/script&gt;<br><br>&nbsp; &nbsp; &nbsp;&lt;script src=\"/Scripts/jquery.unobtrusive-ajax.js\"&gt;&lt;/script&gt;<br>&lt;script src=\"/Scripts/jquery.validate.js\"&gt;&lt;/script&gt;<br>&lt;script src=\"/Scripts/jquery.validate.unobtrusive.js\"&gt;&lt;/script&gt;<br><br>&nbsp; &nbsp; &lt;script src=\"/Scripts/jquery.uniform.js\"&gt;&lt;/script&gt;<br><br>&nbsp; &nbsp; &lt;script type=\"text/javascript\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; $(function () {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(\"#LoginForm\").validate({<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rules: {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName: { required: true },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password: { required: true }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $.validator.messages.required = '*';<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //$(\"input[type=text], input[type=password]\").uniform();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &lt;/script&gt;<br>&lt;/head&gt;<br>&nbsp; &nbsp; &lt;body&gt; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;div id=\"loginformouter\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;h1&gt;Login&lt;/h1&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div id=\"loginforminner\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&lt;form Id=\"LoginForm\" ReturnUrl=\"/api/MessageHistory\" action=\"/Account/Login\" method=\"post\"&gt;&lt;input name=\"__RequestVerificationToken\" type=\"hidden\" value=\"Kdk-Ac4QTO51GONiAv0spKOW9TFRzv_fny7pdg6KL_9wMhRxQW0od3HD4uVBrl1FRJ8rFrpMxLE3lanBkW9jEBEJck_VKiy2w6vd3MtNZK01\" /&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;div class=\"editor-label\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for=\"UserName\"&gt;Username&lt;/label&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=\"editor-field\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input data-val=\"true\" data-val-required=\"*\" id=\"UserName\" name=\"UserName\" type=\"text\" value=\"\" /&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=\"field-validation-valid\" data-valmsg-for=\"UserName\" data-valmsg-replace=\"true\"&gt;&lt;/span&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=\"editor-label\"&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label for=\"Password\"&gt;Password&lt;/label&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=\"editor-field\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input data-val=\"true\" data-val-required=\"*\" id=\"Password\" name=\"Password\" type=\"password\" /&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;span class=\"field-validation-valid\" data-valmsg-for=\"Password\" data-valmsg-replace=\"true\"&gt;&lt;/span&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=\"editor-label\"&gt;&amp;nbsp;&lt;/div&gt; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=\"editor-field\"&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=\"btnlogin\" type=\"submit\" value=\"LOGIN\" style=\"width: 100px;height:40px;font-size:1em;\" /&gt; &lt;a id=\"forgotpasswordlink\" href=\"/Account/ForgotPassword\"&gt;Forgot Password?&lt;/a&gt;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt; &nbsp; &nbsp;<br>&lt;/form&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;<br>&nbsp; &nbsp; &lt;/body&gt;<br>&lt;/html&gt;﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:06:31 AM","shortDate":"Jul 8, 2014","textHtml":"Not sure what could be causing it to go to the login page on 401 error...﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:08:05 AM","shortDate":"Jul 8, 2014","textHtml":"Looks like it might be this line causing a redirect to that page:<br><br>&nbsp; &nbsp; &lt;authentication mode=\"Forms\"&gt;<br>&nbsp; &nbsp; &nbsp; &lt;forms loginUrl=\"~/Account/Login\" timeout=\"2880\" /&gt;<br>&nbsp; &nbsp; &lt;/authentication&gt;<br><br>No sure why it's taking over from a SS error though.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 8, 2014, 10:19:05 AM","shortDate":"Jul 8, 2014","textHtml":"Yeah <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Forms auth can hijack and take over any <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> request.&nbsp;<br>Note: <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Auth is incompatible with SS Auth and the ServiceClients it doesn't make sense to try and use both.﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:21:11 AM","shortDate":"Jul 8, 2014","textHtml":"Due to compatibility issues, we're only using ASP .NET auth. However the problem exists because SS and ASP .NET are running in the same web application. I'm using the SS configuration of :<br><br>&nbsp; &lt;location path=\"api\"&gt;<br>&nbsp; &nbsp; &lt;system.web&gt;<br>&nbsp; &nbsp; &nbsp; &lt;httpHandlers&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;add path=\"*\" type=\"ServiceStack.HttpHandlerFactory, ServiceStack\" verb=\"*\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;/httpHandlers&gt;<br>&nbsp; &nbsp; &lt;/system.web&gt;<br>&nbsp; &nbsp; &lt;!-- Required for IIS7 --&gt;<br>&nbsp; &nbsp; &lt;system.webServer&gt;<br>&nbsp; &nbsp; &nbsp; &lt;modules runAllManagedModulesForAllRequests=\"true\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;handlers&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;add path=\"*\" name=\"ServiceStack.Factory\" type=\"ServiceStack.HttpHandlerFactory, ServiceStack\" verb=\"*\" preCondition=\"integratedMode\" resourceType=\"Unspecified\" allowPathInfo=\"true\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;/handlers&gt;<br>&nbsp; &nbsp; &lt;/system.webServer&gt;<br>&nbsp; &lt;/location&gt;﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:23:22 AM","shortDate":"Jul 8, 2014","textHtml":"I created a request filter in order to check the validity of security tokens. As I didn't want to do something silly like copy and paste code into every service method, using a SS request filter seemed the best approach. Any ideas on how I can keep control with SS or change the filter return to work? Otherwise, if not, any suggestions on how best to handle this kind of scenario?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 8, 2014, 10:29:07 AM\n(edited Jul 8, 2014, 10:29:38 AM)","shortDate":"Jul 8, 2014","textHtml":"By ending the request with a res.ReturnAuthRequired() it returns a 401 HttpStatusCode.Unauthorized error which is what what <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> built-in Auth listens to in order to kick-in and hijack the request. You could try using the FormHijackingPrevention module to try and ignore hijacking the request for SS routes:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Form-Hijacking-Prevention\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Form-Hijacking-Prevention</a><br>Otherwise you would have to change the exception into a 400 Error or something else to prevent FormsAuth from hijacking the request.﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 10:33:13 AM","shortDate":"Jul 8, 2014","textHtml":"thank you thank you thank you... changed it to return a 403 Forbidden error and I'm back in business. Thanks for your help. Greatly appreciated!﻿"}],"date":"Jul 8, 2014, 9:40:09 AM","shortDate":"Jul 8, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"I'm getting this error on one of my websites, just started happening out of the blue - any ideas what would be causing this?!<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://pastebin.com/kZ1jSBka\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://pastebin.com/kZ1jSBka</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 26, 2014, 8:07:06 AM\n(edited Jun 26, 2014, 2:16:41 PM)","shortDate":"Jun 26, 2014","textHtml":"This looks very strange, it looks like it's originating from this method:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/558f2cca77cf9cacc41d8475cf787b9f8db712fc/src/ServiceStack/ServiceStackHost.Runtime.cs#L322\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/558f2cca77cf9cacc41d8475cf787b9f8db712fc/src/ServiceStack/ServiceStackHost.Runtime.cs#L322</a><br><br>But there's no code-gen there or anything else that I can see that would create an&nbsp;InvalidProgramException. The weird thing is that it looks like it's the result of creating a new instance, but the only possible instances being created:<br>is `new NotFoundHttpHandler()` which doesn't have a default constructor and `new ServiceStackHttpHandler(ssHandler)` which is harmless: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHttpHandler.cs#L13\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHttpHandler.cs#L13</a><br><br>Is there anything strange on that website? i.e. resources being maxed out or anything out of the ordinary like running unsafe code.?﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 8:08:55 AM","shortDate":"Jun 26, 2014","textHtml":"Nope - in fact the site used to work on my old laptop, copied it over to my new laptop and it was working for a few runs then this started happening﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 26, 2014, 8:14:21 AM","shortDate":"Jun 26, 2014","textHtml":"Is it possible to send me a copy that I can try repro locally?﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 8:27:53 AM","shortDate":"Jun 26, 2014","textHtml":"I'll add you to the repo...&nbsp;﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 8:34:34 AM","shortDate":"Jun 26, 2014","textHtml":"If you don't have a xamarin license just remove all of the mobile projects. The project in question is the [ProjectName].Web project...﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 8:52:38 AM","shortDate":"Jun 26, 2014","textHtml":"I think this might be something wrong with my laptop :/ just tried to fire up another site and getting similar weirdness﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 8:56:46 AM","shortDate":"Jun 26, 2014","textHtml":"Sorry - the other one is working.. must have just been having a funny 5﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 26, 2014, 9:07:52 AM","shortDate":"Jun 26, 2014","textHtml":"k cool thx﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 9:09:32 AM","shortDate":"Jun 26, 2014","textHtml":"So the one I gave you access to is still not working yeh﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 26, 2014, 10:44:22 AM","shortDate":"Jun 26, 2014","textHtml":"Ran into a couple of issues, it's telling me I need 4.5.1 installed. Also I can't build the entire solution because it can't find&nbsp;Cirrious.&nbsp;<br><br>But just building the WebHost what API repro's the error? I'm hitting&nbsp;/Api/Model/User and&nbsp;/Api/Model/User/1 a bunch of times and haven't been able to generate any errors...﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 26, 2014, 10:46:10 AM","shortDate":"Jun 26, 2014","textHtml":"Hmmm.. might need to pull nugets, I wonder if there is something wrong with my laptop... It's a work one so has been used by someone else before me. I'll have a go on another machine﻿"}],"date":"Jun 26, 2014, 7:22:56 AM","shortDate":"Jun 26, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"The new join support in SqlExpression&lt;T&gt; is great.<br><br>However, there are two things that are not supported yet.<br><br>1) The ToCountStatement function is broken for joins if the where expression refers to columns from one of the joined tables.<br>e.g.<br>.Join&lt;Table1, Table2&gt;()<br>.Where&lt;Table2&gt;(x =&gt; x.Id == 1)<br>.ToCountStatement()<br>The generated SQL will be:<br>SELECT COUNT(*) FROM Table1 WHERE Table2.Id = 1<br>(I will report this as a new issue.)<br><br>2) There is no way to choose which columns to select, other than from the base table.<br>e.g. if do .Join&lt;Table1, Table2&gt;(),<br>I can't then do .Select&lt;Table2&gt;(x =&gt; new { x.Column1, x.Column3 }).<br>Is this going to be supported in the future?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 20, 2014, 4:51:11 AM","shortDate":"Jun 20, 2014","textHtml":"For the custom select it's only going to support mapping to a custom POCO combined with fields from each table as described in:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#selecting-multiple-columns-across-joined-tables\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#selecting-multiple-columns-across-joined-tables</a>\nIt's in-line with how the existing API's work so should be intuitive, without complicating the API surface.&nbsp;﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jun 20, 2014, 5:27:18 AM","shortDate":"Jun 20, 2014","textHtml":"Reported issue for broken ToCountStatement:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/102\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/102</a>﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jun 23, 2014, 4:53:21 AM","shortDate":"Jun 23, 2014","textHtml":"Are there any plans to extend the join support in the JoinSqlBuilder to match what's now available in SqlExpression i.e. to allow complex join expressions?<br><br>I have a bunch of queries where I need complex joins (only works in SqlExpression) and also need to specify which columns to select (only works in JoinSqlBuilder).<br><br>I'm currently stuck with building the SQL manually, which is a bit of a maintenance headache.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 23, 2014, 5:17:32 AM\n(edited Jun 23, 2014, 5:18:33 AM)","shortDate":"Jun 23, 2014","textHtml":"There aren't plans to extend SqlExpression to specify an anonymous types for a custom select.<br>What's wrong with creating a POCO that specifies the types/columns to Select? It ends up being more re-usable since the schema of anon types aren't visible beyond method boundaries.﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jun 23, 2014, 6:04:00 AM\n(edited Jun 23, 2014, 6:04:23 AM)","shortDate":"Jun 23, 2014","textHtml":"I should have been more clear about my use case.<br><br>An example is where I'm joining two tables which have some identically named columns. I need to select some of those columns from the second table. If I create a new POCO and use the SqlExpression convention, it will select the columns from the first table.<br><br>I don't know if this is such a common use case, but I have it often enough to be a pain.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 23, 2014, 6:21:24 AM","shortDate":"Jun 23, 2014","textHtml":"You can use the full-qualified name to select unambiguous column names, e.g: '{Table}{Field}' in addition to just '{Field}'<br>more info at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/#selecting-multiple-columns-across-joined-tables\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/#selecting-multiple-columns-across-joined-tables</a><br><br>The version on NuGet just had this fallback for Id's, but the version on MyGet allows fully qualified names for any column.﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jun 23, 2014, 6:25:45 AM","shortDate":"Jun 23, 2014","textHtml":"Great, that should work.﻿"}],"date":"Jun 20, 2014, 4:36:29 AM","shortDate":"Jun 20, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"Mini Profiler seems to be broken in 4.0.21. Was there a breaking change regarding this? I can't find anything in the release notes.<br><br>This now returns a 404 error:<br>&nbsp;/api/ssr-results?id=443c899d-3349-4b7d-9b5e-9cf2a17e107e&amp;popup=1?_=1402970813698<br><br>Though the other stuff, such as the ssr- stuff for javascript and html is available.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 16, 2014, 10:45:47 PM\n(edited Jun 16, 2014, 10:47:10 PM)","shortDate":"Jun 16, 2014","textHtml":"No changes were made to MiniProfiler, and everything's still working for me locally.&nbsp;<br><br>ssr-results does return 404 if it can't find a record of the profiled result. By default it stores results in the HttpRuntime Cache so shouldn't have any dependency issues.<br><br>Do you have any StartUp errors in your debug info, i.e: ?debug=requestinfo<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info</a><br><br>If you don't have any StartUp errors, can you create a new issue at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>Please include the output of&nbsp;?debug=requestinfo and the HTTP Request/Response of calling /ssr-results (which you can get from WebInspector or Fiddler).﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 17, 2014, 12:04:54 AM","shortDate":"Jun 17, 2014","textHtml":"?debug=requestinfo always returns an empty response. I've checked Config.DebugMode is set to true. Is there anything else that's required to enable it?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 17, 2014, 12:09:44 AM","shortDate":"Jun 17, 2014","textHtml":"Nope that's it, are you requesting it from the path where servicestack is mounted? i.e. /api?debug=requestinfo (if you have SS registered at /api custompath)﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 17, 2014, 4:01:07 AM","shortDate":"Jun 17, 2014","textHtml":"yes it's just empty content for /?debug=requestinfo And I upgraded my fork of EmailContacts to 4.0.21 and it does the same. (After enabling debug mode) &nbsp;With Email Contacts the mini profiler is inconsistent in .19 and does't return a result in .21 so far. What forces mini profiler to create data sometimes and not others?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 17, 2014, 4:21:01 AM","shortDate":"Jun 17, 2014","textHtml":"I've just updated EmailContacts to v4.0.21 in this commit:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/EmailContacts/commit/c603bda62e8afe4f8596ebeb7c495c7d93302b80\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/EmailContacts/commit/c603bda62e8afe4f8596ebeb7c495c7d93302b80</a><br><br>And the MiniProfiler works as it did before, here's a screenshot:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://i.imgur.com/xcX1Jlh.png\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://i.imgur.com/xcX1Jlh.png</a><br><br>Can you try pulling the latest version of EmailContacts (it's now at v4.0.21) and then send screenshots of the issue.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 17, 2014, 5:16:37 AM","shortDate":"Jun 17, 2014","textHtml":"Ok I got it again and the issue still happens (on Mac through XS / xsp4). I'll spin up my Windows VM and see if it's environmental.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://imgur.com/D57WRQH\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://imgur.com/D57WRQH</a>﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Jun 17, 2014, 8:04:10 AM","shortDate":"Jun 17, 2014","textHtml":"Hi guys, maybe it's just a URL issue, your URL seems to contain 2 question mark<br><br>﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 17, 2014, 7:58:37 PM","shortDate":"Jun 17, 2014","textHtml":"Yes it's working on Windows + VS. Just not from Mac + XS.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 20, 2014, 3:16:34 AM","shortDate":"Jun 20, 2014","textHtml":"Found the issue:<br><br>The EndRequest event in the Global.asax, i.e:<br><br>protected void Application_EndRequest(object src, EventArgs e) {<br>&nbsp; &nbsp; &nbsp; &nbsp; Profiler.Stop();<br>}<br><br>Doesn't have `HttpContext.Current` set which it needs to be able to save the results to the HTTP Runtime Cache.<br><br>A solution is to move the call to `Profiler.Stop()` in the AppHost's OnEndRequest by overriding it in your AppHost, i.e:<br><br>public override void OnEndRequest ()<br>{<br>&nbsp; &nbsp; &nbsp; &nbsp; base.OnEndRequest ();<br>&nbsp; &nbsp; &nbsp; &nbsp; Profiler.Stop();<br>}﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 20, 2014, 9:37:14 PM","shortDate":"Jun 20, 2014","textHtml":"Nice find. Thanks :)﻿"}],"date":"Jun 16, 2014, 10:14:50 PM","shortDate":"Jun 16, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Any news on a sliding session expiration option? Mentioned last year here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/14857921/how-to-advance-the-session-timeout-in-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/14857921/how-to-advance-the-session-timeout-in-servicestack</a>﻿","comments":[],"date":"Jun 14, 2014, 5:48:12 AM","shortDate":"Jun 14, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello, I was wondering if it's possible to share the DTO /Requests files between 2 projects (Web and WPF one) using a portable class project in vs2013 but when I try to reference the SS assemblies via nuget I got an error saying there's no compatible nugetpackage for that kind of project.... is it possible in some way?Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 12, 2014, 4:26:12 AM","shortDate":"Jun 12, 2014","textHtml":"Web and WPF both allow full .NET so you don't need to create a PCL project.<br><br>If you want to create a PCL project of your DTO's you will need to create a separate PCL .NET project which you can then use to link the source files from your existing Service Models which will then allow you to reference ServiceStack's PCL packages from, i.e. ServiceStack.Interfaces.Pcl. This is mentioned here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello#sharing-server-dtos-with-clients\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello#sharing-server-dtos-with-clients</a><br><br>The repo also contains an example of this approach in the ServiceModel and ServiceModel.Pcl projects:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello/tree/master/src\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello/tree/master/src</a>﻿"}],"date":"Jun 12, 2014, 3:48:21 AM","shortDate":"Jun 12, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"MVC5 integration<br><br>I am on SS 4.0.19 at present for all my web services.<br>We are adding a MVC5 web site to our solution and we use servicestack (AppHost, + SSFunq as our IoC) etc on this MVC site to call our services.<br><br>We now want to integrate FluentValidation (FV) into the MVC site and replace DataAnnotations to validate our ViewModels.<br>I known FV supports MVC5 (in a dedicated NuGet) and we got that working just fine, but there is much overlap (duplicate types) now with ServiceStack internal version of FV.<br>I notice that the ServiceStack.Mvc package is still only supporting MVC3.<br><br>Is there any option here where I can replace FV with a Signed ServiceStack NuGet that will support MVC5?<br><br>I think the only thing we are missing from SS at present is the ability to register validation for MVC to use FV like this:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FluentValidationModelValidatorProvider.Configure(provider =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; provider.ValidatorFactory = new FunqValidatorFactory(container);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 11, 2014, 6:20:38 PM\n(edited Jun 11, 2014, 6:20:55 PM)","shortDate":"Jun 11, 2014","textHtml":"Fluent Validation is internalized and tightly integrated with ServiceStack's validation and error handling, it's not something that can be swapped out.<br><br>There's a UseCase project that uses MVC5 with SS here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.UseCases/tree/master/Mvc5\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.UseCases/tree/master/Mvc5</a>&nbsp;<br>It seems you should be able to use SS.Mvc and MVC5 together as-is.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Jun 11, 2014, 8:36:19 PM","shortDate":"Jun 11, 2014","textHtml":"Thanks Demis, but this project (as an example) uses DataAnnotations as the validation framework, whereas I want to replace that with FluentValidation, which is why I need the code above, which evidently only works for MVC3 (according to posts I have trawled through).<br><br>However, I will try using SS.MVC (as long as I can find a signed version somewhere)! Else I am going to have to copy out the classes I need from FV.MVC5 into my codebase as the last resort.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Jun 12, 2014, 6:19:10 PM","shortDate":"Jun 12, 2014","textHtml":"Reporting back. I can confirm the following method works for me, for anyone with the same issue coming after.<br><br>I absorbed the code (15 source files) from FluentValidation.Mvc5 into my web project, and adjusted (only using statements) it to use ServiceStack.FluentValidation.*.<br><br>It works a brilliant treat. Now I can eliminate the FluentValidation assemblies and NuGet from my entire solution. (avoid duplicate types in different namespaces)<br><br>Downside is that I wont receive updates to FV.Mvc, but that can be managed manually due to small size of footprint.﻿"}],"date":"Jun 11, 2014, 6:10:39 PM\n(edited Jun 11, 2014, 6:11:25 PM)","shortDate":"Jun 11, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"Has anyone attempted to do some sort of paging (Limit/Offset) with JoinSqlBuilder? I can't seem to find any way of doing so, but it seems like a very basic thing that you would want to do so I'm wondering if I'm just blind and missing something?﻿","comments":[{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Jun 9, 2014, 6:04:34 AM","shortDate":"Jun 9, 2014","textHtml":"The easy solution here would of course be to just append the paging to the resulting query, but since I'm dealing with SQL Server 2008 here which doesn't have any sort of sane syntax for paging in the first place this becomes very hard and seems to require me to drop all JoinSqlBuilder usage in the first place, which would be sad because I like having a strongly typed class to prevent me from doing stupid mistakes when writing code :(﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 9, 2014, 1:27:53 PM","shortDate":"Jun 9, 2014","textHtml":"Unfortunately JoinSqlBuilder is an external SqlBuilder contributed by the community so it's not integrated with the rest of OrmLite. Just had a look and it doesn't look like Limit/Offset is supported. If you can add a feature request or submit an Issue, I can look at what it would take to add support for it.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 10, 2014, 8:39:16 PM","shortDate":"Jun 10, 2014","textHtml":"I've re-factored the SqlExpression and JoinSqlBuilders so they have some re-use around the Limit/Offset support which is now in MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>Some tests showing its usage is at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/Expression/SqlExpressionTests.cs#L118\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/Expression/SqlExpressionTests.cs#L118</a>﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Jun 11, 2014, 1:54:28 AM","shortDate":"Jun 11, 2014","textHtml":"Demis, thank you so much, you and servicestack are completely amazing! :)﻿"}],"date":"Jun 9, 2014, 3:14:20 AM","shortDate":"Jun 9, 2014"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","textHtml":"I have noticed that when I am using social auth providers (e.g. Facebook, Twitter) provided by ServiceStack, locked users are able to login successfully.<br><br>I was expecting the same behaviour as in CredentialsAuthProvider that prevents locked users to login.<br><br>Have anyone encountered this behaviour?﻿","comments":[{"userId":"105231522439308079513","userName":"Mark Chipman","date":"Jun 4, 2014, 11:35:16 AM","shortDate":"Jun 4, 2014","textHtml":"Authentication is NOT the same as authorization... Social auth only authenticates whom you are... not what you have access to. :)﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jun 4, 2014, 11:47:31 AM","shortDate":"Jun 4, 2014","textHtml":"Hello Mark,<br><br>So why does UserAuth contains a LockedDate? And why does CredentialsAuthProvider validates that the user is not locked?<br><br>I agree with you, but it seems odd to have different behaviours on the same scenario (i.e. authentication).<br><br>As a workaround I check if the user is locked on the OnAuthenticated. However, then I have to send the user to the logout service which seems a little bit odd.﻿"},{"userId":"105231522439308079513","userName":"Mark Chipman","date":"Jun 4, 2014, 11:54:35 AM","shortDate":"Jun 4, 2014","textHtml":"I think that it might be because when using social auth libraries you can only get so much (ie: claims from Twitter or Facebook for your user... all depending on what the user has authorized to be released back to you).. but with UserAuth you have much more in your control to the raw resources (ie: your data store) since authorization functionality is in your hands where you have access directly to those kinds of resources.<br><br>Anyone else got insight to this?<br><br>-Mark﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jun 4, 2014, 12:19:36 PM","shortDate":"Jun 4, 2014","textHtml":"But when I am using social auth I load the user's UserAuth while authenticating (if the user already exists I fetch the UserAuth if not I create a new one) and therefore I can check if the user is locked or not. This occurs after I exchange the keys with the auth provider but when the user is not yet authenticated on my application.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 4, 2014, 4:34:06 PM","shortDate":"Jun 4, 2014","textHtml":"Initially the LockedDate was to prevent multiple invalid attempts to a User/Auth account, which is not something we have to worry about with OAuth providers since they're authenticated elsewhere.<br><br>But as it's still a good feature to be able to prevent access from authorized users I've just &nbsp;added support for locking user accounts in all auth providers with todays commits:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commits\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commits</a><br><br>Which is now available on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>Note: Locking a users account will prevent authentication the next time a user authenticates (i.e. it doesn't log out a currently logged in user).﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jun 5, 2014, 4:38:09 AM","shortDate":"Jun 5, 2014","textHtml":"Hi Demis,<br><br>Thanks. This is indeed a nice feature.﻿"}],"date":"Jun 4, 2014, 8:57:16 AM","shortDate":"Jun 4, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"Is there a JsConfig option to not serialize an enum's default value? Similar to how&nbsp;JsConfig.IncludeNullValues = false will omit null properties, I'd like to omit enum default values.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 30, 2014, 4:50:39 PM","shortDate":"May 30, 2014","textHtml":"Nope, but I've just added JsConfig.IncludeDefaultEnums in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/commit/2a59f0b4488de6b27f9a2198c7d9272748801d50\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/commit/2a59f0b4488de6b27f9a2198c7d9272748801d50</a>﻿"}],"date":"May 30, 2014, 2:54:26 PM","shortDate":"May 30, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"About v4.0.21and ServiceStack-powered Desktop applications. Demis, &nbsp; you was successful, with CefSharp 3 and Winforms ?<br>I have tested&nbsp; CefSharp before 2 months and it had&nbsp; a lot of problems.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 29, 2014, 6:19:35 PM\n(edited May 29, 2014, 6:57:19 PM)","shortDate":"May 29, 2014","textHtml":"Yeah went with CefSharp in the end since it was pretty easy to get working where it just needs to reference the CefSharp .NET dlls and copy the unmanaged CEF builds in&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Gap/tree/master/lib\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Gap/tree/master/lib</a> to your WinForms project. I've wrote about how to get it working with WinForms at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Gap#winforms-with-chromium-embedded-framework\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Gap#winforms-with-chromium-embedded-framework</a><br><br>I tried CefGlue but it didn't seem to work with any of the CEF builds they listed in their documentation or commit logs so I just went with CefSharp.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 30, 2014, 4:26:30 AM","shortDate":"May 30, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>perfect. I tested it already, according to your guide. &nbsp; CefSharp is fast and modern. I need it very much, but before few months, was not real ready.<br>If not other problems, then we have a very interesting capability, thanks to your efforts.<br>We are capable&nbsp; to create native desktop applications,&nbsp; with a hybrid UI, using also&nbsp; the wealth of&nbsp; jQuery plugins and communicate with the back-end, calling the SS in the locahost.﻿"}],"date":"May 29, 2014, 5:53:25 PM\n(edited May 29, 2014, 5:53:42 PM)","shortDate":"May 29, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Default redirect?<br><br>What I want to achieve is to redirect a request for my SS service at <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost</a> &nbsp;in thebrowser, to: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/api/metadata\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/api/metadata</a><br><br>My project is a standard <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> web service. No MVC nothing like that. I am sure at some point this used to work a long time ago, just cant find out how to fix it.<br><br>Can anyone explain what is going on, or rather why this does not work for me?<br>I have the following in web.config (copied from the HelloWorld app):<br><br>&nbsp; &lt;!-- ServiceStack: Required to host at: /api --&gt;<br>&nbsp; &lt;location path=\"api\"&gt;<br>&nbsp; &nbsp; &lt;system.web&gt;<br>&nbsp; &nbsp; &nbsp; &lt;httpHandlers&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;add path=\"*\" type=\"ServiceStack.HttpHandlerFactory, ServiceStack\" verb=\"*\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;/httpHandlers&gt;<br>&nbsp; &nbsp; &lt;/system.web&gt;<br>&nbsp; &nbsp; &lt;system.webServer&gt;<br>&nbsp; &nbsp; &nbsp; &lt;modules runAllManagedModulesForAllRequests=\"true\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;handlers&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;add path=\"*\" name=\"ServiceStack.Factory\" type=\"ServiceStack.HttpHandlerFactory, ServiceStack\" verb=\"*\" preCondition=\"integratedMode\" resourceType=\"Unspecified\" allowPathInfo=\"true\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;/handlers&gt;<br>&nbsp; &nbsp; &lt;/system.webServer&gt;<br>&nbsp; &lt;/location&gt;<br><br>&nbsp; &lt;system.web&gt;<br>&nbsp; &nbsp; &lt;compilation debug=\"true\" targetFramework=\"4.5\" /&gt;<br>&nbsp; &nbsp; &lt;httpRuntime targetFramework=\"4.5\" /&gt;<br>&nbsp; &nbsp; &lt;httpHandlers&gt;<br>&nbsp; &nbsp; &nbsp; &lt;add path=\"api*\" type=\"ServiceStack.HttpHandlerFactory, ServiceStack\" verb=\"*\" /&gt;<br>&nbsp; &nbsp; &lt;/httpHandlers&gt;<br>&nbsp; &lt;/system.web&gt;<br><br>&nbsp; &lt;!-- Required for IIS 7.0 --&gt;<br>&nbsp; &lt;system.webServer&gt;<br>&nbsp; &nbsp; &lt;!-- ServiceStack: Required --&gt;<br>&nbsp; &nbsp; &lt;modules runAllManagedModulesForAllRequests=\"true\" /&gt;<br>&nbsp; &nbsp; &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;<br>&nbsp; &nbsp; &lt;handlers&gt;<br>&nbsp; &nbsp; &nbsp; &lt;!-- ServiceStack: Only required for IIS 7.0 --&gt;<br>&nbsp; &nbsp; &nbsp; &lt;!--&lt;add name=\"ServiceStack.Factory\" path=\"api\" type=\"ServiceStack.WebHost.Endpoints.ServiceStackHttpHandlerFactory, ServiceStack\" verb=\"*\" preCondition=\"integratedMode\" resourceType=\"Unspecified\" allowPathInfo=\"true\"/&gt;--&gt;<br>&nbsp; &nbsp; &lt;/handlers&gt;<br>&nbsp; &lt;/system.webServer&gt;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 12:47:19 AM","shortDate":"May 28, 2014","textHtml":"That web.config shows that ServiceStack is hosted at /api so ServiceStack is only able to receive requests from /api, i.e. not from root /.<br><br>Since it's just an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> application you should be able to use a Default.aspx page with a redirect, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/q/1093081/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/q/1093081/85785</a><br><br>You can set default requests in ServiceStack with `Config.DefaultRedirectPath`, which in this case will only let you control where <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/api/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/api/</a> redirects to.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 28, 2014, 5:03:26 PM","shortDate":"May 28, 2014","textHtml":"Thanks, that explains it. Is there any way i can get SS to control root AND have my services at /api, and then use SS to get the result i want? I just want to weigh my option here and avoid mixing in asp net noise? Might not be possible. I guess i am trying to learn how SS works better in this area (i.e. DefaultRedirectPath etc.)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 5:23:32 PM","shortDate":"May 28, 2014","textHtml":"Not with MVC which hijacks the request using a HTTP Module. But you can have servicestack hosted at / but mount services at /api by prefixing routes with \"/api\" which you can do automatically by overriding AppHost.GetRouteAttributes(): See bottom of:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/64\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/64</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 28, 2014, 6:00:57 PM","shortDate":"May 28, 2014","textHtml":"Thanks, that will do it﻿"}],"date":"May 28, 2014, 12:02:04 AM","shortDate":"May 28, 2014"},{"userId":"110405046630570757520","userName":"Erica Abbott","textHtml":"I've just upgraded a project to version 4. The licencing is all working perfectly in development (using the app.config key method). I just wondered if someone can point me in the correct direction with regard to licencing in deployment? Is the license key still required in the app.config for a deployed service, or is it just needed for development?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 26, 2014, 10:37:49 PM","shortDate":"May 26, 2014","textHtml":"It's also required for deployment (which works exactly the same way as it does during dev). Although there are a number of different ways you can register your license key, i.e:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/download#register\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/download#register</a>﻿"},{"userId":"110405046630570757520","userName":"Erica Abbott","date":"May 26, 2014, 11:03:55 PM","shortDate":"May 26, 2014","textHtml":"OK. I hadn't realised that. So, does that mean that we need to maintain a subscription in order for any of the applications we develop for clients to continue working? I'm sure the license agreement makes this all clear, but it is sometime hard to grasp the implications of some of the details in such licenses.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 26, 2014, 11:24:51 PM","shortDate":"May 26, 2014","textHtml":"Nope, the license only compares the expiry date of the license with the release date of the software, not the current date. So you can use the last update before your maintenance expires in perpetuity.﻿"},{"userId":"110405046630570757520","userName":"Erica Abbott","date":"May 26, 2014, 11:36:06 PM","shortDate":"May 26, 2014","textHtml":"OK. Good. When we looked into the licensing originally, I had understood that it would work something like that, but once reaching actual deployment stage it didn't seem clear of how it would work in practice. Thanks for clearing it up.﻿"}],"date":"May 26, 2014, 9:28:40 PM","shortDate":"May 26, 2014"},{"userId":"112912023223668381449","userName":"Kyle Gobel","textHtml":"Anyone run into this problem?<br><br>I try to debug into servicestack, and it works fine for ServiceStack.Text<br><br>but for ServiceStack, it doesn't work at all, not on my home nor work computers.<br><br>I have verified all my settings are correct in the docs, I even built SS locally and pointed it to the .pdb file...still no go<br><br>Anyone experienced this, or know of another work around to try?<br><br>(besides referencing local servicestack.dll files...which I haven't tried, but assumed that would probably work)<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://i.imgur.com/Vx29uOe.png\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://i.imgur.com/Vx29uOe.png</a><br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://i.imgur.com/aTiXO8t.png\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://i.imgur.com/aTiXO8t.png</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 10:06:05 AM","shortDate":"May 25, 2014","textHtml":"Yeah it's an issue, it used to work for SS.dll but stopped working a while ago, unfortunately getting it to work is a dark art, i.e. it's not clear what the issue is or how to go about resolving it.﻿"}],"date":"May 25, 2014, 12:24:13 AM\n(edited May 25, 2014, 12:25:21 AM)","shortDate":"May 25, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"JsonServiceClient deserialization of datetime<br><br>Is it possible to affect how the JsonServiceClient deserializes DateTime properties of DTO's.<br><br>It appears that even though UTC dates are returned on the wire from my service (JSConfig.AssumeUtc + JSConfig.AlwaysUseUtc) the client is deserializing them as DateTime.Kind = Local.﻿","comments":[{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"May 23, 2014, 12:15:17 AM","shortDate":"May 23, 2014","textHtml":"What version of SS.Text are you using? And can you post an example serialized DateTime that you think should be UTC?<br><br>My experience is that SS.Text is very strict on what it considers to be a UTC string. When it doesn't know for sure, I have found it to still yield a local DT instead of UTC.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 23, 2014, 1:21:49 AM","shortDate":"May 23, 2014","textHtml":"Yes sure Doug,<br><br>On the server we are setting: JSConfig.DateHandler = DateHandler.ISO8601 so dates are coming back on the wire in this format: \"YYYY-MM-DDTHH:MM:SS+12:00\"<br><br>And after serialization by JsonServiceClient, I am seeing the DateTime property of the DTO in Kind=Local rather than Kind=UTC. Does that make sense?<br><br>I have looked about the web on this issue and see that some posts say the JsonServiceClient might use a specific deserailizer, so wondering if we can affect it ourselves? like we can the service (with JSConfig)?﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"May 23, 2014, 2:54:37 AM","shortDate":"May 23, 2014","textHtml":"I'm just on my phone right now, so I'm going from memory, but I think SS.Text really wants UTC strings to end in \"Z\", not \"+/-tzOffset\". I'm not 100% sure, but that's my suspicion.<br><br>I believe you can override via JsConfig&lt;DateTime&gt;.DeSerializeFn. Also be aware that OrmLite.SqliteProvider can take a slightly divergent path with DateTime strings as well.<br><br>I'll try to provide a better response tomorrow after I've had a chance to look at a real computer.<br><br>Who am I kidding? Demi's will probably have this all figured out by the time I wake up. :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 23, 2014, 9:48:55 AM","shortDate":"May 23, 2014","textHtml":"JsConfig.AlwaysUseUtc on the client should deserialize it as UTC, here are a couple of tests to show this:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/tests/ServiceStack.Text.Tests/JsonTests/JsonDateTimeTests.cs#L636-L662\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/tests/ServiceStack.Text.Tests/JsonTests/JsonDateTimeTests.cs#L636-L662</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 24, 2014, 12:22:13 AM","shortDate":"May 24, 2014","textHtml":"OK thanks. So presumably using JSConfig has the scope of the entire client process (i.e. Singleton), is that a correct assumption?<br><br>Given that. I know I can use the BeginScope method to scope the JSConfig settings which is very nice. Since we have our own wrapper for JsonServiceClient, it may make sense to use that scope around the lifetime of our wrapper class contain the impact on the whole process. Sound doable?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 24, 2014, 8:06:20 AM","shortDate":"May 24, 2014","textHtml":"Yeah the config properties on JsConfig are static which you should initialize once on AppStart.<br>Yep, you may want to check out our approach for custom JSON Serialization used in the StripeGateway:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs#L392\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs#L392</a>﻿"}],"date":"May 23, 2014, 12:04:31 AM","shortDate":"May 23, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"How would I do social authentication in a mobile app? I want to have a xamarin client that can authenticate against my servicestack services - I can use xamarin.auth but to authenticate against Fb but have no idea how that would tie in with the SS client auth?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 4:12:54 PM","shortDate":"May 20, 2014","textHtml":"They don't tie together in the same way as an Obj-C auth client and an external service auth would tie together. They're just 2 separate clients authenticating with Facebook via OAuth individually.&nbsp;<br><br>Although when authenticating with facebook after you're already authenticated, facebook will auto-redirect back so the user doesn't have to accept the app again. Given this there might be an opportunity to copy over the cookies from Xamarin.Auth Account.Cookies collection to a new Browser window (maybe hidden?) and point it to <a rel=\"nofollow\" target=\"_blank\" href=\"http://yourhost/auth/facebook\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://yourhost/auth/facebook</a> and it should hopefully redirect to facebook then back again to SS which if authenticated will authenticate the user and set ServiceStack's ss-id/ss-pid Session cookies. You could then use these cookies with the ServiceClient to make authenticated requests to SS.<br><br>This is basically hypothetical, but that's the only way I can think of it working.<br><br>Another less secure way is to after authenticating with Xamarin.Auth grab the userId and call a backdoor service to auto-authenticate the user (i.e. populating an auth usersession) based on userId alone, obviously you want to protect any backdoors like this to ensure only your client can call this service to prevent anyone hijacking the account.&nbsp;﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"May 22, 2014, 9:09:49 AM","shortDate":"May 22, 2014","textHtml":"is it even possible to copy cookies over to another browser session?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 22, 2014, 9:44:49 AM","shortDate":"May 22, 2014","textHtml":"You can add Cookies on the server or client-side in the browser. If the WebBrowser control &nbsp;or HTTP Request doesn't offer an API to add cookies than you should just be able to add them in JS.<br><br>Checking out the Xamarin Docs they offer an EvaluateJavascript and LoadHtmlString APIs which looks like they should let you exec JS:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://iosapi.xamarin.com/?link=T%3aMonoTouch.UIKit.UIWebView%2fM\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://iosapi.xamarin.com/?link=T%3aMonoTouch.UIKit.UIWebView%2fM</a><br><br>The JS docs for editing cookies is at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.cookie\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://developer.mozilla.org/en-US/docs/Web/API/document.cookie</a>﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"May 23, 2014, 10:59:08 AM","shortDate":"May 23, 2014","textHtml":"OK I have just tried this out and when I have authenticated the Account.Cookies collection is empty :/﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 23, 2014, 4:30:02 PM","shortDate":"May 23, 2014","textHtml":"I guess that wont work then. What do you need Xamarin.Auth for? Is it a pre-requisite for calling something else? If so what's an example of an API. Just looking for a way if we can auth with SS and get around Xamarin.Auth.﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"May 24, 2014, 2:34:36 AM","shortDate":"May 24, 2014","textHtml":"People can register on our site using credentials auth or facebook, twitter, google. I am building iOS and Android apps so the user can get to their lineups etc while at a festival / event. Ideally we would allow them to sign in to the mobile apps using the social auth above - the credentials auth is in and working fine - it's just not many of our users will have opted to register with credentials. I don't particularly care about using xamarin.auth - it just provides a UI to authenticate. &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 24, 2014, 8:13:38 AM","shortDate":"May 24, 2014","textHtml":"It doesn't look like the OAuth session registered by a different client is going to be transferable so I'd recommend just bringing up a custom browser window to with links to the different OAuth providers here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks#authenticating-with-oauth\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks#authenticating-with-oauth</a><br>Then after the user authenticates, you'd want retrieve the ss-id/ss-pid cookies from the browser and add them to the JsonServiceClient.CookieContainer collection.﻿"}],"date":"May 20, 2014, 12:02:21 PM","shortDate":"May 20, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"FluentValidation.SetCollectionValidation() and injection<br><br>Given this code:<br><br>&nbsp; &nbsp; internal class DtoARequestValidator : AbstractValidator&lt;DtoA&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public DtoARequestValidator()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RuleFor(dto =&gt; dto.FieldA).NotEmpty();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RuleFor(dto =&gt; dto.Items).SetCollectionValidator(new DtoBValidator());<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; internal class DtoBValidator : AbstractValidator&lt;DtoB&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public DtoBValidator()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RuleFor(dto =&gt; dto.FieldB).NotEmpty();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public class DtoAResponse<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public class DtoA : IReturn&lt;DtoAResponse&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public string FieldA { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public List&lt;DtoB&gt; Items { get; set; }<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; public class DtoB<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public string FieldB { get; set; }<br>&nbsp; &nbsp; }<br><br>DtoA has a collection of DtoB.<br>To unit test the&nbsp;DtoARequestValidator I would need to inject an instance of the DtoBValidator into the call to SetCollectionValidator()<br>Since SetCollectionValidator() accepts only a IValidator&lt;T&gt; I need to create a property on the&nbsp;DtoARequestValidator class that is both an interface (for mocking) and derives from IValidator&lt;T&gt; so I can inject it into the SetCollectionValidator() method. For example:<br><br>&nbsp; &nbsp; internal interface IDtoBValidator : IValidator&lt;DtoB&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; internal class DtoBValidator : AbstractValidator&lt;DtoB&gt;, IDtoBValidator<br>&nbsp; &nbsp; {.....}<br><br>&nbsp; &nbsp; internal class DtoARequestValidator : AbstractValidator&lt;DtoA&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public IDtoBValidator DtoBValidator { get; set; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public DtoARequestValidator()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RuleFor(dto =&gt; dto.FieldA).NotEmpty();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RuleFor(dto =&gt; dto.Items).SetCollectionValidator(this.DtoBValidator);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>This seems to make sense, but unfortunately at runtime, the call to container.RegisterValidators() throws an exception because it finds my interface IDtoBValidator (as it derives from IValidator&lt;T&gt;), but its an interface not a class, and the RegisterValidators() method tries to instantiate it, and dump it into the Funq catalog!&nbsp;<br><br>What is a better pattern to use, so that I can isolate my DtoARequestValidator in unit testing???﻿","comments":[{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"May 20, 2014, 9:07:17 AM","shortDate":"May 20, 2014","textHtml":"Personally I don't unit test Fluent Validation objects. It has a rather declarative design, so basically all the logic to be tested is in the fluent validation implementation itself rather than your own logic, and the effort of testing them seems far larger than the benefit. In fact, I make a rule not to add external dependencies or complicated business logic to my validator objects: I require that the only context they need is the DTO being validated, nothing external like a database repository or service class. This ensures that the validator classes stay simple and declarative. I implement more complicated validation logic in my Service classes.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 3:16:11 PM","shortDate":"May 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;I've updated RegisterValidators to ignore registering interface validators and&nbsp;included an example of just registering the validator separately in the test below.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Common.Tests/ValidationTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Common.Tests/ValidationTests.cs</a><br><br>Because configuration of the validator happens in the constructor (and you can't register a collection validator with a delayed-loading lambda), you'll need to use constructor injection as seen in the above test.<br><br>Did you need it to do anything else before I publish this update?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 20, 2014, 3:20:40 PM","shortDate":"May 20, 2014","textHtml":"Thanks Demis, that should do it.<br>+1 on ctor inject﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 3:44:25 PM","shortDate":"May 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;FYI, this change is now on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"May 20, 2014, 4:07:37 AM\n(edited May 20, 2014, 4:12:40 AM)","shortDate":"May 20, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Is the SS Funq IoC a singleton ? I would like to use it independently from AppHost&nbsp;&nbsp; for our application needs. I did read&nbsp; also this helpful answer of Demis,&nbsp;&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/14713530/2103764\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/14713530/2103764</a><br>I should compile it from src, separately, if not use SS&nbsp; in the front-end .What if&nbsp; I use it also in the service-layer but before AppHost&nbsp; and maybe&nbsp; in another long-running thread ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 17, 2014, 1:43:47 AM","shortDate":"May 17, 2014","textHtml":"Funq.Conainer is not a singleton itself, but ServiceStack uses the same instance at AppHost.Container.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"May 17, 2014, 10:14:40 AM","shortDate":"May 17, 2014","textHtml":"I wouldn't get fixated on AppHost... especially if you only need / want bits and pieces. &nbsp;The Funq.Container can be used just like any other class... stored as a private field in your class, in a Global variable. &nbsp;The AppHost just makes it easier to do this in the service layer of your solution. &nbsp;If you're looking for a singleton pattern somewhere OUTSIDE of the service layer, you could always create your own singleton \"engine\" or other class which will CONTAIN a normal property of type Funq.Container...&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.dotnetperls.com/singleton\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.dotnetperls.com/singleton</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 17, 2014, 2:31:09 PM\n(edited May 17, 2014, 2:33:35 PM)","shortDate":"May 17, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span><br>&nbsp;I know what means singleton . I asked if there is a problem with 2 instances of Funq.Container initialized in the&nbsp; same application.﻿"}],"date":"May 17, 2014, 12:26:15 AM\n(edited May 17, 2014, 12:47:08 AM)","shortDate":"May 17, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Would it be possible to include a login/register example functionality in the EmailContacts sample solution?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 16, 2014, 5:56:21 AM","shortDate":"May 16, 2014","textHtml":"Not really, trying to keep Email Contacts as simple as possible. You can look at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks</a> for an example with login/register that also stores and protects data against authenticated users.﻿"}],"date":"May 16, 2014, 5:17:21 AM","shortDate":"May 16, 2014"},{"userId":"115804613053234986001","userName":"Cam Tucker","textHtml":"4.0.19 &amp; 4.0.20 OrmLite .Contains() is producing incorrect SQL for MySql, or I've done something wrong. I think it was working in 4.0.18. Is there a test that makes sure MySql is okay with the escape('\\\\') ?<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/5016868b5f7f1c12ef580223926fd386e2f54e06\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/5016868b5f7f1c12ef580223926fd386e2f54e06</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 12, 2014, 11:58:57 AM","shortDate":"May 12, 2014","textHtml":"That commit highlights the&nbsp;Can_escape_wildcards() test you can use.<br>That test works against my local MySql instance.﻿"},{"userId":"115804613053234986001","userName":"Cam Tucker","date":"May 12, 2014, 12:24:29 PM","shortDate":"May 12, 2014","textHtml":"That test only covers .StartsWith() - which is working fine for me.<br><br>.Contains() seems to produce an escape('\\') when it should be escape('\\\\') to work with MySql.﻿"},{"userId":"115804613053234986001","userName":"Cam Tucker","date":"May 12, 2014, 12:26:24 PM","shortDate":"May 12, 2014","textHtml":"My sqlexpression is:<br><br>var ev = db.From&lt;Person&gt;();<br>var phoneScrubbed = \"some phone number\";<br>ev.Where(p =&gt; p.phone_home.Contains(phoneScrubbed) || p.phone_cell.Contains(phoneScrubbed) || p.phone_bus.Contains(phoneScrubbed));<br>ev.OrderBy(p =&gt; p.last_name).ThenBy(p =&gt; p.first_name);<br>return db.Select(ev);﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 12, 2014, 2:22:15 PM","shortDate":"May 12, 2014","textHtml":"ok I've had to swap the escape character because it behaves differently in MySql, in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/8e7ed941f1269054a62a1e6c2af5d83afca25b0e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/8e7ed941f1269054a62a1e6c2af5d83afca25b0e</a><br><br>Which is now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"May 12, 2014, 11:50:06 AM","shortDate":"May 12, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"More swagger. Lovin it!<br><br>I'd like to see if I can document the necessary request headers that certain requests require. One of my API's requires that callers set a certain request header with certain values (e.g. Basic Auth header). Can swagger document that?<br><br>All my API's are secured by OAuth2.0 Bearer tokens. Does swagger + SS do anything to help consumers create access_tokens using our OAuth Server in order to make the request?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 3:35:15 PM","shortDate":"May 7, 2014","textHtml":"You can use the Swagger Attributes to markup your services and provide more detailed API docs:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#swagger-attributes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#swagger-attributes</a><br><br>I'm not sure if you've seen the recent support for Postman that was just released in v4.0.19:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#postman-support\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#postman-support</a><br><br>But it supports exporting your session cookies with /postman?exportSession=true which you can use to copy the url into Postman and call services as an authenticated user.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 7, 2014, 3:50:57 PM","shortDate":"May 7, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;the problem with Postman is that customers should download &amp; install it.<br>This only make it&nbsp; not a viable option.&nbsp;<br>Also we can customize easily&nbsp; html of swagger .﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 4:15:14 PM","shortDate":"May 7, 2014","textHtml":"Oh boy, Postman looks to be another option, but to replace swagger?<br><br>I was hoping for a way to do what the swagger petshop demo allows by providing &nbsp;a page to capture credentials, call the oAuth server to get a token and then feed it into headers of the request.<br><br>Are we saying I have to customize swagger-ui myself to do that?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 8:00:32 PM","shortDate":"May 7, 2014","textHtml":"the OAuth providers doesn't support supplying custom tokens, but since swagger is hosted from the same website, if the user is already authenticated they automatically call services under their existing authenticated session.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 9:54:51 PM","shortDate":"May 7, 2014","textHtml":"Thanks, but in our case, not using the OAuth providers yet. We have our own oAuth server, and it serves tokens for our API.<br><br>A potential solution is to provide our own Login dialog on a web page, collect credentials, make the call to create access_token, then feed that into the call the user then makes through swagger UI.<br>I sort of see a similar experience on the petshop demo.<br><br>I guess I am on my own putting these pieces together.﻿"}],"date":"May 7, 2014, 8:26:20 AM","shortDate":"May 7, 2014"},{"userId":"101123583934813226258","userName":"Sebastian Nemeth","textHtml":"Interested in using ServiceStack.Client to consume other, non-SS based REST APIs, but concerned over whether it's intended to do so. Posted a question on SO about it, would love to hear from anyone who has had success trying this:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/23499697/can-servicestack-client-be-used-to-consume-non-ss-rest-apis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/23499697/can-servicestack-client-be-used-to-consume-non-ss-rest-apis</a>﻿","comments":[{"userId":"101123583934813226258","userName":"Sebastian Nemeth","date":"May 6, 2014, 3:28:38 PM","shortDate":"May 6, 2014","textHtml":"Been playing with ServiceStack.Client and I'm noticing it decorates requests with some ServiceStack formatting conventions, such as 'json/reply/String HTTP/1.1'... Is there a way to escape this and use the JsonServiceClient to connect to arbitrary REST APIs?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 6, 2014, 6:50:10 PM","shortDate":"May 6, 2014","textHtml":"Just left a comment, I don't recommend using the Service Clients for consuming 3rd Party APIs as their optimized for consuming 3rd Party services.<br><br>For 3rd Party APIs I recommend using the approach that's taken with the StripeGateway, i.e. using routes attributed on typed DTO's and a generic ServiceClient:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs</a>﻿"}],"date":"May 6, 2014, 12:13:13 PM","shortDate":"May 6, 2014"},{"userId":"112912023223668381449","userName":"Kyle Gobel","textHtml":"Is there anything built into SS to work with object graphs that are recursive, like to detect and not include the recursive parts or just make them null at some point instead of a stack overflow? &nbsp;Talking about methods like ToJson&lt;T&gt;, Dump&lt;T&gt;, ect﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 3, 2014, 2:33:50 PM","shortDate":"May 3, 2014","textHtml":"SS.Text doesn't support cyclical deps, you can ignore properties with any of the approaches on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/14859968/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/14859968/85785</a><br>Otherwise you can prevent StackOverflows by setting a JsConfig.MaxDepth.﻿"},{"userId":"112912023223668381449","userName":"Kyle Gobel","date":"May 6, 2014, 7:28:38 PM","shortDate":"May 6, 2014","textHtml":"awesome, just what I needed. &nbsp;Thanks.<br><br>&nbsp;No plan to support cyclical deps for speed reasons I'm assuming?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 6, 2014, 7:34:42 PM\n(edited May 6, 2014, 7:35:00 PM)","shortDate":"May 6, 2014","textHtml":"not being able to detect them is a design limitation of the static analysis approach.﻿"}],"date":"May 2, 2014, 7:46:17 PM","shortDate":"May 2, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I have a web page that is similar to&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net/rockstars\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net/rockstars</a>.&nbsp;<br>Now I want to set the title on the page using a value from a database or a config file. I can't add this value to the \"RockstarsResponse\" model.<br>How can I achieve this?<br>Do I have to use some javascript to do another request for the title string?&nbsp;<br><br>I want to have the same title on all or most of my pages. Is it possible to use a _layout page and make that page fetch the title string?﻿","comments":[{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Apr 24, 2014, 7:18:51 AM","shortDate":"Apr 24, 2014","textHtml":"Might be easier than I thought.<br>If I'm getting the title from the web.config I think I could just do this in the _layout file:<br>&lt;title&gt;@System.Web.Configuration.WebConfigurationManager.AppSettings[\"webTitle\"]&lt;/title&gt;<br>&nbsp;&nbsp;﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Apr 24, 2014, 7:48:17 AM","shortDate":"Apr 24, 2014","textHtml":"The code above worked.&nbsp;<br>And to get the title from the database I did this:<br>@{&nbsp; &nbsp;<br>&nbsp; &nbsp;var dbTitle = \"MyTitle - \";<br>&nbsp; &nbsp; using (Db)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; title += Db.Single&lt;Setting&gt;(s =&gt; s.Name == &nbsp;\"LocationName\").Value;<br>&nbsp; &nbsp; }<br>}<br>....<br>&lt;title&gt;@dbTitle&lt;/title&gt;<br>...﻿"}],"date":"Apr 24, 2014, 7:05:30 AM","shortDate":"Apr 24, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"RE: Validation Reuse<br><br>I have some objects inside the layers of services that require validation at various points. Would be good to reuse some of the ancillary Validators that are already used by SS for validating DTO's.<br><br>Is there a helper pattern or method with which I can apply validators in my code in any location? Just a pointer to some doco would be enough, or a sample?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 22, 2014, 3:44:11 PM","shortDate":"Apr 22, 2014","textHtml":"Not sure if this is what you're after but you can use the ValidateAndThrow method to validate a request inline, e.g:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L79\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L79</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 22, 2014, 7:07:07 PM","shortDate":"Apr 22, 2014","textHtml":"Thanks﻿"}],"date":"Apr 22, 2014, 3:14:31 PM","shortDate":"Apr 22, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hi Demis,<br>I've built an example trying to use ServiceStack authentication &amp; authorization feature in ASP.Net MVC 5.1.<br>In the attachment you can find an example that doesn't works:<br>the auth features active; you can login with <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:54407/api/auth?username=admin&amp;password=Pa$$w0rd\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:54407/api/auth?username=admin&amp;password=Pa$$w0rd</a><br>an \"hello\" service (<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:54407/api/hello\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:54407/api/hello</a>); this decorated with the [Authenticate] attribute so this works only if you're logged in<br>an \"home\" controller decorated with the [Authenticate] attribute; you can invoke it with <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:54407/home\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:54407/home</a>.<br>The home controller redirects me to the login page (<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:54407/login?redirect=%2fhome\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:54407/login?redirect=%2fhome</a>) also if I'm logged in.<br><br>What's wrong?<br><br>Thank you﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 22, 2014, 8:44:52 AM","shortDate":"Apr 22, 2014","textHtml":"Have you looked at the Custom MVC Auth examples in UseCases?&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.UseCases/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.UseCases/</a><br><br>Otherwise downloading and diagnosing a custom solution requires a support incident, if you want to use a support incident for this can you send this info to support@servicestack.net to confirm, thx.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Apr 22, 2014, 9:02:30 AM","shortDate":"Apr 22, 2014","textHtml":"I've forwarded the mail to the support, thanks<br>Paolo﻿"}],"date":"Apr 22, 2014, 2:13:49 AM","shortDate":"Apr 22, 2014"},{"userId":"107064682139080786059","userName":"Dion Scher","textHtml":"I'm consistently getting the following error in my logs:<br><br>System.Web.HttpException (0x80004005): Server cannot set status after HTTP headers have been sent.<br>&nbsp; &nbsp;at System.Web.HttpResponse.set_StatusCode(Int32 value)<br>&nbsp; &nbsp;at System.Web.HttpResponseWrapper.set_StatusCode(Int32 value)<br>&nbsp; &nbsp;at ServiceStack.Host.AspNet.AspNetResponse.set_StatusCode(Int32 value)<br>&nbsp; &nbsp;at ServiceStack.HttpResponseExtensionsInternal.WriteErrorToResponse(IResponse httpRes, IRequest httpReq, String contentType, String operationName, String errorMessage, Exception ex, Int32 statusCode)<br>&nbsp; &nbsp;at ServiceStack.ServiceStackHost.OnUncaughtException(IRequest httpReq, IResponse httpRes, String operationName, Exception ex)<br>&nbsp; &nbsp;at ServiceStack.HttpResponseExtensionsInternal.WriteToResponse(IResponse response, Object result, ResponseSerializerDelegate defaultAction, IRequest request, Byte[] bodyPrefix, Byte[] bodySuffix)<br>&nbsp; &nbsp;at ServiceStack.HttpResponseExtensionsInternal.WriteToResponse(IResponse httpRes, IRequest httpReq, Object result, Byte[] bodyPrefix, Byte[] bodySuffix)<br>&nbsp; &nbsp;at ServiceStack.Host.RestHandler.&lt;&gt;c__DisplayClass5.&lt;ProcessRequestAsync&gt;b__0(Object response)<br>&nbsp; &nbsp;at ServiceStack.Host.Handlers.ServiceStackHandlerBase.HandleResponse(Object response, Func`2 callback, Func`2 errorCallback)<br><br>Can anyone suggest a way of tracing and hopefully fixing the cause of this unhandled exception?<br><br>Regards,<br><br>Dion﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 17, 2014, 8:31:43 AM","shortDate":"Apr 17, 2014","textHtml":"You can register an exception handler and set a breakpoint to catch it, or log extra details about it, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customized-error-handling\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customized-error-handling</a>﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Jul 8, 2014, 9:38:43 AM","shortDate":"Jul 8, 2014","textHtml":"Thanks﻿"}],"date":"Apr 17, 2014, 8:21:08 AM","shortDate":"Apr 17, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"About the&nbsp; SmartThreadPool , in&nbsp;&nbsp; the self-host. Till now,&nbsp; I&nbsp; use the AppHostHttpListenerBase. Often, I create&nbsp; a thread&nbsp; in the AppDomain&nbsp; to handle global background tasks . If I use the Pool hosts,&nbsp; can I add my thread in the SmartThreadPool also ? is it public ?&nbsp;<br>&nbsp;Also.&nbsp; is there special exceptions to log&nbsp;&nbsp; &nbsp; SmartThreadPool&nbsp; problems ?﻿","comments":[{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Apr 15, 2014, 7:58:18 AM","shortDate":"Apr 15, 2014","textHtml":"More information about the SmartThreadPool here: <a rel=\"nofollow\" target=\"_blank\" href=\"http://smartthreadpool.codeplex.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://smartthreadpool.codeplex.com</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 15, 2014, 8:16:34 AM\n(edited Apr 15, 2014, 8:17:01 AM)","shortDate":"Apr 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/100587390444469805657\" oid=\"100587390444469805657\">Scott McArthur</a></span><br>&nbsp;thx, As I have read SmartThreadPool &nbsp; is instantiable, not static.&nbsp; Using the AppHostHttpListenerSmartPoolBase, can we have acess in the SS pool instance, to add our threads ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 8:25:35 AM","shortDate":"Apr 15, 2014","textHtml":"it's private atm, but yeah I guess I could make it public. Are you creating your own threads within a web request?﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 15, 2014, 8:28:02 AM","shortDate":"Apr 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;No, usually &nbsp; in the same level where I initialize appHost, long run. &nbsp; Services access&nbsp; global dictionaries e.g&nbsp; Users&nbsp; stats﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 8:31:43 AM","shortDate":"Apr 15, 2014","textHtml":"ok cool, but in that case long running threads wont benefit from a ThreadPool.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 15, 2014, 8:38:30 AM\n(edited Apr 15, 2014, 8:38:57 AM)","shortDate":"Apr 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;right. Only I don't know how the overall program performance&nbsp; will be influenced&nbsp; having different pool manager, or different SmartThreadPool instance.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 8:41:36 AM","shortDate":"Apr 15, 2014","textHtml":"I can't imagine any difference if they're never being released back into the pool, in which case using any ThreadPool is just overhead over spawning a new thread yourself. Anyway, I'll make it public either way.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 15, 2014, 8:50:54 AM\n(edited Apr 15, 2014, 9:29:37 AM)","shortDate":"Apr 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;thx, probably you are right.&nbsp; there are issues that I don't know. e.g what If I start async operations from the thread. what is the role of threadPool in this case. <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/17410405\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/17410405</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 15, 2014, 9:28:55 AM\n(edited Apr 15, 2014, 9:30:57 AM)","shortDate":"Apr 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>Finally, because of async - await operations, in general,&nbsp; I inclined not using SmartThreadPool at all.<br>Because, async use the Thread.Pool internally and I am afraid to have two different pools.&nbsp; I am not sure about.<br>here a question<br>\"async/await with other threads/pools\"<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://social.msdn.microsoft.com/Forums/en-US/2be7c4e5-9f36-4d42-8f9b-e772473b1145/asyncawait-with-other-threadspools\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://social.msdn.microsoft.com/Forums/en-US/2be7c4e5-9f36-4d42-8f9b-e772473b1145/asyncawait-with-other-threadspools</a><br>here<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/18144040/asynchronous-callback-is-running-in-which-thread-when-i-use-smartthreadpool\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/18144040/asynchronous-callback-is-running-in-which-thread-when-i-use-smartthreadpool</a><br>and here<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.codeproject.com/Articles/7933/Smart-Thread-Pool?msg=4356629#xx4356629xx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.codeproject.com/Articles/7933/Smart-Thread-Pool?msg=4356629#xx4356629xx</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 9:36:32 AM\n(edited Apr 15, 2014, 9:36:57 AM)","shortDate":"Apr 15, 2014","textHtml":"yeah it sounds like using tasks would be better.﻿"}],"date":"Apr 15, 2014, 7:55:16 AM\n(edited Apr 15, 2014, 7:56:37 AM)","shortDate":"Apr 15, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"I'm having trouble deploying ServiceStack with Razor to Azure as a web role. I get the following error...<br><br>Could not load file or assembly 'System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The system cannot find the file specified.<br><br>and it's referring to this line...<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;add assembly=\"System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;<br><br>But per the Rockstar sample and what's in my web project is a reference to v3.0.0.0.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 2:47:27 AM","shortDate":"Apr 11, 2014","textHtml":"This is mentioned in:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Razor-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Razor-Notes</a><br><br>You would need to either change the reference in Razor config to point to the Version=3.0.0.0 or install the 1.0.0.0 version, i.e:<br>Install-Package Microsoft.AspNet.WebPages -Version 1.0.20105.408<br><br>We don't actually use the library (it's there just to keep Web.config happy) so it's cool to use the older 1.0 version.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 11, 2014, 3:27:00 AM","shortDate":"Apr 11, 2014","textHtml":"I tried to change the reference to 3.0.0.0 in the config and I got the same error but for 3.0.0.0. I then tried to use both the latest and 1.0.20105.408 WebPages nuget package and when I did this the site comes up with the generic \"snapshot servicestack\" page. It's as if I lost my razer pages.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 3:40:48 AM","shortDate":"Apr 11, 2014","textHtml":"Are there any startup errors in ?debug=requestinfo﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 11, 2014, 4:08:09 AM","shortDate":"Apr 11, 2014","textHtml":"What seemed to work both locally and in azure was removing the line&nbsp;&lt;add assembly=\"System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt; completely from the web.config. I still kept the 3.0 as a reference though. You may want to consider revisiting this situation.<br><br>I'll revert it back to 1.0.2x and try the debug=requestinfo tomorrow and see if anything shows up.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 4:23:12 AM\n(edited Apr 11, 2014, 4:24:42 AM)","shortDate":"Apr 11, 2014","textHtml":"hmm, do you mean this line?&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack.Razor/content/web.config.transform#L15\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/NuGet/ServiceStack.Razor/content/web.config.transform#L15</a><br><br>I'll investigate, it would be damn nice not to specify a specific version.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 11, 2014, 12:54:39 PM","shortDate":"Apr 11, 2014","textHtml":"Yes that's the line I removed.﻿"}],"date":"Apr 11, 2014, 2:39:07 AM","shortDate":"Apr 11, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello excuse me, I need to integrate SS with Nlog, I've seen you provided this <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nuget.org/packages/ServiceStack.Logging.NLog/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.nuget.org/packages/ServiceStack.Logging.NLog/</a> but I don't know after having added it via nuget what to do, where should I register (and how) it?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 9, 2014, 11:10:03 AM","shortDate":"Apr 9, 2014","textHtml":"All loggers are basically registered in the same way, i.e. by assigning the log factory:<br><br>LogManager.LogFactory = new NLogFactory();&nbsp;﻿"}],"date":"Apr 9, 2014, 11:01:15 AM","shortDate":"Apr 9, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Anyone ever use a CHAR data type as a PK / FK on SQL Server using ServiceStack? &nbsp;Any issues doing this? &nbsp;The goal is to have a very small PK (similar to TinyInt) but with a bit cleaner control within C#.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 5, 2014, 7:03:27 PM","shortDate":"Apr 5, 2014","textHtml":"Just try it, can't see why it would be an issue.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Apr 6, 2014, 12:57:36 PM","shortDate":"Apr 6, 2014","textHtml":"Had to ditch the idea. &nbsp;Haven't had time to look into the underlying reasons, however many of the extensions / helpers were mismatched while querying. &nbsp;For example, some would convert to int while others to string. &nbsp;Ended up reverting back to a string data type with a StringLength(1) attribute. &nbsp;Even though that'll create a varchar data type in the database, if I want to reduce it to a char(1) I can override the creation of the table.﻿"}],"date":"Apr 5, 2014, 5:52:37 PM","shortDate":"Apr 5, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What is the safest way to prevent a duplicate registration with Funq.Container? &nbsp;I have a utility class which loads several common items and need to protect against accidentally re-registering one of the same resources. &nbsp;It would be fine if the registration would REPLACE the first, or be ignored. &nbsp;Throwing an exception would not be acceptable.&nbsp;﻿","comments":[{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Apr 1, 2014, 10:29:20 AM","shortDate":"Apr 1, 2014","textHtml":"Some other DI implementations I've used do exactly what you want - latest registration wins. You can of course make it so that multiple registrations work too.<br>Adapting ServiceStack to use a different DI container is trivial, so if you're not against it in principle, I'd consider using a different product (I know it's convenient to have Funq included 'in the box').<br>I deliberately won't say which DI product I'm using to avoid a holy war about whose DI product is the best ;)﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"Apr 1, 2014, 12:17:07 PM","shortDate":"Apr 1, 2014","textHtml":"I'm interested in knowing what DI containers people are using - not for any sort of argument, but just for the information.<br><br>Additionally, I'd be interested in knowing whether you are/have used the container with Mono.<br><br>Currently, I'm using the built-in Funq, but have traditionally used Windsor.&nbsp;﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Apr 1, 2014, 6:22:02 PM","shortDate":"Apr 1, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/111566548421189684824\" oid=\"111566548421189684824\">Phillip Powers</a></span>&nbsp;<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span>&nbsp;All good info, but please create a new thread. &nbsp;Still looking for input on the safest way to prevent a duplicate registration with Funq.Container.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 1, 2014, 7:19:13 PM\n(edited Apr 1, 2014, 7:19:49 PM)","shortDate":"Apr 1, 2014","textHtml":"You could always do something like create your own Safe registration extension methods, e.g:<br><br>void SafeRegister&lt;T&gt;(this Container container, Func&lt;Container, T&gt; factory)<br>{<br>&nbsp; &nbsp; var exists = container.TryResolve&lt;T&gt;();<br>&nbsp; &nbsp; using (exists as IDisposable){}<br>&nbsp; &nbsp; if (!Equals(exists, default(T))) return;<br>&nbsp; &nbsp; container.Register(factory);<br>}<br><br>This wont register it if it already exists.﻿"}],"date":"Apr 1, 2014, 10:23:19 AM","shortDate":"Apr 1, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Automating integration tests, and test environments.<br>My ServiceStack web service does quite a bit of start-up stuff that persists data to a data store, which I am blowing away every test.<br><br>Is it possible to automate the recycling of the AppHost?, without recycling the IIS/IISEXPRESS that it is running within?<br><br>In other words, can I do something programmatic that forces the AppHost to call Init() again?<br><br>Just calling AppHost.init() fails of course.﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 30, 2014, 8:34:57 PM","shortDate":"Mar 30, 2014","textHtml":"This is just a guess but it looks like you can set&nbsp;ServiceStackHost.Instance to null and then call Init to reset ServiceStack from within your app host since the setter on Instance is protected.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 30, 2014, 10:40:36 PM","shortDate":"Mar 30, 2014","textHtml":"You should just need to call appHost.Dispose(); you'd normally do this on TearDown of the test fixture, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Testing#test-setup\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Testing#test-setup</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 31, 2014, 2:14:17 PM","shortDate":"Mar 31, 2014","textHtml":"Thanks Mythz,<br>Just one wrinkle, my integration tests are calling the web services over the wire.<br><br>Ideally, I'd like a solution that can be invoked remotely (say from a testing client to a test endpoint on the web service itself), which is called from the testing framework (in a separate process).<br><br>This seems to work as a REST method:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public ResetWebRoleResponse Get(ResetWebRole request)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Clear existing instance<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (ServiceStackHost.Instance != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceStackHost.Instance.Dispose();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Initialize a new instance<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new AppHost().Init();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Response.StatusCode = (int)HttpStatusCode.OK;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Response.End();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;<br>&nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 31, 2014, 3:27:25 PM","shortDate":"Mar 31, 2014","textHtml":"ok cool, yeah that should work as well.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 31, 2014, 3:59:46 PM","shortDate":"Mar 31, 2014","textHtml":"Awesome, thanks for the affirmation.﻿"}],"date":"Mar 30, 2014, 8:13:08 PM","shortDate":"Mar 30, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"I need to use Microsoft Azure Active Directory for authentication in a project. Is this supported in ServiceStack? If not, is it planned for a future release? Some customers are starting to ask us integration with Azure AD.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 30, 2014, 1:45:41 AM","shortDate":"Mar 30, 2014","textHtml":"There's no active directory support baked into ServiceStack itself, although it should still be implementable using a custom Auth Provider.<br><br>Support for AD is next on the TODO list, but need to finish a few other things I'm currently working on before starting on it.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Mar 30, 2014, 7:40:40 PM","shortDate":"Mar 30, 2014","textHtml":"Thx for the feedback. If I've time I'll give a look on how to implement AD integration in the next month.﻿"},{"userId":"105231522439308079513","userName":"Mark Chipman","date":"Mar 31, 2014, 1:01:21 PM","shortDate":"Mar 31, 2014","textHtml":"Demis, maybe consider integration of SS with Thinktecture's IdentityServer 2--- then AD integration would be built-in :)﻿"},{"userId":"105231522439308079513","userName":"Mark Chipman","date":"Mar 31, 2014, 1:20:55 PM","shortDate":"Mar 31, 2014","textHtml":"Ivan... have a look at this... might help you:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://brockallen.com/2013/04/14/getting-json-web-tokens-jwts-from-adfs-via-thinktecture-identityservers-adfs-integration/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://brockallen.com/2013/04/14/getting-json-web-tokens-jwts-from-adfs-via-thinktecture-identityservers-adfs-integration/</a>﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Apr 1, 2014, 5:49:38 PM","shortDate":"Apr 1, 2014","textHtml":"Yes it helps! Thanks a lot!﻿"}],"date":"Mar 29, 2014, 4:17:53 PM","shortDate":"Mar 29, 2014"},{"userId":"100587390444469805657","userName":"Scott McArthur","textHtml":"Hello,<br><br>If I disable the HTML feature and have the default content type set to JSON, like this:<br><br>public override void Configure(Funq.Container container)<br>{<br>&nbsp; &nbsp; SetConfig(new HostConfig {&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; DefaultContentType = MimeTypes.Json,<br>&nbsp; &nbsp; &nbsp; &nbsp; EnableFeatures = Feature.All.Remove(Feature.Html)<br>&nbsp; &nbsp; });<br>}<br><br>Then make a request to a route from a web browser without explicitly specifying I want JSON content I get \"Forbidden\".<br><br>However when looking at the \"Accept\" header:<br>Accept: text/html,**/**;q=0.9<br><br>It specifies that it will accept <b>/</b>. Why can't ServiceStack then honour with a default response? i.e. application/json﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 4:22:06 PM","shortDate":"Mar 28, 2014","textHtml":"yeah it should work like that, looking into it﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 4:41:33 PM","shortDate":"Mar 28, 2014","textHtml":"Hey Scott, is \"*<b>/*</b>\" meant to be \"*/*\"?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 4:59:47 PM","shortDate":"Mar 28, 2014","textHtml":"Should now be fixed with this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/fd7b74a84fd3a5ca08efc808e62cb524022b9c8c\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/fd7b74a84fd3a5ca08efc808e62cb524022b9c8c</a>﻿"},{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Mar 28, 2014, 7:15:05 PM","shortDate":"Mar 28, 2014","textHtml":"Thanks Demis, that's great. Yeah I couldn't get G+ to format that string properly. Your commit look spot on. Cheers.﻿"}],"date":"Mar 28, 2014, 3:19:52 PM\n(edited Mar 28, 2014, 3:20:43 PM)","shortDate":"Mar 28, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"","comments":[],"date":"Mar 27, 2014, 9:55:57 AM","shortDate":"Mar 27, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"If I have a class that implements IDisposable, and register it on Funq [1] with &nbsp;ReuseScope.Request, shouldn't the Dispose method be called on it when the request ends?<br>It feels like dispose is not being called on it, at least on 4.0.13.<br><br><br>[1] - container.Register(c =&gt; new Something()).ReusedWithin(ReuseScope.Request);﻿","comments":[{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 23, 2014, 4:11:43 PM","shortDate":"Mar 23, 2014","textHtml":"I think I found the issue.<br>I was using this dependency on a service with async methods. It looks like the Request reuse scope stores the items on a ThreadStatic field, which might get lost in the async calls.&nbsp;<br><br>A test case for this would be:<br>- Register a IDisposable on Fun with ReuseScope.Request.<br>- Use it on a service with no async methods, it is disposed.<br>- Use it on a service with an async method, it is not disposed.<br><br>The workaround for now seems to be to not use async on services with per request dependencies (which in our case is almost all services).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 5:49:58 PM","shortDate":"Mar 23, 2014","textHtml":"Thanks Bruno, I'll investigate, IDisposable dependencies should be disposed once the request ends sync or async.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 6:27:54 AM","shortDate":"Mar 24, 2014","textHtml":"I'm guessing you're only seeing this issue with HttpListener hosts right?<br><br>Anyway this change ended up being a little disruptive where I had to change to use Remoting's CallContext LogicalData API's instead of ThreadStatics and&nbsp;moved RequestContext from SS.Client into SS.&nbsp;<br><br>I've added new IOC tests for async methods in this commit:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/3d1111ed1e9c6306b8f20657bc9d00c63246d781\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/3d1111ed1e9c6306b8f20657bc9d00c63246d781</a><br>Which are now all passing.<br><br>This change is now available on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 24, 2014, 8:14:38 AM","shortDate":"Mar 24, 2014","textHtml":"Sorry, still seeing the issue (confirmed that I'm using latest by checking that RequestContext is on ServicesStack namespace).<br><br>I think I'm using an AspNetHost.<br>From an immediate window:<br>&gt;HostContext.IsAspNetHost<br>true<br>&gt;HostContext.IsHttpListenerHost<br>false﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 4:10:58 PM","shortDate":"Mar 24, 2014","textHtml":"Hi Bruno, is this for an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> host i.e. through IIS? (BTW RequestContext was always in the ServiceStack namespace, it's just now in the ServiceStack.dll instead of ServiceStack.Client.dll)﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 24, 2014, 4:18:05 PM","shortDate":"Mar 24, 2014","textHtml":"Yap, <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> host, via IIS. I've been testing on express, but it should be the same.<br><br>(Oops, sorry, misread your comment then. Still, I think I've got the correct version, it didn't use a threadstatic to store instances).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 4:20:49 PM","shortDate":"Mar 24, 2014","textHtml":"ok I'll look into it for <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>. BTW <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> never used thread statics, i.e. it always used&nbsp;System.Web.HttpContext.Current.Items﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 24, 2014, 5:37:18 PM","shortDate":"Mar 24, 2014","textHtml":"Gah, must have missed that, sorry.<br>Just to try and make sure I wasn't doing anything else wrong, I've isolated the issue on this repo: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/brunomlopes/ss-i18n-contentpages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/brunomlopes/ss-i18n-contentpages</a> &nbsp;, after updating to the latest version.<br><br>The ping service at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/brunomlopes/ss-i18n-contentpages/blob/master/WebApplication1/Services/PingService.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/brunomlopes/ss-i18n-contentpages/blob/master/WebApplication1/Services/PingService.cs</a> increases the disposed count on the Disposed class, but the async ping service does not.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 26, 2014, 3:33:24 AM","shortDate":"Mar 26, 2014","textHtml":"Hi Bruno, this should now be resolved on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 26, 2014, 4:48:28 AM","shortDate":"Mar 26, 2014","textHtml":"Thanks Demis, just checked and it seems like the issue is gone :)﻿"}],"date":"Mar 23, 2014, 2:46:55 PM","shortDate":"Mar 23, 2014"},{"userId":"108294048423393024972","userName":"Thinh Pham","textHtml":"Have anyone ever use the method ServiceStackHost.CreateServiceController()? The reason i'm asking is that there is sometimes a need to regenerate the assemblies using T4 template (when database schema was modified) and i'd like to replace the list of assemblies currently being used by AppHost with a new list of assemblies without bringing down the app pool.﻿","comments":[{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Mar 24, 2014, 4:34:43 AM","shortDate":"Mar 24, 2014","textHtml":"Hi Thinh,<br><br>Did you consider using MEF from Microsoft?<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/10986966/mef-load-plugin-from-directory\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/10986966/mef-load-plugin-from-directory</a><br><br>In theory it should be possible to monitor a folder and load DLLs in runtime.<br><br>Please be aware that my experience with MEF is quite limited.&nbsp;﻿"},{"userId":"108294048423393024972","userName":"Thinh Pham","date":"Mar 28, 2014, 10:24:57 PM","shortDate":"Mar 28, 2014","textHtml":"Thanks Carlos for your recommendation.&nbsp;My scenario however is a little different. I already know when some dll needed to be loaded or not and do not need to be notified.<br><br>The problem is that the AppHost constructor requires that all assemblies to be provided at construction time. If one of my assembly is regenerated at runtime, how do i get the AppHost to refresh itself so new types from the generated assembly get picked up? Without restarting the AppPool or doing an iisreset of course﻿"}],"date":"Mar 21, 2014, 9:58:59 AM","shortDate":"Mar 21, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What is the cleanest / safest / most elegant way of seeding a database and updating a schema using OrmLite and LocalDb (in debug only, if possible)? &nbsp;I'd like to mimic EF's logic where the DB is recreated if the schema gets out of sync. &nbsp;Currently, I have a CreateSchema() method which is called the first time any of the repositories in a DAL assembly are hit. &nbsp;Unfortunately, this requires me to manually drop or purge the database... which really sucks in a CI scenario.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 8:22:55 PM","shortDate":"Mar 20, 2014","textHtml":"I'm always using: db.CreateTableIfNotExists&lt;T&gt;();<br>It doesn't compare schema's but will recreate the table if it doesn't exist.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 20, 2014, 8:33:58 PM","shortDate":"Mar 20, 2014","textHtml":"I was doing this initially, however exceptions were being thrown if a FK was violated mismatched.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 8:36:08 PM","shortDate":"Mar 20, 2014","textHtml":"Yeah in that case you wont be able to drop and create single tables like that, you'd need to drop them in order then create them in order.<br><br>If you're using InMemory sqlite it's really fast and dropping/creating each time is not a noticeable problem.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 20, 2014, 8:38:41 PM","shortDate":"Mar 20, 2014","textHtml":"Kinda figured. &nbsp;Unfortunately, SQLServer &amp; LocalDb are my targets. &nbsp;Can you think of a pattern that would assist with this? &nbsp;Maybe not checking for the FK itself, but resorting to a rebuild if a certain exception is thrown during the CreateTableIfNotExists?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 9:53:40 PM","shortDate":"Mar 20, 2014","textHtml":"There's a db.TableExists() method that you can use to determine whether the \"root\" table exists and if not create all related tables. Basically group the work into more cachable chunks.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 20, 2014, 9:55:09 PM","shortDate":"Mar 20, 2014","textHtml":"Yeah, that's what I'm currently doing.... pretty much for this reason. &nbsp;I'll let you know if I think of some MagicDoItAll method. &nbsp;Thanks, again.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 21, 2014, 5:29:13 PM","shortDate":"Mar 21, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Will&nbsp;db.DropTable&lt;&gt;() throw if the table does not exist? &nbsp;I'm trying to think through a recovery routine to regenerate the schema. &nbsp;My goal is to purge all tables and rebuild.﻿"}],"date":"Mar 20, 2014, 8:15:24 PM","shortDate":"Mar 20, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"When laying out the Request and Response objects, is it necessary to use a concrete class for any properties? &nbsp;For example, would this constitute a valid Response object:<br><br>public class GetCountryListResponse<br>{<br>&nbsp; &nbsp; public ResponseStatus ResponseStatus { get; set; }<br><br>&nbsp; &nbsp; public IList&lt;ICountry&gt; Countries { get; set; }<br>}﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 19, 2014, 7:46:47 PM","shortDate":"Mar 19, 2014","textHtml":"Yes it would work. A __type json propety is added to the json to identify the type. Though I would recommend making that a List&lt;ICountry&gt; instead to lesson the size of the json string.&nbsp;﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 19, 2014, 7:48:46 PM","shortDate":"Mar 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span>&nbsp;Beautiful. &nbsp;The model object was actually what I was hoping for. &nbsp;Returning a firm List is irrelevant in this instance.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 19, 2014, 7:48:47 PM\n(edited Mar 19, 2014, 7:49:09 PM)","shortDate":"Mar 19, 2014","textHtml":"Please never use interfaces as properties in DTO's, it doesn't do what you think it does and there's no good reason for this:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/10759250/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/10759250/85785</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 19, 2014, 7:50:44 PM","shortDate":"Mar 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I don't recommend it either, but if you must as I recall ServiceStack.Text did support it, right?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 19, 2014, 7:59:42 PM\n(edited Mar 19, 2014, 8:00:50 PM)","shortDate":"Mar 19, 2014","textHtml":"Doesn't matter if it's supported, it provides the worst behavior in all cases. It's slower, distorts the wire format and ends up more tightly coupled to C# and SS.JSON.<br><br>Using concrete collection types generates the <b>*same wire format*</b> so you can already have the Response DTO on the server returning:&nbsp;<br><br>public class Response {<br>&nbsp; &nbsp;public List&lt;Country&gt; Countries { get; set; }<br>}<br><br>and have the client desalinizing it into a different concrete collection, e.g:<br><br>public class Response {<br>&nbsp; &nbsp;public HashSet&lt;Country&gt; Countries { get; set; }<br>}<br><br>and that still works because the wire format is the same.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 19, 2014, 8:12:28 PM","shortDate":"Mar 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Thanks for the link and feedback. &nbsp;You're right. &nbsp;I was trying to accommodate a bad design. &nbsp;Glad someone smacked me out of it.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 20, 2014, 3:28:17 AM","shortDate":"Mar 20, 2014","textHtml":"@Demis Bellot I didn't know this, our DTOs all use IList... will have to review that SO comment, thanks for the pointer.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 20, 2014, 10:52:04 AM\n(edited Mar 20, 2014, 11:08:50 AM)","shortDate":"Mar 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;<br>In some cases,&nbsp; the collection is&nbsp; created in the business logic layer &nbsp; and the service layer knows only the interface. Why is bad design ?<br>In general,&nbsp; I use only Lists or&nbsp; simply arrays, and always as members of the Response DTO,&nbsp; but it is&nbsp; flexible to use interfaces in some cases.<br>Maybe you could&nbsp; deserialize the contents into a List&lt;T&gt; ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 1:11:01 PM","shortDate":"Mar 20, 2014","textHtml":"You shouldn't leak interfaces on the wire, it's not good for any reasons you think it would be and very bad for the reasons above.<br><br>In general interfaces on Models are unlikely to be useful, i.e. when was the last time IList&lt;T&gt; provided any benefit over List&lt;T&gt;?&nbsp;﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 20, 2014, 2:16:56 PM\n(edited Mar 20, 2014, 2:17:24 PM)","shortDate":"Mar 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>When the business layer, a DLL from another team, it updates a collection that the service layer&nbsp;&nbsp; knows, only as&nbsp; IList&lt;T&gt;.&nbsp;&nbsp; In client side&nbsp; the IList could be deserialized always as List&lt;T&gt;.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 8:19:42 PM\n(edited Mar 20, 2014, 11:59:51 PM)","shortDate":"Mar 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/117871506896850334672\" oid=\"117871506896850334672\">Stefan Tsalapatis</a></span>&nbsp;so the useful example is that because someone else is returning an IList? and that it's convertible to a List&lt;T&gt;? why not just use a List&lt;T&gt; in the first place and save all the un-necessary code/conversions?<br><br>Either way IList should never be returned on the wire, it's rarely useful on models in code and is always detrimental on the wire.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 20, 2014, 8:36:16 PM","shortDate":"Mar 20, 2014","textHtml":"Gotta find a way to keep this thread alive... (just kidding)<br><br>What about inheriting from a BaseRequest or BaseResponse object? &nbsp;Any negatives about doing this? &nbsp;For example, if every response should contain&nbsp;ResponseStatus or some other solution-specific attribute.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 20, 2014, 8:51:23 PM\n(edited Mar 20, 2014, 9:14:33 PM)","shortDate":"Mar 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br><br>Because we implement the&nbsp; service layer with serviceStack&nbsp; as a very thin layer,&nbsp; in the front of&nbsp; the business-logic. ( not ormlite or other ss stuff).&nbsp; The Response DTO is created in the business layer. Of course, the IList member&nbsp; can be converted to List&lt;T&gt;, but it is an extra step and a step from developers, not related with the service developer.&nbsp; Never mind, what I said is from our experience, maybe others experience is different. As I wrote also in my first comment, it is a rare case, but more flexible if need be.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 9:50:44 PM","shortDate":"Mar 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span>&nbsp;my preference is to not hide DTO properties behind inheritance which should be considered a DSL for defining a service contract with, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/15369736/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/15369736/85785</a><br><br>On a related note, whenever I need to have custom logic applied to multiple DTO's I have DTO's implementing the same interface.﻿"}],"date":"Mar 19, 2014, 7:43:08 PM","shortDate":"Mar 19, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I try to&nbsp; create an EventLogFactory&nbsp; according to Wiki,&nbsp; but there is not such class.<br>LogManager.LogFactory = new EventLogFactory(\"Logging.Tests\", \"Application\");﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 12:51:44 PM","shortDate":"Mar 18, 2014","textHtml":"Did you:&nbsp;Install-Package ServiceStack.Logging.EventLog ?﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 18, 2014, 12:55:14 PM","shortDate":"Mar 18, 2014","textHtml":"No you are right﻿"}],"date":"Mar 18, 2014, 12:47:53 PM\n(edited Mar 18, 2014, 12:48:16 PM)","shortDate":"Mar 18, 2014"},{"userId":"113226573417239111945","userName":"Bruce Cowan","textHtml":"When I try to use signed ServiceStack assemblies with OrmLite and SqLite, I can't get things to compile because there is no OrmLite.SqLite signed assembly. Things are OK with Oracle and SQL Service because there are signed OrmLite assemblies for them.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 2:01:50 PM","shortDate":"Mar 17, 2014","textHtml":"Yeah there aren't any signed packages for Sqlite. The signed packages are kept down to the essentials packages, I'll look into creating one for Win/Sqlite as well.﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 17, 2014, 2:06:16 PM","shortDate":"Mar 17, 2014","textHtml":"Thanks! This is blocking me right now.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 2:08:34 PM","shortDate":"Mar 17, 2014","textHtml":"You're wanting to use the&nbsp;ServiceStack.OrmLite.Sqlite.Windows package right?﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 17, 2014, 2:10:33 PM","shortDate":"Mar 17, 2014","textHtml":"Yes, that is the package I use. I'm also wondering if it is going to work because SqLite itself isn't signed.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 2:24:56 PM","shortDate":"Mar 17, 2014","textHtml":"Everything needs to be signed, but it looks like System.Data.Sqlite is signed? or are you looking at another dll?﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 17, 2014, 2:34:55 PM","shortDate":"Mar 17, 2014","textHtml":"You are quite right, I don't know what I looked at before, because System.Data.SQLite.dll is the one I need. My bad there.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 4:35:48 PM","shortDate":"Mar 17, 2014","textHtml":"FYI, latest v4.0.13 was just deployed, it includes a new Sqlite.Windows.Signed build:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.nuget.org/packages/ServiceStack.OrmLite.Sqlite.Windows.Signed\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.nuget.org/packages/ServiceStack.OrmLite.Sqlite.Windows.Signed</a>﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 17, 2014, 5:05:54 PM","shortDate":"Mar 17, 2014","textHtml":"Thanks, that's really great, and it lets me continue. Unfortunately, I didn't notice that in the rest of our product we are including ServiceStack.logging.log4net and there isn't a signed version of it. I've now looked at all the ServiceStack dlls we're using to make sure I didn't miss any others.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 5:09:17 PM","shortDate":"Mar 17, 2014","textHtml":"ok but there wont be another release for a while, I'd recommend instead copying the 2 src files for the Log4Net adapter and add it to your own proj:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Logging.Log4Net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Logging.Log4Net</a>﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 17, 2014, 5:16:32 PM","shortDate":"Mar 17, 2014","textHtml":"Oops, when I used NuGet to get the SqLite.Windows.Signed package, the dll is named ServiceStack.OrmLite.Oracle.dll, which seems rather wrong.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 5:24:23 PM","shortDate":"Mar 17, 2014","textHtml":"Sigh, lame copy + paste error, rebuilding the packages now...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 6:33:37 PM","shortDate":"Mar 17, 2014","textHtml":"This is now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"Mar 17, 2014, 1:58:17 PM","shortDate":"Mar 17, 2014"},{"userId":"106974793916499995676","userName":"Ephraim Moss","textHtml":"We are looking to implement some sort of business process management behind SS REST services. We need to be able to manage changes in workflows as well as state of specific workflow instances.&nbsp;<br><br>Anyone doing anything similar, what frameworks / tools are you using.﻿","comments":[{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 17, 2014, 11:28:49 AM\n(edited Mar 17, 2014, 12:13:39 PM)","shortDate":"Mar 17, 2014","textHtml":"Most engines / frameworks for this type of thing are either bloated, inadequate, ridiculously expensive, or some combination thereof. &nbsp;Generally speaking, a simple BRM hierarchy works best for most environments. &nbsp;Of the countless 3rd party products I've used for this, the only one that I actually enjoyed using was InRule.﻿"},{"userId":"106974793916499995676","userName":"Ephraim Moss","date":"Mar 17, 2014, 4:40:44 PM","shortDate":"Mar 17, 2014","textHtml":"Will check inRule out. Anything open source that has caught anyone's eye. Want to avoid the heavy bloat. WF is not really a consideration, would be nice to hear an argument otherwise. ﻿"}],"date":"Mar 17, 2014, 10:55:40 AM","shortDate":"Mar 17, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"I need to get an User from the DB and update it from a Dto using auto-mapping.<br><br>Considering the following DTO:<br><br>&nbsp;public class UpdateUserDto<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Id { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Username { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public DateTimeOffset CreatedOn { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; ...<br>&nbsp; &nbsp; &nbsp; &nbsp; ...<br>&nbsp; &nbsp; &nbsp; &nbsp; public UserPreferences UserPreferences { get; set; }<br>&nbsp; &nbsp; }<br><br>When I’m updating the User I need to ignore some properties from the UpdateUserDto since they should not be changed (e.g.: Id, CreatedOn).<br><br>I know that I can use the PopulateFromPropertiesWithAttribute but usually I just want to exclude 2 or 3 properties from Dto’s that have 10 to 15 properties.<br><br>I was wondering if it wouldn’t be useful to have a “[NonDataMember]” attribute to select properties that should be ignored during the mapping.&nbsp;<br><br>Any other suggestions?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 15, 2014, 4:03:47 PM","shortDate":"Mar 15, 2014","textHtml":"You can always update a partial list of fields using OrmLite's db.UpdateOnly method. Give the methods on the DTO non-conflicting names. Or&nbsp;copy back the properties you don't want to overridden manually.&nbsp;<br><br>I've also added a PopulateFromPropertiesWithoutAttribute in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/commit/9bd0cc35c0a4e3ddcb7e6b6b88e760f45496145b\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/commit/9bd0cc35c0a4e3ddcb7e6b6b88e760f45496145b</a> so you can map all properties without an attribute.<br><br>I don't want to add any new conflicting/confusing attributes, as there is already IgnoreDataMember for serializers + Ignore for OrmLite.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Mar 15, 2014, 4:07:25 PM","shortDate":"Mar 15, 2014","textHtml":"Many thanks!﻿"}],"date":"Mar 15, 2014, 3:13:34 PM","shortDate":"Mar 15, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"Any help with a Ormlite Linq expression error in select (mysql db)?<br>In OrmLite 3 I could do this expression:&nbsp;<br>conn.Select&lt;Contact&gt;(C =&gt; C.Roles.Contains(ContactRoles.owner))<br><br>In Ormlite 4 this code gives the error:<br>variable 'C' of type 'pM.Models.Entity.Contact' referenced from scope '', but it is not defined﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 15, 2014, 2:11:49 PM","shortDate":"Mar 15, 2014","textHtml":"I can't repro this, can you add a stand-alone repro on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> so I can run + test locally?﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 17, 2014, 9:29:20 PM","shortDate":"Mar 17, 2014","textHtml":"Will do soon. Work around was to change i to&nbsp;conn.Select&lt;Contact&gt;().Where(C =&gt; C.Roles.Contains(ContactRoles.owner)). Still trying to get the general upgrade to 4 working, one last issue hosting.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 18, 2014, 1:24:49 AM","shortDate":"Mar 18, 2014","textHtml":"Made a fork of EmailContacts that reproduces the issue. This is the commit.<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/AaronLangley/EmailContacts/commit/a31822265975824da647a4a9b5629e03632c25dd\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/AaronLangley/EmailContacts/commit/a31822265975824da647a4a9b5629e03632c25dd</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 2:09:10 AM\n(edited Mar 18, 2014, 2:13:29 AM)","shortDate":"Mar 18, 2014","textHtml":"Yeah that's never going to work. Storing a collection of enums is a complex type that ends up being blobbed, e.g: \"[glam,funk]\" and you can't perform any native SQL queries like \"IN\" on blobbed data.<br><br>The collection works the other way around where if you can query with IN with a collection of enums against a single enum field, see quick test I just added:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite.MySql.Tests/Issues/SelectExpressionIssues.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite.MySql.Tests/Issues/SelectExpressionIssues.cs</a><br><br>An option for storing multiple enums is to use an [Flags] Enum which can store multiple enum values in a single int field. You can then use bit-wise operations on the server to query if it's in the collection. Unfortunately there's no support for bitwise enums in the LINQ expressions yet, but you can use Custom bitwise SQL with SelectFmt to do this, e.g:<br>db.SelectFmt&lt;Contact&gt;(\"Flags &amp; {0} = {0}\", (int)AvailableFlags.glam)﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 18, 2014, 2:39:09 AM","shortDate":"Mar 18, 2014","textHtml":"I guess with mysql a regex on the raw json string is possible too. &nbsp;Strange that it was working before in v3.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 2:57:43 AM","shortDate":"Mar 18, 2014","textHtml":"Do you have the SQL v3 generates?﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 18, 2014, 3:11:09 AM","shortDate":"Mar 18, 2014","textHtml":"yes from the profiler (which is awesome):<br><br>SELECT `Id` , `CustomerId` , `Reference` , `Email` , `SpecialType` , `Roles` , `Persons` , `AccountDetails` , `Notes` , `NameText` , `PostalAddressText` , `PhysicalAddressText` , `HomePhone` , `WorkPhone` , `CellPhone` , `ABN` , `TradeName` , `Website` &nbsp;<br>FROM `Contact`<br>WHERE (upper(`Roles`) like '%OWNER%' AND (`CustomerId` = '7fc4d2df93c04287b44ba2eb00af98ed'))﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 4:12:38 AM","shortDate":"Mar 18, 2014","textHtml":"ok looks like it's doing a string contains instead of an IN array contains.&nbsp;<br><br>Is Roles an Enum Collection?﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 18, 2014, 4:18:02 AM","shortDate":"Mar 18, 2014","textHtml":"Yes. So it should be safe not to escape it etc. ﻿"}],"date":"Mar 14, 2014, 3:05:43 AM\n(edited Mar 14, 2014, 3:48:33 AM)","shortDate":"Mar 14, 2014"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"Servicestack.Stripe, when creating a customer, i get error \"Received unknown parameter: accountBalance\". The same code runs with no errors from my test project, but fails when run from the site..&nbsp;<br><br>Any clue why this might be the case?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 4:02:06 PM","shortDate":"Mar 12, 2014","textHtml":"Are you using any global JsConfig in your AppHost?﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 13, 2014, 1:27:25 AM","shortDate":"Mar 13, 2014","textHtml":"Yes.&nbsp;<br>ServiceStack.Text.JsConfig.EmitCamelCaseNames = true;<br>Do you think this creates an issue when serializing the request to Stripe?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 13, 2014, 1:41:34 AM","shortDate":"Mar 13, 2014","textHtml":"If it's the exact same code that's failing I'm guessing it does, can you try testing after removing it so we can confirm?<br>Stripe expects lowercase_underscore naming, I can probably override that configuration when talking to Stripe.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 13, 2014, 1:42:31 AM","shortDate":"Mar 13, 2014","textHtml":"Yeah..this is the one killing me..i added this in my test and now test fails, resetting it made the test pass..<br>If I reset this in my service end point, and set it back whats the implication globally? since this is a global setting? Whats the scope of ServiceStack.Test settings from a per call basis?﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 13, 2014, 1:43:48 AM","shortDate":"Mar 13, 2014","textHtml":"If you can do it in Stripe, that will be the cleanest I guess, since its a requirement from Stripe (being defensive)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 13, 2014, 1:47:00 AM","shortDate":"Mar 13, 2014","textHtml":"Yep it should be possible to override using the JsConfig Scopes when talking to Stripe, I'll look into it after I wake up.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 13, 2014, 3:01:30 AM","shortDate":"Mar 13, 2014","textHtml":"Does this mean you are replying to this while you are asleep :)<br>Thanks for you continual support!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 13, 2014, 1:09:19 PM","shortDate":"Mar 13, 2014","textHtml":"Close, I was making my way to sleep :).&nbsp;<br>Should be fixed in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/commit/a8adce71b24d4f14b6a3b9b6282538f83da91f67\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/commit/a8adce71b24d4f14b6a3b9b6282538f83da91f67</a><br><br>It's currently deployed to MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>If you don't want to use MyGet you can just include the StripeGateway.cs file until the next release on NuGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs</a>﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 14, 2014, 12:18:20 AM","shortDate":"Mar 14, 2014","textHtml":"Thanks Demis.﻿"}],"date":"Mar 12, 2014, 6:51:46 AM","shortDate":"Mar 12, 2014"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"I am getting this error when I added ServiceStack.Stripe into my project...Independently my stripe tests work...also my other tests, get this error when I mix both. I updated to 4.0.12<br><br>Any clue, BTW, binding redirect did not help !!!<br><br>Could not load file or assembly 'ServiceStack.Interfaces, Version=4.0.0.0, Culture=neutral, PublicKeyToken=e06fbc6124f57c43' or one of its dependencies.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 3:13:25 AM","shortDate":"Mar 11, 2014","textHtml":"Is your project you're referencing ServiceStack.Stripe from a PCL project?﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 11, 2014, 3:29:46 AM","shortDate":"Mar 11, 2014","textHtml":"Nope. BTW here is the log from Fusion Log Viewer...<br><br>=== Pre-bind state information ===<br>LOG: DisplayName = ServiceStack.Interfaces, Version=4.0.0.0, Culture=neutral, PublicKeyToken=e06fbc6124f57c43<br>&nbsp;(Fully-specified)<br>LOG: Appbase = file:///C:/Project-Nepris/nepris-solution/Nepris.Subscription.Data.Integration.Tests/bin/Debug<br>LOG: Initial PrivatePath = NULL<br>LOG: Dynamic Base = NULL<br>LOG: Cache Base = C:\\Users\\binu\\AppData\\Local\\Temp\\jlrqwezz.zdk\\wq1cgeqw.rmx<br>LOG: AppName = Nepris.Subscription.Data.Integration.Tests<br>Calling assembly : ServiceStack.OrmLite, Version=4.0.12.0, Culture=neutral, PublicKeyToken=null.<br>===<br>LOG: This bind starts in default load context.<br>LOG: Using application configuration file: C:\\Project-Nepris\\nepris-solution\\Nepris.Subscription.Data.Integration.Tests\\bin\\Debug\\Nepris.Subscription.Data.Integration.Tests.dll.config<br>LOG: Using host configuration file:&nbsp;<br>LOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\config\\machine.config.<br>LOG: Redirect found in application configuration file: 4.0.0.0 redirected to 4.0.12.0.<br>LOG: Post-policy reference: ServiceStack.Interfaces, Version=4.0.12.0, Culture=neutral, PublicKeyToken=e06fbc6124f57c43<br>LOG: GAC Lookup was unsuccessful.<br>LOG: Attempting download of new URL file:///C:/Project-Nepris/nepris-solution/Nepris.Subscription.Data.Integration.Tests/bin/Debug/ServiceStack.Interfaces.DLL.<br>LOG: Assembly download was successful. Attempting setup of file: C:\\Project-Nepris\\nepris-solution\\Nepris.Subscription.Data.Integration.Tests\\bin\\Debug\\ServiceStack.Interfaces.dll<br>LOG: Entering download cache setup phase.<br>LOG: Assembly Name is: ServiceStack.Interfaces, Version=4.0.0.0, Culture=neutral, PublicKeyToken=null<br>WRN: Comparing the assembly name resulted in the mismatch: Build Number<br>ERR: The assembly reference did not match the assembly definition found.<br>ERR: Setup failed with hr = 0x80131040.<br>ERR: Failed to complete setup of assembly (hr = 0x80131040). Probing terminated.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 3:36:53 AM","shortDate":"Mar 11, 2014","textHtml":"ok it's because they're PCL dlls, so they need the PCL NuGet client packages.<br><br>Hang with me, I'll change the NuGet packages to have both a normal an PCL version of the NuGet pkgs.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 11, 2014, 3:38:38 AM","shortDate":"Mar 11, 2014","textHtml":"Thanks...<br><br>hanging :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 3:43:50 AM","shortDate":"Mar 11, 2014","textHtml":"ok try uninstalling/re-installing again, I've changed the ServiceStack.Stripe package as the .NET 4.0 pkg and added a new ServiceStack.Stripe.Pcl for PCL clients﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Mar 11, 2014, 4:42:08 AM","shortDate":"Mar 11, 2014","textHtml":"Thanks Demis. All looks good now.﻿"}],"date":"Mar 11, 2014, 2:59:43 AM","shortDate":"Mar 11, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"Are the debug symbols available for 4.0.12? I was trying to debug a broken query, and could never get the symbols to load. This worked on earlier builds. (VS2012+.Net4)<br><br>I tried clearing my symbol cache, but still no symbols. Symbols for other NuGet packages are being downloaded correctly, just nothing for SS 4.0.12.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 6, 2014, 11:50:15 PM\n(edited Mar 6, 2014, 11:50:58 PM)","shortDate":"Mar 6, 2014","textHtml":"Yeah they get published as part of the CI deployment on every release as you can see on the SymbolSource website:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack</a><br><br>But honestly it can be a dark art on why on some releases it works and others it doesn't, and you can only test to see if it works after it's been deployed. There's also not much visibility on what's wrong when <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> doesn't let you debug into the published symbols.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 21, 2014, 10:52:05 AM","shortDate":"Mar 21, 2014","textHtml":"I just tried and couldn't get the source debugging working even though VS downloaded SS PDBs. As Demis said, this is a black art/magic and I've again given up on trying to make it work with Visual Studio (2013 in my case, latest update).﻿"}],"date":"Mar 6, 2014, 11:17:39 PM","shortDate":"Mar 6, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"Probably a stupid question, but while reading RegisterService code i see:&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; /// &nbsp; &nbsp; Logic to update UserAuth from Registration info, not enabled on OnPut because of security.<br>&nbsp; &nbsp; &nbsp; &nbsp; public object UpdateUserAuth(Register request)<br><br>Why can't I use PUT in order to update a user? To avoid security issues we're planning to build a CustomRegisterService that has CurrentPassword as parameter. So we can use it together with username in order to check that user is valid.<br><br>Are we missing other security issues?<br><br>Moreover existing logic in RegisterService does not allow update of existing users because there is a validator blocking call if UserName already exists.<br><br>Thx﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 11:58:10 AM","shortDate":"Mar 5, 2014","textHtml":"Ok I just enabled Register from PUT as well in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/c4d2c0ba9d95d7cb7aab9e2171b0f07c1639319a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/c4d2c0ba9d95d7cb7aab9e2171b0f07c1639319a</a>﻿"}],"date":"Mar 5, 2014, 11:32:47 AM","shortDate":"Mar 5, 2014"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","textHtml":"Ok, so I have a service that works just fine on two separate machines, but then I have two other machines giving me two different errors.<br><br>One is giving me:&nbsp;<br>Error trying to resolve Service '[]Full namespace].PresenceSvc' or one of its autowired dependencies (see inner exception for details).<br><br>The other is giving:<br>\"Object reference not set to an instance of an object\"<br>With a stack trace indicating it is one of the route variables that has not been mapped correctly.<br><br>This is self hosted in a console app.<br>For all four machines the whole application is exactly the same, only the listening IP has been changed to reflect the actual local IP of the server.&nbsp;<br><br>Any ideas why an exact copy of a build would be having such inconsistent behaviour? (The worst thing being that both the non-working examples are on customer's machines, and the working ones are my development machines)﻿","comments":[{"userId":"109143533670356077374","userName":"Graham Laidler","date":"Mar 4, 2014, 6:11:33 AM","shortDate":"Mar 4, 2014","textHtml":"If you are using Caching, are you missing a cacheclient (e.g. Redis) installation on that machine?<br><br>If not, suggest you install log4net and examine the inner exceptions.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 4, 2014, 6:19:31 AM\n(edited Mar 4, 2014, 6:22:48 AM)","shortDate":"Mar 4, 2014","textHtml":"No idea what the issue could be without seeing any source code or StackTraces. Self-hosting exe's may need to be run as an Administrator.<br><br>Typically exact code doesn't have different results unless their environments are different. You can look to see if there are any StartUp errors with ?debug=requestinfo:&nbsp;<br><br>To view it you need to be in DebugMode or an Admin, see info on:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging</a>﻿"}],"date":"Mar 4, 2014, 5:24:17 AM","shortDate":"Mar 4, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Do any of the technologies within ServiceStack depend on the Metadata page (client discovery, etc.)? &nbsp;What are the negatives for disabling this page?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 28, 2014, 12:40:38 PM","shortDate":"Feb 28, 2014","textHtml":"Best to look at the code of the feature you want to remove to see what you lose, i.e:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/MetadataFeature.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/MetadataFeature.cs</a><br><br>You'll lose WSDLs as well as debug info about types / operations. In future there could be external services that want to make use of the type info / routing / etc.<br><br>Note you can also change the metadata page completely by adding your own, see:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-the-virtual-filesystem\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-the-virtual-filesystem</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 28, 2014, 8:31:32 PM","shortDate":"Feb 28, 2014","textHtml":"Fredrick,<br>&nbsp; &nbsp;I turn off the metadata page in production. &nbsp;I only communicate via json and rest.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 28, 2014, 9:25:53 PM","shortDate":"Feb 28, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;: Great to know! &nbsp;Exactly what I was hoping for. &nbsp;=)﻿"}],"date":"Feb 28, 2014, 11:00:31 AM","shortDate":"Feb 28, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"When POSTing JSON. YOu do not have to specify optional properties in the JSON packet and the properties get set to NULL.<br><br>When POSTing XML. Is the same true? or do I have to specify all the nodes available with&nbsp;\t\t\t&lt;NameProperty i:nil=\"true\"/&gt;﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 27, 2014, 10:47:33 AM","shortDate":"Feb 27, 2014","textHtml":"NM. Stupid question. You can send it like that, but also you do not have to send it and SS will set the property to NULL. Awesome!﻿"}],"date":"Feb 27, 2014, 10:40:34 AM","shortDate":"Feb 27, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Will the ORM gracefully create foreign keys, pointing to newly added tables, to existing tables during dev? &nbsp;I have a method in my repo assembly, called \"CreateTables\", which is called once per the life of the assembly. &nbsp;It would be great to not have to seed the database unless the schema significantly changes.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 9:40:16 PM","shortDate":"Feb 25, 2014","textHtml":"No, if you use db.CreateTableIfNotExists&lt;Table&gt;() it will only create the schema for tables that don't exist, it doesn't try to merge the schema with the active database.<br><br>The way I'm doing it now is to put all my DDL in a \"MigrationsTests\" unit test so they're replay-able, where I first run them against my test db, then when it everything's ok run them against the live db. When I have more time I'd like to improve this story.﻿"}],"date":"Feb 25, 2014, 8:09:12 PM","shortDate":"Feb 25, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"In servicestack, you used to be able to prepend oneway in the url to do a request to an endpoint. &nbsp;Is that still possible? &nbsp;<br><br>/api/oneway/someservice/blah﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 12:25:38 AM","shortDate":"Feb 25, 2014","textHtml":"yeah the predefined routes are described on:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Routing#wiki-pre-defined-routes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Routing#wiki-pre-defined-routes</a><br>a correct url would be /api/json/oneway/someservice?blah=x﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 25, 2014, 2:57:32 AM","shortDate":"Feb 25, 2014","textHtml":"Yeah, that does not work for me. &nbsp;<br>If I go to /mycustomapi/someservice/sometihng/20 and that url is valid.<br>However, if I go to /json/oneway/mycustomapi/someservice/sometihng/20 I get an error of:<br><br>{\"responseStatus\":{\"errorCode\":\"NotImplementedException\",\"message\":\"The operation 'someservice' does not exist for this service\"}}﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 3:17:00 AM\n(edited Feb 25, 2014, 3:22:12 AM)","shortDate":"Feb 25, 2014","textHtml":"The custom routes for your services do not apply to pre-defined routes, just the ones you define.<br><br>The pre-defined route is strictly for identifying your Service, e.g:<br><br>/json/oneway/mycustomapi<br><br>Assumes your Request DTO is named 'MyCustomApi'. &nbsp;After that you would need to use the query string (i.e. not the /path/info) to populate the Request DTO from a url, e.g:<br><br>/json/oneway/mycustomapi?someparam=val﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 25, 2014, 9:32:34 AM","shortDate":"Feb 25, 2014","textHtml":"Ah....probably should thrown that on those doc pages. &nbsp;I did go there before asking. &nbsp;Thanks!﻿"}],"date":"Feb 25, 2014, 12:09:05 AM","shortDate":"Feb 25, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"[v4 Upgrade question]<br><br>I’ve got a ServiceStack project we are trying to upgrade from 3.9.71 to 4.0.11.<br><br>I’ve been following Cam Tucker’s excellent blog post as a guideline, and had the project building under 4.0.11 in about an afternoon.<br><br>I know I still have a few OrmLite breaking changes to correct, where some of the converted APIs that deal with single rows no longer throw an exception, but return null. That’s fine. I can work through the 2 dozen cases where that affects my code.<br><br>Unit test project has slowed down<br><br>My problem is my unit test project. I had about 430 test cases, and under SS v3, it took about 20-30 seconds to run through the whole suite. Now, under SS v4, it takes over 4 hours to run the whole suite. The first few tests run quickly, and then it slows more and more for each subsequent test.<br><br>Some tests are failing (those 2 dozen places where the OrmLite API is now returning a null when it used to throw), but most are passing. But even the tests that pass are slowing down.<br><br>I’ve enabled logging and captured the console output from the NUnit test runner, and seen that SS is reporting longer and longer application init times.<br><br>Here are the first ten tests running:<br><br>INFO: Initializing Application took 358.5717ms<br>INFO: Initializing Application took 63.0126ms<br>INFO: Initializing Application took 55.5111ms<br>INFO: Initializing Application took 55.011ms<br>INFO: Initializing Application took 224.0448ms<br>INFO: Initializing Application took 110.5221ms<br>INFO: Initializing Application took 112.0224ms<br>INFO: Initializing Application took 103.5207ms<br>INFO: Initializing Application took 113.0226ms<br>INFO: Initializing Application took 116.0232ms<br><br>By test 7, the init times start growing for each subsequent test. Here are tests 30-40 running:<br><br>INFO: Initializing Application took 523.6047ms<br>INFO: Initializing Application took 557.1114ms<br>INFO: Initializing Application took 584.1168ms<br>INFO: Initializing Application took 610.6221ms<br>INFO: Initializing Application took 682.1364ms<br>INFO: Initializing Application took 728.1456ms<br>INFO: Initializing Application took 741.1482ms<br>INFO: Initializing Application took 784.1568ms<br>INFO: Initializing Application took 823.6647ms<br>INFO: Initializing Application took 925.6851ms<br>INFO: Initializing Application took 1012.7025ms<br><br>And by tests 170-180, each test spends over a minute inside ServiceStack performing its initialization:<br><br>INFO: Initializing Application took 59993.4963ms<br>INFO: Initializing Application took 62644.0263ms<br>INFO: Initializing Application took 62009.3994ms<br>INFO: Initializing Application took 56106.219ms<br>INFO: Initializing Application took 59171.832ms<br>INFO: Initializing Application took 66881.8737ms<br>INFO: Initializing Application took 65739.6453ms<br>INFO: Initializing Application took 67384.9743ms<br>INFO: Initializing Application took 68630.2233ms<br>INFO: Initializing Application took 69208.3389ms<br>INFO: Initializing Application took 70019.5011ms<br><br>With DEBUG level logging, I can see many of the “Registering service” messages pausing for second before the next message is output (I should have enabled timestamps in the log). Here is just a snippet of the services registered by my assembly for one unit test:<br><br>DEBUG: Registering OneWay service 'MeasurementContainerService' with request 'PutMeasurementContainer'<br>DEBUG: Registering OneWay service 'MeasurementContainerService' with request 'DeleteMeasurementContainer'<br>DEBUG: Registering Reply service 'MeasurementContainerService' with request 'PostMeasurementContainer'<br>DEBUG: Registering Reply service 'DatasetService' with request 'GetDatasets'<br>DEBUG: Registering Reply service 'DatasetService' with request 'GetLocationDatasets'<br>DEBUG: Registering Reply service 'DatasetService' with request 'GetLocationsFromDatasets'<br>DEBUG: Registering Reply service 'DatasetService' with request 'GetDatasetViewModes'<br>DEBUG: Registering Reply service 'DatasetService' with request 'GetDatasetsByViewMode'<br>DEBUG: Registering Reply service 'ParameterSetService' with request 'GetParameterSets'<br>DEBUG: Registering OneWay service 'VersionService' with request 'GetVersion'<br>DEBUG: Registering Reply service 'VisitService' with request 'GetVisit'<br>DEBUG: Registering OneWay service 'VisitService' with request 'PutVisit'<br>DEBUG: Registering OneWay service 'VisitService' with request 'DeleteVisit'<br>DEBUG: Registering Reply service 'VisitService' with request 'PostVisit'<br>DEBUG: Registering Reply service 'VisitService' with request 'GetLocationVisits'<br>DEBUG: Registering Reply service 'VolumetricDischargeService' with request 'GetVolumetricDischarge'<br>DEBUG: Registering OneWay service 'VolumetricDischargeService' with request 'DeleteVolumetricDischarge'<br>DEBUG: Registering Reply service 'VolumetricDischargeService' with request 'PostVolumetricDischarge'<br>DEBUG: Registering Reply service 'VolumetricDischargeService' with request 'PutVolumetricDischarge'<br>DEBUG: Registering Reply service 'AuthenticatedTestService' with request 'AuthenticatedRequest'<br>DEBUG: Registering Reply service 'UnauthenticatedTestService' with request 'UnauthenticatedRequest'<br>DEBUG: Registering Reply service 'DummyService' with request 'GetDummyRequest'<br><br>If I select just one test to run, rather than the whole suite, that test will run quickly again (so if I rerun test 180, which had a 70 second init time as part of the whole suite, that test will take half a second to run, just like it used to under SS v3).<br><br>So this new eventually-slow-down-during-init behavior seems to be unrelated to the actual test being run, and is instead a function of the number of times the application init logic (DI configuration perhaps?) is called.<br><br>Things I’ve investigated so far:<br><br>1)\tLicensing overhead<br><br>I had first thought the slowdown might be to the new Licensing.RegisterLicense() &nbsp;method call, but I’ve put that method under a [SetUpFixture] attribute and confirmed that the licensing is only being configured once per test suite run.<br><br>So that’s not it.<br><br>2)\tAppHost resource leaks<br><br>My unit test AppHost (which subclasses AppHostHttpListenerBase) is being created/disposed for every test.<br><br>[Setup]<br>…<br>AppHost = new TestAppHost();<br>AppHost.Init();<br><br>AppHost.Start(ListeningOnApi);<br>…<br><br>[Teardown]<br>…<br>if (AppHost != null)<br>{<br>&nbsp; &nbsp; AppHost.Stop();<br>&nbsp; &nbsp; AppHost.Dispose();<br>&nbsp; &nbsp; AppHost = null;<br>}<br><br>So I think that’s right.<br><br>I’m out of ideas now. I won’t be surprised if my v3 unit test project was already constructed under some bad pattern, but worked despite itself, while SS v4 makes the bad pattern more painful/obvious.<br><br>Any ideas? My team can’t move forward with our paid SS v4 offering until I can get the unit tests (which run as part of our build) to complete in a reasonable amount of time.<br><br>Cheers,<br>Doug Schmidt﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 22, 2014, 5:23:09 PM","shortDate":"Feb 22, 2014","textHtml":"Hi Doug, is it possible I can see some examples of a typical test?﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Feb 23, 2014, 7:50:50 AM","shortDate":"Feb 23, 2014","textHtml":"A way to try and narrow down the problem cloud be running the unit tests via some profiling software. I know that redgates performance profiler supports timing nunit projects : <a rel=\"nofollow\" target=\"_blank\" href=\"http://documentation.red-gate.com/display/APP8/Profiling+unit+tests+using+Nunit\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://documentation.red-gate.com/display/APP8/Profiling+unit+tests+using+Nunit</a><br><br>If you don't have a license for it, they provide a fully functional version for 14 days. Please note that I'm not affiliated with redgate, I just use their product :-) ﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Feb 24, 2014, 2:41:18 PM","shortDate":"Feb 24, 2014","textHtml":"OK, I've finally got some bandwidth on this conversion again.<br><br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105618793358138109545\" oid=\"105618793358138109545\">Nicklas Overgaard</a></span>&nbsp;Thanks for the profiling tip. I've used JetBrain's dotTrace product, and found that the two hotspots are:<br><br>ServiceStack.Text/ReflectionExtensions.cs: ServiceStack.PlatformExtensions.AllAttributes(Type)<br>ServiceStack.Interfaces/AttributeBase.cs: ServiceStack.AttributeBase.get_TypeId()<br><br>I haven't been able to pinpoint it further than that, but both of those methods had accumulated nearly an hour of CPU time each during my test suite run.<br><br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I'll post the standard test pattern we use in a separate comment.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 2:46:15 PM","shortDate":"Feb 24, 2014","textHtml":"hmm, interesting thanks for the pointers. Will investigate to see if I can see anything weird there.﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Feb 24, 2014, 2:54:23 PM","shortDate":"Feb 24, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; Here's the standard test pattern we use:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; [SetUp]<br>&nbsp; &nbsp; &nbsp; &nbsp; public void OnTestSetup()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Acquire();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost = new TestAppHost();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost.Init();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost.Start(ListeningOnApi);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DbConnection = AppHost.Container.TryResolve&lt;IDbConnectionFactory&gt;().Open();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MockSiteVisitDatabase.DropAndCreateDummyDatabaseSchema(DbConnection);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IdGenerator = AppHost.Container.TryResolve&lt;IDatabaseIdGenerator&gt;();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TestData = new DbHelper(DbConnection, IdGenerator);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LocationHelper = new LocationHelper(DbConnection, IdGenerator);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TimeSeriesHelper = new TimeSeriesHelper(DbConnection, IdGenerator);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceClient = new JsonServiceClient(ListeningOnApi);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; [TearDown]<br>&nbsp; &nbsp; &nbsp; &nbsp; public void OnTestFixtureTearDown()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (AppHost != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost.Stop();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost.Dispose();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AppHost = null;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (DbConnection != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DbConnection.Close();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DbConnection.Dispose();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DbConnection = null;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Release();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>Each test ends up with this common preamble:<br>1) creating its own AppHost<br>2) creating an in-memory SQLite DB<br>3) listening on a fixed HTTP port<br>4) creating a Json service client talking to that fixed port.<br><br>When each test ends:<br>1) The AppHost and DB connection are disposed off<br><br>Here's is a sample test:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; [Test]<br>&nbsp; &nbsp; &nbsp; &nbsp; public void GetEnumValues_KnownType_ReturnsLocalizedPicklist()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var knownType = typeof(ActivityType);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var knownTypeName = knownType.Name;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InsertPartiallyLocalizedEnum(knownType);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var request = new GetEnumValues { Type = knownTypeName };<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = ServiceClient.Get(request);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AssertThatEnumPicklistIsValid(knownType, response);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>Each test follows the pattern:<br>1) Insert any required test data into the empty DB<br>2) Call the REST API via the JsonServiceClient.<br>3) Make assertions on the received response.<br><br>We've got 400+ tests like this, and they run super-fast on V3, but when run under v4, the time spent inside AppHost.Init() grows exponentially.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 3:10:50 PM","shortDate":"Feb 24, 2014","textHtml":"thx for the details Doug, will look to see if I can repro the issue on my side.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 4:28:18 PM","shortDate":"Feb 24, 2014","textHtml":"Hey Doug,<br><br>I'm having trouble trying to repro the slow downs. I've created a new Test project with Multiple Test fixtures, each with 100 tests that closely matches the description of your test framework, i.e. performs a client call to a web services that returns a result from the database you can see at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/CheckHttpListener/AnalyzeTestSideEffects.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/CheckHttpListener/AnalyzeTestSideEffects.cs</a><br><br>I've then created 10 test fixtures you can run at the same time at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/CheckHttpListener/ManyTestFixtures.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/CheckHttpListener/ManyTestFixtures.cs</a><br>and so far I'm not able to see any slowdown, i.e. the last test in the last test fixture (i.e Test #1000) essentially takes about the same time.<br><br>I'm hoping you can could add something to these tests that can show the issues.&nbsp;﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Feb 24, 2014, 5:26:24 PM","shortDate":"Feb 24, 2014","textHtml":"Yeah, I've been trying to rebuild something reproducible from the ground up as well. No luck here either. Every project except my production one runs just fine. :-(<br><br>I'll see if I can extend the projects you listed and reproduce it.<br><br>If not, is there a way we might be able to do a pair debug session (via Skype screenshare or whatever?) I might need to strip everything down into a standalone private repo and send it over to you that way.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 11:14:19 PM","shortDate":"Feb 24, 2014","textHtml":"I'll do a bit more investigation a bit more on my side but basically I need to be able to repro it on myside to be sure I've identified and correctly resolved what the issue is.<br><br>Other than that if there's a profiler snapshot I could look at locally, that might also help.﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Feb 25, 2014, 3:08:01 PM","shortDate":"Feb 25, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; I've made a bit of progress narrowing down the culprit for slow unit test initialization.<br><br>I still can only reproduce it in my repo, not in the test projects you added to the SS repo yesterday. I will create a private GitHub repo this afternoon that house enough of my project so that you can build it, reproduce the scenario, and dig deeper.<br><br>While I'm getting that repo ready, here's more info for you to inspect: I configured log4net logging, so I could get some precise timing info on the slow init. When I ran the test project under the NUnit test runner, I could see that the exponentially-growing \"stall\" happens:<br><br>- DURING the call to AppHost.Init()<br>- AFTER registering the last service of my ServiceInterface.dll<br>- BEFORE registering the default authentication &amp; roles services from ServiceStack.Auth<br><br>Here is a reduced log snippet that shows a 26 second duration of AppHost.Init(). Almost all of that 26 seconds is between 'DummyService' (my code) and 'AuthenticateService' (ServiceStack.Auth):<br><br>2014-02-25 11:52:13,662 [TestRunnerThread] INFO &nbsp;WebApps.ServiceInterface.Tests.TestBase - Before AppHost.Init()<br>...<br>2014-02-25 11:52:13,665 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'ActivityService' with request 'GetActivity'<br>2014-02-25 11:52:13,682 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'DummyService' with request 'GetDummyRequest'<br>2014-02-25 11:52:38,952 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'AuthenticateService' with request 'Authenticate'<br>2014-02-25 11:52:39,480 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'AssignRolesService' with request 'AssignRoles'<br>2014-02-25 11:52:39,885 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'UnAssignRolesService' with request 'UnAssignRoles'<br>2014-02-25 11:52:39,889 [TestRunnerThread] INFO &nbsp;ServiceStack.ServiceStackHost - Initializing Application took 26226.2442ms<br>2014-02-25 11:52:39,889 [TestRunnerThread] INFO &nbsp;WebApps.ServiceInterface.Tests.TestBase - After AppHost.Init()<br><br>Further, when I clicked \"Stop\" on the NUnit GUI to kill the test, NUnit was now wired into log4net and thankfully logged the call stack of the aborted thread, which confirms my earlier findings. Hopefully this call stack below, plus the ServiceStack.Auth hint above, will point to the culprit:<br><br>2014-02-25 11:28:24,581 [TestRunnerThread] DEBUG ServiceStack.Host.ServiceController - Registering Reply service 'DummyService' with request 'GetDummyRequest'<br>2014-02-25 11:28:25,115 [TestRunnerThread] ERROR ServiceStack.DtoUtils - ServiceBase&lt;TRequest&gt;::Service Exception<br>System.Threading.ThreadAbortException: Thread was being aborted.<br>&nbsp; &nbsp;at System.Array.Copy(Array sourceArray, Int32 sourceIndex, Array destinationArray, Int32 destinationIndex, Int32 length, Boolean reliable)<br>&nbsp; &nbsp;at System.ComponentModel.AttributeCollection.CopyTo(Array array, Int32 index)<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.GetAttributes(Type componentType)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.AllAttributes(Type type)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.HasAttribute[T](Type type)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.IsDto(Type type)<br>&nbsp; &nbsp;at ServiceStack.ReflectionExtensions.GetSerializableProperties(Type type)<br>&nbsp; &nbsp;at ServiceStack.Serialization.StringMapTypeDeserializer..ctor(Type type)<br>&nbsp; &nbsp;at ServiceStack.Host.RestPath..ctor(Type requestType, String path, String verbs, String summary, String notes)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterRestPaths(Type requestType)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(ITypeFactory serviceFactoryFn, Type serviceType)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br>2014-02-25 11:28:25,123 [TestRunnerThread] ERROR ServiceStack.Host.ServiceController - Thread was being aborted.<br>System.Threading.ThreadAbortException: Thread was being aborted.<br>&nbsp; &nbsp;at System.Array.Copy(Array sourceArray, Int32 sourceIndex, Array destinationArray, Int32 destinationIndex, Int32 length, Boolean reliable)<br>&nbsp; &nbsp;at System.ComponentModel.AttributeCollection.CopyTo(Array array, Int32 index)<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.CustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.AttributeProvider.AttributeTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.TypeDescriptionNode.DefaultTypeDescriptor.System.ComponentModel.ICustomTypeDescriptor.GetAttributes()<br>&nbsp; &nbsp;at System.ComponentModel.TypeDescriptor.GetAttributes(Type componentType)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.AllAttributes(Type type)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.HasAttribute[T](Type type)<br>&nbsp; &nbsp;at ServiceStack.PlatformExtensions.IsDto(Type type)<br>&nbsp; &nbsp;at ServiceStack.ReflectionExtensions.GetSerializableProperties(Type type)<br>&nbsp; &nbsp;at ServiceStack.Serialization.StringMapTypeDeserializer..ctor(Type type)<br>&nbsp; &nbsp;at ServiceStack.Host.RestPath..ctor(Type requestType, String path, String verbs, String summary, String notes)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterRestPaths(Type requestType)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(ITypeFactory serviceFactoryFn, Type serviceType)<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br>2014-02-25 11:28:25,125 [TestRunnerThread] ERROR ServiceStack.DtoUtils - ServiceBase&lt;TRequest&gt;::Service Exception<br>System.Threading.ThreadAbortException: Thread was being aborted.<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br>&nbsp; &nbsp;at ServiceStack.ServiceStackHost.RegisterService(Type serviceType, String[] atRestPaths)<br>&nbsp; &nbsp;at ServiceStack.AuthFeature.Register(IAppHost appHost)<br>&nbsp; &nbsp;at ServiceStack.ServiceStackHost.LoadPlugin(IPlugin[] plugins)<br><br>Hopefully this info helps you while I try to construct my test repo this afternoon.<br><br>PS: Is there a better way to communicate these long log file dumps other than Google+? Typing all this crap in a small textbox is madness! :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 3:54:26 PM\n(edited Feb 25, 2014, 3:54:36 PM)","shortDate":"Feb 25, 2014","textHtml":"Yes there is :) the issues website is a better place for submitting issues:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>I've just created a new ticket for this issue using your last comment:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/40\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/40</a><br><br>Lets continue on from there, yeah a private repo would be helpful thx.﻿"}],"date":"Feb 22, 2014, 5:14:42 PM","shortDate":"Feb 22, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Is it possible to implement a ServiceStack web service that handles this the following kind of post request?<br><br><br>POST <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:50001/oauth2/token\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:50001/oauth2/token</a> HTTP/1.1<br>Authorization: Basic ZmFrZV9jbGllbnQ6ZmFrZV9zZWNyZXQ=<br>Content-Type: application/x-www-form-urlencoded; charset=utf-8<br>User-Agent: DotNetOpenAuth.Core/4.3.1.13153<br>Host: localhost:50001<br>Cache-Control: no-store,no-cache<br>Pragma: no-cache<br>Content-Length: 109<br>Expect: 100-continue<br>Proxy-Connection: Keep-Alive<br><br>username=satch&amp;password=surfer101&amp;scope=user_info%20some_other_scope%20try_changing_these&amp;grant_type=password﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 4:19:41 PM","shortDate":"Feb 21, 2014","textHtml":"It's possible, just create a Request DTO that matches the fields in the request body that has a route matching the /path/info.<br>You can access the Request details in your service with base.Request.<br><br>We also have a convenient extension method to read the BasicAuth header, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/RequestFiltersTests.cs#L89\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/RequestFiltersTests.cs#L89</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 21, 2014, 4:24:43 PM","shortDate":"Feb 21, 2014","textHtml":"thanks, will try that. I wasn't sure if it was a dumb question, because its not a JSON or XML request.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 4:27:58 PM\n(edited Feb 21, 2014, 5:20:44 PM)","shortDate":"Feb 21, 2014","textHtml":"Shouldn't be any issue, ServiceStack handles form-url-encoded POSTs as well.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 21, 2014, 7:26:31 PM","shortDate":"Feb 21, 2014","textHtml":"Is there a mechanism (presumably an attribute of some type) that I can add to a field in the DTO that changes the name of the actual form post field (mostly the case of it?<br><br>So for a DTO like this:<br>public class MyRequest<br>{<br>&nbsp; &nbsp; string AccessToken {get; set;}<br>}<br>it actually handles the form post field 'access-token'﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 7:29:44 PM\n(edited Feb 21, 2014, 7:30:03 PM)","shortDate":"Feb 21, 2014","textHtml":"You can use the DataContract attributes, but it's also controls which properties get serialized so you'd also need attribute every member, e.g:<br><br>[DataContract]<br>public class MyRequest<br>{<br>&nbsp; &nbsp; [DataMember(Name=\"access-token\")]<br>&nbsp; &nbsp; public string AccessToken {get; set;}<br>}﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 21, 2014, 8:05:42 PM","shortDate":"Feb 21, 2014","textHtml":"thanks a lot﻿"}],"date":"Feb 21, 2014, 3:48:57 PM\n(edited Feb 21, 2014, 3:49:23 PM)","shortDate":"Feb 21, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"How can we improve the error reporting?<br>When my service throws an exception (user session is expired), or just another kind of exception, some sort of bad request, how can we get better information logged?<br><br>Currently, I am hooking the logger into the apphost and it outputs something like below. &nbsp; Really would like to know everything about the request too! &nbsp; Like the things in requestlogger plug in (who, what, url, parameters, body, etc).<br><br>2014-02-19 15:44:31,344 [35] ERROR ServiceStack.DtoUtils [(null)] - ServiceBase&lt;TRequest&gt;::Service Exception<br><br><br>System.UnauthorizedAccessException: No User<br>&nbsp; &nbsp;at &lt;stacktrace&gt;<br>&nbsp; &nbsp;at lambda_method(Closure , Object , Object )<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceRunner`1.Execute(IRequest request, Object instance, TRequest requestDto)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 11:01:05 AM","shortDate":"Feb 21, 2014","textHtml":"You register error handlers on the AppHost to get notified when there's an error:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L83-L88\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L83-L88</a><br><br>They both pass the IRequest in.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 12:04:55 PM","shortDate":"Feb 21, 2014","textHtml":"How does that play with the way it works now? &nbsp; Would I be completely overriding what you have in place to do this reporting now? &nbsp;We discussed previously some additional plug in points around me being able to easily intercept and handle particular exceptions and still call base handler if I did not want to handle. &nbsp;Is that possible? &nbsp; &nbsp;Also, I would think with the default logging you are providing now it would make sense to output this basic info wouldn't it?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 12:13:04 PM","shortDate":"Feb 21, 2014","textHtml":"They're handlers where you can listen for events, you can change what error gets returned in by returning a Error Response DTO, if you want to retain the same behavior return null.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 12:42:36 PM","shortDate":"Feb 21, 2014","textHtml":"Ok, I will look into that.......I think you should consider better 'default' logging too. &nbsp;Thanks.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 12:52:39 PM","shortDate":"Feb 21, 2014","textHtml":"Add a feature request if you want anything changed, with details like the extra info you want logged.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 1:03:00 PM","shortDate":"Feb 21, 2014","textHtml":"Boo. &nbsp;I just do not see anything happening over at uservoice. &nbsp;Very little activity, very few votes and nothing of the 'planning' or what you are doing next? &nbsp;However, I will comply and add it.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 1:04:05 PM","shortDate":"Feb 21, 2014","textHtml":"BTW, I of course already added it 4 monts ago, I will add some details. <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4688456-better-request-and-exception-logging\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4688456-better-request-and-exception-logging</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 1:13:24 PM\n(edited Feb 21, 2014, 1:29:10 PM)","shortDate":"Feb 21, 2014","textHtml":"The feature requests is to catalog work items, and to measure interest and have a discussion around what's needed and how it should be implemented. I'm not just going to implement every micro feature request that's shouted at me, there needs to be a very good reason for it it to interrupt what I'm doing and start working on it.&nbsp;The feature requests <b>are</b> being prioritized by interest and whether it's a good fit, and&nbsp;the highest priority feature requests are being implemented, and more will be as I get more free time to work on it.&nbsp;<br><br>As for this logging I've already explained the custom hooks you have available in order to do what you want. But you're asking that by default I should change the current behavior and make everyone's logging more verbose, even when no one else has expressed interest in it. The feature request is there to measure interest and to find out exactly what everyone wants logged.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 1:35:22 PM","shortDate":"Feb 21, 2014","textHtml":"Demis, I understand everything 100%. &nbsp;I am not asking you to implement every micro feature. &nbsp;You may be implementing the higest requested feature - but uservoice does not indicate you are 'planning' on doing any of them. &nbsp;Any chance you would use uservoice and mark ones as planned or implemnting or whatever so we all see what is coming next?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 1:51:29 PM\n(edited Feb 21, 2014, 2:26:47 PM)","shortDate":"Feb 21, 2014","textHtml":"I change the status when I implement them and mark them complete when they're done. Like most software companies, I'm not planning on committing to any timelines.&nbsp;They'll get done as soon as I'm able to ship them.<br><br>But the next few major ticket items I'm looking at is:&nbsp;<br>&nbsp;- Built-in AD Support<br>&nbsp;- Management UI<br>&nbsp;- Then see what I can do to improve OrmLite's data access patterns.<br><br>A lot of these also require a fair amount of R&amp;D.<br><br>But the immediate work is to change the website to support the new products now that the Into discounts are ending, then to create new individual products for the individual products that many people have been waiting for. In the meantime, I'm also upgrading all the SS. Examples and UseCase projects to v4 and adding a new Example project I've been working on that show's an example of \"good architecture\" for medium sized projects. Also working on other stuff that I prefer to \"announce\" only after its available.<br><br>Keep in mind there's a lot more overhead to running a product/support company then just development. Unfortunately development is only being done in the time I have left over. As a result I'm very conscious about my limited time and try to maximize it wherever possible.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 2:36:54 PM","shortDate":"Feb 21, 2014","textHtml":"I am was only suggesting you put these 3 items you are 'looking at' in the 'in planning' stage on uservoice. &nbsp;Hey, I know all about all the things required to run a company...just remember you used to work on SS on your 'time left over' too...and so now we don't want to be in the same boat as before! &nbsp;Of course, right now there is a lot more 'startup' stuff involved. &nbsp; Thank you for your time.﻿"}],"date":"Feb 21, 2014, 10:53:46 AM","shortDate":"Feb 21, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"ProtoBuf or Streaming? &nbsp;Which is preferred for file transfers &gt;= 10MB? &nbsp;Do any end-to-end examples exist using ProtoBuf with ServiceStack for both directions?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 3:22:41 PM","shortDate":"Feb 20, 2014","textHtml":"They're very different things. To upload a file I would stick to a standard HTTP File upload, if you're using the C# client see:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.Tests/SyncRestClientTests.cs#L107\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Examples/blob/master/src/RestFiles/RestFiles.Tests/SyncRestClientTests.cs#L107</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 20, 2014, 3:27:32 PM","shortDate":"Feb 20, 2014","textHtml":"Hmm... confused. &nbsp;I've used the RestFiles example successfully to a point. &nbsp;Files over ~4MB cause exceptions. &nbsp;Then found a post where you mentioned ProtoBuf so I've started looking for more concrete examples. &nbsp;What method would you recommend for files larger files? &nbsp;The link I referred to:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/15687845/send-a-large-message-to-a-servicestack-service\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/15687845/send-a-large-message-to-a-servicestack-service</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 3:35:12 PM","shortDate":"Feb 20, 2014","textHtml":"Large message is not the same thing as a large file. If you're uploading files best to stick the HTTP conventions so they can he accessed from web browsers if needed. The easiest thing to do is HTTP POST a file, if you're hosting on <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> you should increase the built-in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> resource limits, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://weblogs.asp.net/jgalloway/archive/2008/01/08/large-file-uploads-in-asp-net.aspx</a><br><br>Streaming is a possibility but its not built into the ServiceClients so you would have to use .NET's HTTP Clients directly and post to a special service that parses the Streamed request as done in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.codeproject.com/Articles/501608/Sending-stream-to-ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.codeproject.com/Articles/501608/Sending-stream-to-ServiceStack</a>﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Feb 20, 2014, 3:36:11 PM","shortDate":"Feb 20, 2014","textHtml":"Set the maxRequestLength in the config file to a greater value than 4MB?﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 20, 2014, 3:44:42 PM","shortDate":"Feb 20, 2014","textHtml":"That's the route I was going to go (increased length setting &amp; raw client) but wanted to ensure there wasn't a better magical ServiceStack method first. &nbsp;This'll never be accessed from a browser directly. &nbsp;The most obscure client would be a compiled Xamian / Mono version.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 3:48:19 PM","shortDate":"Feb 20, 2014","textHtml":"Note: You're still likely to hit <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Request limits no matter what method you're using to POST the data, unless you use compression to reduce the bytes sent.﻿"}],"date":"Feb 20, 2014, 3:12:24 PM","shortDate":"Feb 20, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"What is the best way to create a new user on initialization of servicestack? I tried r = appHost.TryResolve&lt;RegisterService&gt;(); and then r.Post(new Register() {/* set props here */}); but that gave me an object reference not set because no session/irequest exists yet.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 9:49:50 AM","shortDate":"Feb 19, 2014","textHtml":"Use the registered IUserAuthRepository and create users with&nbsp;CreateUserAuth.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 19, 2014, 1:06:15 PM","shortDate":"Feb 19, 2014","textHtml":"Thanks Demis. I'll use that instead. Out of curiosity is there a way post initialization to access a service like I was trying to do?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 1:12:35 PM","shortDate":"Feb 19, 2014","textHtml":"Yeah different ways of resolving a Service:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/21446458/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/21446458/85785</a><br><br>Note: if your Service requires access to the HttpRequest and you're not calling from within a HttpRequest, the Request will be null and will likely throw a NRE when trying to access it.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 19, 2014, 1:16:37 PM","shortDate":"Feb 19, 2014","textHtml":"Yup I know how to get to the service... but is there a way to have a post initialization event/delegate where a HttpRequest is available? If not, does this sound like a reasonable feature request?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 1:19:43 PM\n(edited Feb 19, 2014, 1:20:11 PM)","shortDate":"Feb 19, 2014","textHtml":"Not sure what you mean, how can a HttpRequest be available if it's not originating from an actual HTTP Request?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 19, 2014, 1:25:17 PM","shortDate":"Feb 19, 2014","textHtml":"Hmm I see what you mean and without a real use case it's difficult to come up with an example. Perhaps a way to setup a post init request (kind of like mocking the request solely for a post init event)... but even that sounds hackish to me. Just a thought. Either way thanks for the help Demis.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 1:41:39 PM","shortDate":"Feb 19, 2014","textHtml":"You can already use ServiceController.Execute*() methods to execute a request DTO and pass in your own IRequest context.&nbsp;<br><br>ServiceController.Execute(requestDto) by default uses BasicRequest:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceController.cs#L478\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceController.cs#L478</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 19, 2014, 1:49:38 PM","shortDate":"Feb 19, 2014","textHtml":"Oh that is sweet. Exactly what I was thinking of. Thanks again Demis. You've thought of everything in this framework. ;-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 2:03:02 PM\n(edited Feb 19, 2014, 2:03:20 PM)","shortDate":"Feb 19, 2014","textHtml":"We'll maybe not everything, but at least the things I've needed or thought were useful to have :)﻿"}],"date":"Feb 19, 2014, 2:53:13 AM","shortDate":"Feb 19, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"I'm invoking asynchronously a service using client.PostAsync (eg. :<br>&nbsp; var task = client.PostAsync&lt;....&gt;<br>&nbsp; task.Wait()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>task.Wait() waits undefinitively (the same happens with Task.WaitAll(...))<br><br>I'm using this since I have to call more services in parallel... it seems that the task is not marked as completed﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 7:41:49 AM","shortDate":"Feb 18, 2014","textHtml":"I have experienced the same thing. &nbsp; What context are you calling these from? &nbsp;MVC controller? &nbsp;Thick Client? etc?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 18, 2014, 7:45:23 AM","shortDate":"Feb 18, 2014","textHtml":"Wpf client﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 8:53:26 AM","shortDate":"Feb 18, 2014","textHtml":"Humm.....try this crazy suggestion. &nbsp;When the application first starts - before you make any calls to anything, like in the applicatino startup, do this code:<br>var xx=new JsonServiceClient();<br><br>And nothing else....that is what I am having to do....I know it is crazy...but we have been trying to figure this out for a couple of weeks and yours may be different than mine...but....﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 18, 2014, 8:55:28 AM","shortDate":"Feb 18, 2014","textHtml":"Adding this works?﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 9:07:26 AM","shortDate":"Feb 18, 2014","textHtml":"For me, my MVC app does the SAME THING you are saying. &nbsp; The non-async calls work. &nbsp;If I change to Async, they never return. &nbsp; If I create a new JsonServiceClient() in the Application_Start (and do nothing with it), they all return and work fine. &nbsp; I know it is weird, believe me....﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 1:10:32 PM","shortDate":"Feb 18, 2014","textHtml":"Hmmm, I just saw this, it sounds like it's related:<br><br>\"Using Task.Wait() can lead to deadlocks in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> due to the special SynchronizationContext we use. Channel 9 has a video where Brad, Damian, and I speak about this in more detail.\"<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://blogs.msdn.com/b/webdev/archive/2014/02/18/introducing-asp-net-project-helios.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://blogs.msdn.com/b/webdev/archive/2014/02/18/introducing-asp-net-project-helios.aspx</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 1:57:45 PM","shortDate":"Feb 18, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Agreed, for me it is related for this post he is using WPF. &nbsp;I have not watched the video yet though.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 18, 2014, 2:07:54 PM","shortDate":"Feb 18, 2014","textHtml":"Demis I'll prepare you a sample as sono ad I ve time... Hope you can find a Fix btw﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 19, 2014, 5:29:59 AM","shortDate":"Feb 19, 2014","textHtml":"I'm under WPF for the client but ServiceStack is hosted on&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> ...btw I've used async programming with <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> in past without any troubles﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 20, 2014, 9:43:07 AM","shortDate":"Feb 20, 2014","textHtml":"Demis I've prepared a sample project but I'm not able to upload it on github.... can you please tell me where I should upload it to?<br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 10:08:52 AM\n(edited Feb 20, 2014, 10:09:23 AM)","shortDate":"Feb 20, 2014","textHtml":"Note: you shouldn't block on async code, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html</a><br><br>Use the sync API's if you want to perform sync/blocking operations.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 20, 2014, 10:23:07 AM","shortDate":"Feb 20, 2014","textHtml":"I'll take a look on this... btw I've used in past the Wait.All in <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> without any problem....can you please tell me where I can upload my demo project? If I'm in non blocking approach how should I start 4-5 load in parallel then wait?<br>Thanks﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 20, 2014, 10:32:41 AM","shortDate":"Feb 20, 2014","textHtml":"Here's the link to the demo project <a rel=\"nofollow\" target=\"_blank\" href=\"https://drive.google.com/file/d/0B6nPFuIuKHG1MW9LMEhXbHpRTzg/edit?usp=sharing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://drive.google.com/file/d/0B6nPFuIuKHG1MW9LMEhXbHpRTzg/edit?usp=sharing</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 11:14:01 AM\n(edited Feb 20, 2014, 11:21:07 AM)","shortDate":"Feb 20, 2014","textHtml":"Paolo, the recommendation from the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> team is to not to block on async. If this is what you're doing you're most likely running into the dead lock problem they're warning you about.<br><br>If you're making the async calls in from WPF app, you can get the callback to happen on the UI thread with:<br><br>var client = new JsonServiceClient(baseUrl) {<br>&nbsp; &nbsp; HandleCallbackOnUiThread = true,<br>};﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 20, 2014, 12:32:04 PM","shortDate":"Feb 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;are you looking at fixing that need for HandleCallbackOnUiThread?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 12:38:58 PM","shortDate":"Feb 20, 2014","textHtml":"Yeah I've added a CaptureSynchronizationContext&nbsp;option to capture the synchronization context when the call was made and executing the response on the same context in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d9330daf93dd4738e405d8c75a905233fe71941e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d9330daf93dd4738e405d8c75a905233fe71941e</a><br><br>It's similar to the UiThread SynContext except it captures it at the callsite instead of where the client was first initialized.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 20, 2014, 12:53:36 PM","shortDate":"Feb 20, 2014","textHtml":"That is great....I have MANY hours in this issue as you know! &nbsp;Glad to hear it is fixed! &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 1:30:37 PM","shortDate":"Feb 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;This is now on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>Can you try the CaptureSynchronizationContext option out when you have time and let me know if it also solves the issues. I'll leave it as a non-default option for a while until it's had some real-world testing.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 21, 2014, 2:53:45 AM","shortDate":"Feb 21, 2014","textHtml":"Hello Demis,<br>I've tried your modification on the demo project I've uploaded to my google drive but it still hangs...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 9:20:16 AM","shortDate":"Feb 21, 2014","textHtml":"ok but are you still trying to block on Async? BTW which file is this in?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 21, 2014, 9:25:53 AM","shortDate":"Feb 21, 2014","textHtml":"Yes I was trying to wait the completition on Async, you can take a look on MainWindow.xaml.cs, the method file si Wait_Click﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:08:06 AM","shortDate":"Feb 21, 2014","textHtml":"ok there's no reason you need to block there, you should just change it to use Task.WhenAll.&nbsp;﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 21, 2014, 10:13:03 AM","shortDate":"Feb 21, 2014","textHtml":"If I was under 4.5 yes...under FW 4 I can't at least without using BCL﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:18:50 AM","shortDate":"Feb 21, 2014","textHtml":"It seems in .NET 4.0 you should be able to use ContinueWhenAll:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/11512590/net-4-equivalent-of-task-whenall\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/11512590/net-4-equivalent-of-task-whenall</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:36:38 AM","shortDate":"Feb 21, 2014","textHtml":"Note: if you just want to execute the actions concurrently you don't have to use async, you can just run them concurrently and block on the results, I've got some useful extension methods that makes this easy, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/b83985813f335eb19cf1864be4b00b0ecf968bef\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/b83985813f335eb19cf1864be4b00b0ecf968bef</a>﻿"}],"date":"Feb 18, 2014, 3:33:11 AM","shortDate":"Feb 18, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I think there's a bug on how SS OrmLite handles null values...<br>I've a POCO like<br><br>&nbsp;public class SomeDTO : IReturn&lt;bool&gt;<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int ID { get; set; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int? OptionalID { get; set; }<br>&nbsp;&nbsp;&nbsp; }<br><br>when I pass to ORMLite the field as null it generates the following statement<br><br>exec SP_xxx @ID=1602,OptionalID=default<br><br>If I set it as DBNull.Value it correctly hands null value.... on StackOverflow there was an iussue #274 on this <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/17432909/how-to-pass-non-optional-null-parameters-to-a-stored-proc-using-ormlite\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/17432909/how-to-pass-non-optional-null-parameters-to-a-stored-proc-using-ormlite</a> ...wasn't it supposed to be fixed?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:02:13 AM","shortDate":"Feb 17, 2014","textHtml":"Are you calling a stored procedure? what's the failing test look like?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 17, 2014, 10:08:38 AM","shortDate":"Feb 17, 2014","textHtml":"Yes it's a procedure ... I'm calling it as<br><br>&nbsp;var lst = db.Exec(dbCmd =&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.CommandType = CommandType.StoredProcedure;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.CommandText = storedProcedure;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.Parameters.Add(new SqlParameter(\"ID\", request.ID));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.Parameters.Add(new SqlParameter(\"OptionalID\", request.OptionalID)); //this sets default<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return dbCmd.ExecuteNonQuery();﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:13:27 AM","shortDate":"Feb 17, 2014","textHtml":"Your executing plain <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> code at this point. OrmLite has no impact here.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 17, 2014, 10:16:01 AM","shortDate":"Feb 17, 2014","textHtml":"Ah ok....I'm using this way since with db.SqlProcedure I don't know where to set the SP name...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:21:51 AM","shortDate":"Feb 17, 2014","textHtml":"Here are some examples calling SQL Server procs with the Sql* apis:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/SqlServerProviderTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/SqlServerProviderTests.cs</a><br><br>Here's an example using the ExecuteProcedure method:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite.PostgreSQL.Tests/OrmLiteExecuteProcedureTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite.PostgreSQL.Tests/OrmLiteExecuteProcedureTests.cs</a><br>It uses the name of the DTO - but the Sql* APIs offer more flexibility.﻿"}],"date":"Feb 17, 2014, 9:50:38 AM","shortDate":"Feb 17, 2014"},{"userId":"102082490347478105488","userName":"Kaush Shetty","textHtml":"Hello everyone!<br><br>Thanks Demis for adding me to the forums.<br><br>Now, as per the screen shot attached, I'm wondering which namespace am I missing for the extension \"ConvertTo\" ?<br><br>I've recently downloaded packages using nuget pointing to version 4.0.10<br><br>Thanks for your help!<br><br>Cheers,<br>--Kaush.﻿","comments":[{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 12:22:04 AM","shortDate":"Feb 17, 2014","textHtml":"Found that it is in ServiceStack.Text, but the namespace is not available in the ServiceStack dll? Dunno what am I missing..?﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 12:27:33 AM","shortDate":"Feb 17, 2014","textHtml":"Sorry about that, my nuget packages were a bit out of whack. Had to manually reference the ServiceStack.Text dll from the packages folder...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 9:05:10 AM","shortDate":"Feb 17, 2014","textHtml":"ok cool, glad its sorted.﻿"}],"date":"Feb 17, 2014, 12:09:57 AM","shortDate":"Feb 17, 2014"},{"userId":"102009037555060074960","userName":"Nabil Alhusail","textHtml":"I have an indie license.<br>Can I build a website and deploy it on a client's server ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 8:53:42 AM","shortDate":"Feb 13, 2014","textHtml":"Yep it's royalty-free so allows for unlimited deployments.﻿"},{"userId":"102009037555060074960","userName":"Nabil Alhusail","date":"Feb 13, 2014, 9:10:19 AM","shortDate":"Feb 13, 2014","textHtml":"what about the license key ? I assume that I need to encrypt it, right.<br>Is there any other requirements ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 10:08:46 AM","shortDate":"Feb 13, 2014","textHtml":"You can deploy the license key as you wish, it's registered to you so might be a good idea to embed it in the project, e.g:<br>Licensing.RegisterLicense(licenseKeyText);<br><br>see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/download#register\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/download#register</a>﻿"}],"date":"Feb 13, 2014, 8:32:40 AM","shortDate":"Feb 13, 2014"},{"userId":"109640872408655177062","userName":"Colin Mackie","textHtml":"Not sure if this or stackoverflow is best place to ask normal questions, bit I'll try here, let me know if not appropriate.<br><br>Having switched to v4, I am also changing the way we do our Roles, particularly trying to use the new&nbsp;UserAuthRole table. However, when I set a role of a newly registered user, it is saved into the Session but not the UserAuth or UserAuthRole tables.<br><br>Clearly, I'm missing something fundamental but can't any find good references for how these should work in a more complicated situations than SocialBootstrapApi.<br><br>Can anyone point me at some references or examples showing good uses of UserAuth &nbsp;and UserAuthRole,? Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 1:54:29 PM","shortDate":"Feb 12, 2014","textHtml":"Hi Colin, To look at the UserAuthRoles table you would need to modify your CustomAuthUser session like:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-new-optional-userauthrole-table-added\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-new-optional-userauthrole-table-added</a><br><br>You would need to add the roles manually to your table, e.g:<br><br>db.Insert(new&nbsp;UserAuthRole {&nbsp;UserAuthId = userId,&nbsp;Role = \"Role\" }); //etc﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 12, 2014, 2:01:11 PM","shortDate":"Feb 12, 2014","textHtml":"Demis, Thanks. That was my fundamental misunderstaing. I assumed UserAuth was being managed for me<br><br>So after the user is added by the registration service, I have to manage all subsequent changes? I guess my issue was not being able to find information around this (back from v3)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 2:03:58 PM\n(edited Feb 12, 2014, 2:05:07 PM)","shortDate":"Feb 12, 2014","textHtml":"Yeah the default behavior is still to blob them, I'll look at some way to provide an option to save them in those tables instead.&nbsp;<br><br>But at the moment you would have to add them to the db yourself. Though it is just adding POCO rows to a OrmLite table.﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 12, 2014, 2:08:52 PM\n(edited Feb 12, 2014, 2:09:27 PM)","shortDate":"Feb 12, 2014","textHtml":"They aren't being saved into UserAuth either. During my registration I effectively do<br><br>session.Roles.Add(\"MyRole\");<br><br>which I can see through redis is stored in the session, but not the UserAuth or UserAuthRole. You explained why not for&nbsp;UserAuthRole, but you make it sound like it should have been written into the UserAuth row. Or do I have to update UserAuth from session too?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 2:12:48 PM","shortDate":"Feb 12, 2014","textHtml":"It saves if you use the AssignRolesService:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AssignRolesService.cs#L67\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AssignRolesService.cs#L67</a><br><br>Just adding it to the session won't persist it.﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 12, 2014, 2:15:44 PM","shortDate":"Feb 12, 2014","textHtml":"Got it. Thanks.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 14, 2014, 2:24:57 PM\n(edited Feb 14, 2014, 2:25:39 PM)","shortDate":"Feb 14, 2014","textHtml":"Hey Colin, I've just implemented the 'UseDistinctRoleTables ' option in OrmLiteAuthRepository, e.g:<br><br>container.Register&lt;IAuthRepository&gt;(c =&gt;<br>new OrmLiteAuthRepository(c.Resolve&lt;IDbConnectionFactory&gt;()) {&nbsp;<br>&nbsp; UseDistinctRoleTables = true&nbsp;});<br><br>that you can use to enable to Roles and Permissions to be persisted in distinct tables in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/81d2530804a9d76a6681d9ec14e454b6c0cf7d70\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/81d2530804a9d76a6681d9ec14e454b6c0cf7d70</a><br><br>It's integrated with the rest of ServiceStack so you can re-use the AssignRoles/UnAssignRoles services and you don't need to do anything else like overriding the custom HasRoles/HasPermissions methods, as it will automatically check those tables if the option is enabled.<br><br>It's just been published to MyGet, feel free to give it a spin:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"Feb 12, 2014, 1:40:19 PM\n(edited Feb 12, 2014, 1:40:52 PM)","shortDate":"Feb 12, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I need to save after a successfull login some data related to the authenticated user, e.g. some internal id, activation date and so on... I've seen that when overriding the public override void OnAuthenticated(IServiceBase authService, IAuthSession session, IAuthTokens tokens, Dictionary&lt;string, string&gt; authInfo) I've got this authInfo... what this for? can it be used for this purpose? I've tried to retrieve this authInfo under the service.Request but I wasn't able to spot it... is it propagated somewhere? I've also seen that OAuth provider exposes it but as I've seen it just on Authentication process, not for retrieval.<br><br>Thanks in advance<br>Paolo﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 10, 2014, 8:58:25 AM\n(edited Feb 10, 2014, 8:59:37 AM)","shortDate":"Feb 10, 2014","textHtml":"Yeah the OnAuthenticated hook on your Custom AuthUserSession gets called once after a successful login so you can use it to do run any custom logic after they're logged in.<br><br>The authService is a reference to the AuthenticateService class which lets you also retrieve dependencies from the IOC with:<br><br>using (var db = authService.TryResolve&lt;IDbConnectionFactory&gt;())&nbsp;{<br>//...<br>}﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 10, 2014, 9:14:20 AM","shortDate":"Feb 10, 2014","textHtml":"Hello Demis, thanks ok but after the Authentication is completed, how do I get those information (saved in AuthInfo) on the Service side?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 10, 2014, 9:26:11 AM","shortDate":"Feb 10, 2014","textHtml":"You should just set them on properties on your Custom AuthUserSession, then you can just retrieve it in your services with:<br><br>var session = base.SessionAs&lt;CustomAuthSession&gt;();﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 10, 2014, 11:26:15 AM","shortDate":"Feb 10, 2014","textHtml":"Excuse me again, I've created my own session class that implements IAuthSession with one additional field, but where should I tell SS that I wish to use myAuthSession as IAuthSession? Thanks﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 10, 2014, 11:33:43 AM","shortDate":"Feb 10, 2014","textHtml":"OK I've found&nbsp; it on AppHost.Configure...Thanks!﻿"}],"date":"Feb 10, 2014, 8:48:58 AM","shortDate":"Feb 10, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Does anyone have any input on this issue? &nbsp;I also wonder how many of you use the SS Razor Plugin? <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21490801/accessing-session-in-the-servicestack-razor-view\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21490801/accessing-session-in-the-servicestack-razor-view</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 5, 2014, 9:43:59 AM\n(edited Feb 5, 2014, 9:45:21 AM)","shortDate":"Feb 5, 2014","textHtml":"To help with debugging I would call your own method from Razor views so you can put a breakpoint and inspect the values passed in.<br><br>You should also hopefully be able to debug v4.09 source code using the source symbols published with NuGet, some instructions:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages</a><br><br>As for SS.Razor, all of&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net</a> is built with it.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Feb 5, 2014, 10:14:15 AM","shortDate":"Feb 5, 2014","textHtml":"Ok, thanks.﻿"}],"date":"Feb 5, 2014, 9:22:43 AM","shortDate":"Feb 5, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"First of all, thanks for the RabbitMQ support. &nbsp;I think this will be great. &nbsp;I have a few questions/issues.<br><br>1) &nbsp;When a message has no response, I would not want to publish to another queue. &nbsp;The docs say we can use PublishResponsesWhiteList or DisablePublishingResponses. &nbsp;However, the help (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-responses-are-published-to-the-response-inq\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-responses-are-published-to-the-response-inq</a>) indicates that disables the publishing of any response? &nbsp;(Maybe that gray comment at bottom of this section should not be there?)<br><br>2) &nbsp;In this section (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-no-responses-are-sent-to-outq-topic\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-no-responses-are-sent-to-outq-topic</a>) you talk about blocking until a message gets processed. &nbsp;This would actually block until any message on the Hello queue was processed by any subscriber though, right (not just my calling code). &nbsp;So the .Name would not necessarily be 'world'.?<br><br>3) &nbsp;How can we do the typical RPC type mechanism with your implementation? &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html</a><br><br>Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 12:16:18 PM","shortDate":"Feb 3, 2014","textHtml":"1) you're looking at the wrong section, when a message has no response its published to the non-durable .outq:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-no-responses-are-sent-to-outq-topic\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-messages-with-no-responses-are-sent-to-outq-topic</a><br><br>2) Right, its any message in that queue, you would provide your own app-specific ids to correlate it with the request, if you want to block on a specific response use a unique replyTo queue:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-responses-from-messages-with-replyto-are-published-to-that-address\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#wiki-responses-from-messages-with-replyto-are-published-to-that-address</a><br><br>3) Use a unique replyTo queue, like they do in the example. If you don't want to put in your DTO, you can specify a message.ReplyId with your message which gets stored in RabbitMQ Message.CorrelationId.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 3, 2014, 1:16:12 PM","shortDate":"Feb 3, 2014","textHtml":"1) &nbsp;I think this is just a documentation issue then. &nbsp;See here for what I am referencing. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://tinypic.com/r/2q1uwew/8\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://tinypic.com/r/2q1uwew/8</a><br><br>3) &nbsp;I think you need direct support for this. &nbsp;Like it to be as easy as something like this. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/mikehadlow/EasyNetQ/wiki/Request-Response\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/mikehadlow/EasyNetQ/wiki/Request-Response</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 1:29:36 PM\n(edited Feb 3, 2014, 1:32:35 PM)","shortDate":"Feb 3, 2014","textHtml":"I know that's what you are referencing, but the section and diagram above already talked about the \"no response\" workflow. The section you're pointing to is the has \"response\" workflow.<br><br>The way to get a matching response is to use a unique replyTo queue. I can look at simplifying it. Feel free to suggest features in ServiceStack uservoice feature requests.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 3, 2014, 2:35:35 PM","shortDate":"Feb 3, 2014","textHtml":"Ok, but if it is taking about the response workflow, I do not believe it should be talking about 'no response' options! &nbsp;Anyway, was unclear to me and I know both products very well, leave it, change it, no matter! &nbsp;:-)<br><br>I will offer that in uservoice. &nbsp;I think SS should directly cover the common scenarios for MQ shown here. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/getstarted.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/getstarted.html</a>﻿"}],"date":"Feb 3, 2014, 12:05:35 PM","shortDate":"Feb 3, 2014"},{"userId":"107448356427818679798","userName":"Michael Daly","textHtml":"I just added&nbsp;ServiceStack.OrmLite.MySql to a project, it is referencing an old version of&nbsp;MySql.Data (6.6.4), but installs a newer one. So I had to install the old version of&nbsp;MySql.Data manually.<br><br>We are having issues where, Guid's are being returned as 00000000000000000000000000000000 by Ormlite.&nbsp;<br><br>I just want to check if there are any known issues with Ormlite and&nbsp;MySql.Data (6.6.4), while I begin to debug this.﻿","comments":[{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Jan 31, 2014, 2:53:52 PM","shortDate":"Jan 31, 2014","textHtml":" I had the same reference issue some time ago. Try to remove the servicestack references from your project. Then get the latest servicestack packages from nuget. ﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 31, 2014, 3:10:31 PM","shortDate":"Jan 31, 2014","textHtml":"OK, I just created a new console app, and installed SS.Ormlite.MySql. There were no issues with references to MySql.Data.<br><br>Ormlite is still returning Guids as 00000000000000000000000000000000﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 31, 2014, 3:40:55 PM","shortDate":"Jan 31, 2014","textHtml":"I think it's a bug, the Ormlite deserializer is expecting a guid with dashes, but Ormlite saves guids without dashes in MySql&nbsp;<br><br>I'll report on github﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"Jan 31, 2014, 4:52:26 PM","shortDate":"Jan 31, 2014","textHtml":"Just FYI: the guid issue also occurs with ServiceStack.OrmLite.SQLite. Guids are saved without dashes and queries using the same guid don't return the respective record because the value without dashes isn't found. I thought this problem was restricted to SQLite but that doesn't seem to be the case.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 1, 2014, 1:27:45 PM","shortDate":"Feb 1, 2014","textHtml":"This should be fixed now with v4.09 on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"Feb 2, 2014, 8:08:22 AM","shortDate":"Feb 2, 2014","textHtml":"Thanks a lot, <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>. I can confirm that the problem is fixed in v4.09 as far as SQLite is concerned. I can't speak for <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/107448356427818679798\" oid=\"107448356427818679798\">Michael Daly</a></span> and MySQL, though ...﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Feb 2, 2014, 5:52:03 PM","shortDate":"Feb 2, 2014","textHtml":"I just tested, it's not fixed yet. Will detail on github.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2014, 7:36:13 PM","shortDate":"Feb 2, 2014","textHtml":"That's because you need to let ormlite recreate the table/column or manually change it to char(36)﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Feb 3, 2014, 4:42:57 AM","shortDate":"Feb 3, 2014","textHtml":"Gotit, after recreating table it's working﻿"}],"date":"Jan 31, 2014, 2:36:03 PM","shortDate":"Jan 31, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"If &nbsp;the feature \"PredefinedRoutes\" is removed, does this stop you from using SOAP? I know the route of operation/SOAP12 will not be available anylonger, but operation.soap12 or operation?format=soap12 still will work?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 12:35:33 PM","shortDate":"Jan 30, 2014","textHtml":"yeah it would remove SOAP support.﻿"}],"date":"Jan 30, 2014, 12:30:31 PM","shortDate":"Jan 30, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hi,<br>I have a <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Forms / MVC 5 / Service Stack application (i know, it's a nice mix). &nbsp;It uses the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Membership. &nbsp;The login page is an web forms page. &nbsp;Once the user is authenticated I want to make sure that the user is also authenticated against the service stack services that are hosted under the same project. &nbsp;In order to be able to reuse the <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> membership framework I created a CustomCredentialsAuthProvider for SS. &nbsp;So then my thought was that I could just call the:<br><br>var authService = AppHostBase.Instance.Resolve&lt;AuthenticateService&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; authService.Request = System.Web.HttpContext.Current.ToRequest();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = authService.Authenticate(new Authenticate<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName = ((Login)sender).UserName,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password = ((Login)sender).Password,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RememberMe = ((Login)sender).RememberMeSet<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }); &nbsp;<br><br>Even though this call goes through, when I try to hit any of the SS services I get an error and the redirect url to /login. &nbsp;<br><br>Am I missing something?<br><br>Here is my apphost:<br>//Plugins<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Plugins.Add(new RazorFormat());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Plugins.Add(new SessionFeature());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Plugins.Add(new AuthFeature(() =&gt; new CustomUserSession(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new IAuthProvider[] { new CustomCredentialsAuthProvider() })); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; container.Register&lt;ICacheClient&gt;(new MemoryCacheClient());﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 10:45:44 AM","shortDate":"Jan 30, 2014","textHtml":"Can you check on the HTTP Response if the ServiceStack ss-pid cookie is being set?<br><br>Note: you should resolve ServiceStack &nbsp;services from inside a MVC Controller with:<br><br>using (var svc = HostContext.ResolveService&lt;AuthenticateService&gt;(base.Request.ToRequest()))<br>{<br>&nbsp; &nbsp; //...<br>}<br><br>Can you try the code above to see how that goes?<br><br>Also posts with a lot of source code is easier to read on StackOverflow, you can post a link here so we can see it.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 30, 2014, 11:42:21 AM","shortDate":"Jan 30, 2014","textHtml":"This login page is a web forms page. &nbsp;So I am using the PageBase class. &nbsp;So I modified my code to :<br>using (var authService = HostContext.ResolveService&lt;AuthenticateService&gt;(HttpContext.Current.ToRequest()))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = authService.Authenticate(new Authenticate<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName = ((Login)sender).UserName,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password = ((Login)sender).Password,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RememberMe = ((Login)sender).RememberMeSet<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>The code executes without errors and when I view the Cookies in the browser I have the \"ss-id\" and \"ss-pid\" cookies. &nbsp;But hitting a service that has the [Authenticate] attribute shows me a message that the handler could not be found with the redirect to login. &nbsp;<br><br>Btw, I will move this to stack overflow.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 30, 2014, 11:50:02 AM","shortDate":"Jan 30, 2014","textHtml":"If I remove the Authenticate attribute and get to the service I am able to pull out the custom session information that was saved in the OnAuthenticated() method in my CustomCredentialsAuthProvider. &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 12:30:26 PM","shortDate":"Jan 30, 2014","textHtml":"That's weird, can you also post the HTTP Requests/Responses, seems odd that the cookies are passed through but it's coming back as non-authenticated.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Jan 30, 2014, 4:41:31 PM","shortDate":"Jan 30, 2014","textHtml":"I wrote a filter provider. &nbsp;Works like this: &nbsp; &nbsp; &nbsp;[ServiceStackToAspNetAuthorize(Roles = \"somerole\")]﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Jan 30, 2014, 4:42:30 PM","shortDate":"Jan 30, 2014","textHtml":"Code looks like this. &nbsp;(I sent for inclusion in SS, but Demis said he had other 'bigger' plans to help those of us trying to use them together and pull was rejected). &nbsp;<br><br>&nbsp; &nbsp; public class ServiceStackToAspNetAuthorizeAttribute : RequestFilterAttribute<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; private string _roles;<br>&nbsp; &nbsp; &nbsp; &nbsp; private string[] _rolesSplit = new string[0];<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public string Roles<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get { return _roles ?? String.Empty; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; set<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _roles = value;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; _rolesSplit = SplitString(value);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public ServiceStackToAspNetAuthorizeAttribute(ApplyTo applyTo)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : base(applyTo)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Priority = (int)RequestFilterPriority.Authenticate;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public ServiceStackToAspNetAuthorizeAttribute()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : this(ApplyTo.All) { }<br><br><br>&nbsp; &nbsp; &nbsp; &nbsp; public override void Execute(IRequest req, IResponse res, object requestDto)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!InternalAuthorize())<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res.StatusCode = (int)HttpStatusCode.Unauthorized;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; res.EndRequest();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; private bool InternalAuthorize()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var context = HttpContext.Current;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (context != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var user = context.User;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (user != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!user.Identity.IsAuthenticated)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (_rolesSplit.Length &gt; 0 &amp;&amp; !_rolesSplit.Any(user.IsInRole))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; private static string[] SplitString(string original)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (String.IsNullOrEmpty(original))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new string[0];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var split = from piece in original.Split(',')<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; let trimmed = piece.Trim()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; where !String.IsNullOrEmpty(trimmed)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; select trimmed;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return split.ToArray();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; }﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 30, 2014, 4:42:51 PM","shortDate":"Jan 30, 2014","textHtml":"Hey Demis,<br>So I tried to simplify my project. &nbsp;I created an <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> host using the servicestack.host.aspnet nuget package. &nbsp;With a basic scenario of a SS TestService automatically authenticating the user and I got other errors. &nbsp;I'm hoping that if I can get this to work that the other <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a> webforms/mvc5 project will work as well.<br><br>I tried to put as many details into this stackoverflow question. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21467903/servicestack-authentication-you-dont-need-to-use-ihttprequest-tryresolveihttpr\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21467903/servicestack-authentication-you-dont-need-to-use-ihttprequest-tryresolveihttpr</a><br><br>Let me know if there is anything else I need to add.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 30, 2014, 4:53:41 PM","shortDate":"Jan 30, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;Thanks for the input. &nbsp;At this point I am not trying to reuse anything from the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Membership as we are transitioning the whole project to SS. &nbsp;But in the meantime I just need to authenticate the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> and SS via that one login page. &nbsp;Then over then next few years we will be moving pieces over. &nbsp;What I find odd is that I was not even able to create a Test SS Service that calls the AuthenticateService and logs the user in as explained in detail in my stackoverflow link.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2014, 2:54:03 AM","shortDate":"Jan 31, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/109366545871054247267\" oid=\"109366545871054247267\">Zoran Knezevic</a></span>&nbsp;FYI, just responded on StackOverflow with a workaround, i.e. add this after calling the Auth Service: &nbsp; &nbsp; &nbsp; &nbsp; base.Request.ResponseContentType = MimeTypes.Html;<br><br>Otherwise you can ignore it if you go with the latest release on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 31, 2014, 9:54:46 AM","shortDate":"Jan 31, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Thanks for the response! &nbsp;Sorry that it kept you up to 3AM. &nbsp;You resolved the first part of my issue. &nbsp;I have commented on the question and created another question with more details on the second part which is still not working. &nbsp;You can find that here&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21482929/servicestack-authentication-authenticate-attribute-fails-to-process-the-ss-id\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21482929/servicestack-authentication-authenticate-attribute-fails-to-process-the-ss-id</a>. &nbsp;Thanks for your help.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2014, 11:45:21 AM\n(edited Jan 31, 2014, 12:52:22 PM)","shortDate":"Jan 31, 2014","textHtml":"No worries, tho I'm still in Australia so it wasn't 3am over here :).&nbsp;<br><br>This is strange, as your example works for me, e.g. hitting TestService authenticated me in and let me hit a helloauth service that required authentication where it didn't allow me before. Can you post the HTTP Request and Response headers on the question so we can see what's going on. You should be able to use the Network tab in WebInspector or Fiddler.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 31, 2014, 12:42:33 PM","shortDate":"Jan 31, 2014","textHtml":"Gotcha. &nbsp;So, it turned out that it was an error on my end. &nbsp;You can see the comments on the question to see my blunder. &nbsp;Thanks for your help.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2014, 12:55:43 PM","shortDate":"Jan 31, 2014","textHtml":"Awesome, glad you worked it out! Great to have Scott around, he's been a superstar on StackOverflow.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 31, 2014, 1:00:22 PM","shortDate":"Jan 31, 2014","textHtml":"Yes he is!﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 1, 2014, 9:58:24 AM","shortDate":"Feb 1, 2014","textHtml":"Demis, I remember you were going to AUS, but I figured it was for a week or two...you are still there? &nbsp;Awesome....are you even going to come back? &nbsp;:-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 1, 2014, 10:26:21 AM\n(edited Feb 1, 2014, 10:27:13 AM)","shortDate":"Feb 1, 2014","textHtml":"Yep, flying back this weekend coming up.﻿"}],"date":"Jan 30, 2014, 9:59:12 AM","shortDate":"Jan 30, 2014"},{"userId":"109640872408655177062","userName":"Colin Mackie","textHtml":"Just upgraded from v3 to v4.<br><br>First test hit error: seems LastInsertId for OrmLite.SqlServer always returns zero. Database has a value, and it works with MySql.<br><br>Any obvious gotchas I should be aware of?﻿","comments":[{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Jan 23, 2014, 3:33:43 PM\n(edited Jan 23, 2014, 3:34:21 PM)","shortDate":"Jan 23, 2014","textHtml":"What does the SQL look like if you do&nbsp;db.GetLastSql(); ?<br><br>Does this work:<br>var itemId = db.Insert(item, selectIdentity:true);﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Jan 23, 2014, 3:44:10 PM","shortDate":"Jan 23, 2014","textHtml":"GetLastSql is \"SELECT SCOPE_IDENTITY()\"<br><br>Passing true for selectidentity does return the Id. Calling LastInsertId right after still returns zero.﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Jan 23, 2014, 5:23:15 PM\n(edited Jan 23, 2014, 5:40:04 PM)","shortDate":"Jan 23, 2014","textHtml":"I looked at the SQL (2008) profiler. My insert code is using db.Insert&lt;T&gt;(obj). which is getting wrapped up in a stored procedure \"exec sp_executesql\", so the subsequent SELECT SCOPE_IDENTIFY()\" is out of scope, and is always going to be zero.<br><br>I ran my v3 version, and the INSERT is sent directly and not wrapped in an sp, which is why it worked before.<br><br>Since Insert&lt;T&gt;(obj) is now paramterised, LastInsertId is never going to work.<br><br>Now I know the issue, I could search for it, and Demis closed an issue here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/12\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/12</a>. For me it's a breaking change and perhaps LastIdentidId should be deprecated,﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 23, 2014, 9:39:23 PM","shortDate":"Jan 23, 2014","textHtml":"Different ways of retrieving the autoincremnt id is also answered on: <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/21202459/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/21202459/85785</a><br><br>It's still useful when inserting rows in any non-parameterized way e.g with <b>*ExecuteSql*</b> or for anyone creating high-level APIs with custom extension methods.&nbsp;﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Jan 23, 2014, 10:17:19 PM","shortDate":"Jan 23, 2014","textHtml":"Thanks Demis. Didn't know about Save().﻿"}],"date":"Jan 23, 2014, 3:04:47 PM\n(edited Jan 23, 2014, 3:05:47 PM)","shortDate":"Jan 23, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"How does one remove the need to specify the ResponseStatus property in each Response object and utilize fluent validation which adds Validation errors to this property? Suggestions?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 21, 2014, 11:52:39 AM","shortDate":"Jan 21, 2014","textHtml":"You don't need to include a ResposneStatus property as long as your response DTO does <b>not</b> have a \"Response\" suffix, explained in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#error-response-types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#error-response-types</a><br><br>When an exception is thrown and the Response DTO doesn't have a ResponseStatus property it throws a generic ErrorResponse DTO which does.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Jan 21, 2014, 11:57:15 AM","shortDate":"Jan 21, 2014","textHtml":"Sweet, thanks for the answer. I was looking for this, my brain must not be working today.﻿"}],"date":"Jan 21, 2014, 11:45:45 AM","shortDate":"Jan 21, 2014"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"Hi,<br><br>I'm working on getting persistent MiniProfiler storage to build a dashboard of the performance of a given API i'm building..<br><br>However, I can't seem to find the&nbsp;SqlServerStorage class in any of the ServiceStack assemblies. Am I missing a reference, or was the class renamed / removed?<br><br>Thanks! :)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2014, 5:32:32 AM","shortDate":"Jan 19, 2014","textHtml":"It was removed from ServiceStack because it required a reference to Dapper/OrmLite and ServiceStack no longer depends on Redis or OrmLite. I've added it back and moved it into the ServiceStack.Server project which has the required dependencies. It's now published to MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>And will be on NuGet in the next v4.08 release in 1-2 days.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 19, 2014, 5:35:01 AM","shortDate":"Jan 19, 2014","textHtml":"Cool, thanks for the quick support.. Have a pleasant sunday.﻿"}],"date":"Jan 19, 2014, 4:46:59 AM","shortDate":"Jan 19, 2014"},{"userId":"106898037990653658174","userName":"Ian Battersby","textHtml":"Hi All,<br><br>Be interested to hear from fellow OrmLite users if they have tackled any TimeSpan issues with MS-SQL? I posted a question on StackOverflow that gives some detail. Seems to work fine with our VistaDB development-workflow abstract dialect (precision 5 vs 7 tho).&nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21120651/servicestack-ormlite-failed-to-convert-parameter-value-from-a-timespan-to-a-dat\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21120651/servicestack-ormlite-failed-to-convert-parameter-value-from-a-timespan-to-a-dat</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 16, 2014, 12:54:46 PM","shortDate":"Jan 16, 2014","textHtml":"Yeah TimeSpan is not properly supported, it doesn't have a good SQL data type that's universally supported, I might need to coerce it into ticks or something.<br><br>Can you create a new issue to add TimeSpan support to OrmLite at: &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/issues</a><br>So we can keep track of it and get notified of updates.﻿"}],"date":"Jan 16, 2014, 12:26:02 PM","shortDate":"Jan 16, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Excuse me I'll release an app to Staging Enviroment within a month using SS 4.06 ...I know it's in Beta but do you think it's stable enougth? When it will be released as stable?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 13, 2014, 11:12:10 AM","shortDate":"Jan 13, 2014","textHtml":"Hi Paolo, I just published v4.06 to NuGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes</a><br><br>Yeah MyGet packages are stable, they reflect the latest version of the master repos with all tests passing still.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 14, 2014, 4:17:26 AM","shortDate":"Jan 14, 2014","textHtml":"Why so it's called beta on the wiki? Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2014, 4:28:24 AM\n(edited Jan 14, 2014, 4:31:14 AM)","shortDate":"Jan 14, 2014","textHtml":"We're having a 2 month beta period for v4 which underwent a significant refactor from v3 and which we're still making small breaking changes like what was required to be able to provide PCL support seen in the latest release.<br><br>MyGet is a pre-release of what gets eventually published on NuGet but is more frequently deployed so is more volatile.﻿"}],"date":"Jan 13, 2014, 5:32:47 AM","shortDate":"Jan 13, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I would like a confirmation&nbsp; about the&nbsp; client side development,&nbsp; in ver. 4.0.6 .&nbsp;&nbsp; The &nbsp;&nbsp; required assemblies&nbsp; that we can distribute freely to&nbsp; customer,&nbsp; ( so they can create requests to our services),<br>are only the ServiceStack.Client and ServiceStack.Interfaces.<br>Nothing else,&nbsp; neither&nbsp; the ServiceStack.Text.<br>&nbsp;(we use C# clients for json and protobuf)<br>&nbsp; Is that correct ?&nbsp;&nbsp; thx﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 10, 2014, 11:57:08 AM","shortDate":"Jan 10, 2014","textHtml":"Yeah you can share the client dlls (but not license keys), although it's easier if they'd just use NuGet as they're easier to update.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Jan 10, 2014, 12:02:32 PM","shortDate":"Jan 10, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;thx,&nbsp; I share them,&nbsp; because&nbsp; I have prepared wrappers for most important requests&nbsp; in our client.requests assembly.﻿"}],"date":"Jan 10, 2014, 11:23:44 AM\n(edited Jan 10, 2014, 11:24:23 AM)","shortDate":"Jan 10, 2014"},{"userId":"111429250443743326583","userName":"Per Malmberg","textHtml":"So, I just updated all &nbsp;projects references to SS v4 via NuGet. Lets just say it didn't go as expected - there's not much that compiles now. Is there some information available on what has changed between the v3 and v4? Also, where has the&nbsp;EndpointHostConfig gone to?﻿","comments":[{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 5, 2014, 10:23:55 AM","shortDate":"Jan 5, 2014","textHtml":"Also, Is the extension method&nbsp;SerializeAsJSON() a direct replacement for ToJson() ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2014, 10:54:51 AM\n(edited Jan 5, 2014, 10:56:33 AM)","shortDate":"Jan 5, 2014","textHtml":"Please see the release notes as to what's changed, you should be able to search the text of classes to see what they've been renamed to:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes</a><br><br>ToJson() still exists, like most extension methods they've been moved to the base 'ServiceStack' namespace.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 5, 2014, 11:11:09 AM","shortDate":"Jan 5, 2014","textHtml":"Ah, there it is :) Everything compiles now, just need to test it all. Quite a few changes in v4, all to the good it seems :)﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 5, 2014, 11:28:55 AM","shortDate":"Jan 5, 2014","textHtml":"About licensing; my (stand alone) application is built in a very modular way where services are loaded based on the configuration. Multiple of these services uses SS, is it then sufficient to call Licensing.RegisterLicense() once for the entire application, i.e. the ApplicationDomain, or is there something more required? Also, do you have any suggestion on how to protect the license in a stand alone application; including the license string in the .cs file makes it available to anyone who wants to extract it...obfuscation is unfortunately no guarantee it can't be extracted.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2014, 11:37:04 AM\n(edited Jan 5, 2014, 11:39:12 AM)","shortDate":"Jan 5, 2014","textHtml":"You only need to call it once on App Startup, which applies to the entire AppDomain. There's not much you can to obsfucate the key other than encrypt or encode it, so it's not a simple, straight forward extraction.<br><br>Note: if they really wanted to steal it, they don't need to extract a license key from a compiled program, they can just take the source code from the GitHub repo and compile ServiceStack themselves.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 5, 2014, 3:26:18 PM","shortDate":"Jan 5, 2014","textHtml":"You're right about the licensing of course....problematic with Open Source and commercial interests.<br><br>Another question: In v3 I used a custom handler to catch calls to / in a an AppHost (inherited from&nbsp;AppHostHttpListenerBase) like so:&nbsp;CatchAllHandlers.Add( ( httpMethod, pathInfo, filePath ) =&gt; StaticFileHandler.Factory( ...) ). The reason for a custom handler was to allow files added to the path {Config.WebHostPhysicalPath} to be found after the AppHost had started, thus removing the need to restarts.<br><br>I've adapted the handler to the new&nbsp;IHttpHandler interface and SS creates an instance on a http request to the service, but something fails and logs the following error message: \"Error this.ProcessRequest(context): [AggregateException]: One or more errors occurred.\" before the call to ProcessRequest(...) method in my custom handler.<br><br>Is there any way to get more info about the exception without compiling SS myself? I've redirected all logging via Logging.LogFactory already and SS logs via&nbsp;ErrorFormat( string format, params object[] args ), but neither of the args are Exceptions, they're both strings.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2014, 9:18:50 PM","shortDate":"Jan 5, 2014","textHtml":"If it's an error in an IHttpHandler you may be able to intercept the exception by registering a handler in IAppHost.UncaughtExceptionHandlers<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L88\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L88</a><br>Let me know if that doesn't work, as I'll look at redirecting IHttpHandler exceptions to there as well if it's possible.<br>Otherwise I'll need to find the place that logs it and pass the exception instead of a string.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 4:19:52 AM","shortDate":"Jan 6, 2014","textHtml":"Well, it seems to me the error happens before the call to my handler's ProcessRequest() &nbsp;as my method never is executed (break point not halting the execution)<br>Nothing is reported via&nbsp;IAppHost.UncaughtExceptionHandlers. Can you please have a look at passing the exception instead of a string, as you suggested?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2014, 5:12:26 AM","shortDate":"Jan 6, 2014","textHtml":"How did you register the handler?﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 5:23:24 AM","shortDate":"Jan 6, 2014","textHtml":"In the constructor of my AppHost: UncaughtExceptionHandlers.Add( new ServiceStack.Host.HandleUncaughtExceptionDelegate( UncaughtExeption ) ); Is there more than one way?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2014, 5:29:41 AM","shortDate":"Jan 6, 2014","textHtml":"Sorry I meant registering the HttpHandler, are you registering it with IAppHost.RawHttpHandlers?﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 5:30:18 AM","shortDate":"Jan 6, 2014","textHtml":"Maybe you meant the IHttpHandler? Also in the constructor of the AppHost: CatchAllHandlers.Add( ( httpMethod, pathInfo, filePath ) =&gt; StaticFileHandler.Factory( ... &nbsp;) ); The Factory method returns an IHttpHandler or null if if it cannot find the requested file on disc.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 5:40:46 AM","shortDate":"Jan 6, 2014","textHtml":"Just for the sake of it, I tried moving them to the AppHost.Configure() method, same result.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2014, 6:00:17 AM","shortDate":"Jan 6, 2014","textHtml":"ok great it's a catch all handler, i'll investigate.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 6:08:17 AM","shortDate":"Jan 6, 2014","textHtml":"If you want it, the code for the handler is here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://dl.dropboxusercontent.com/u/9476016/StaticFileHandler.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dl.dropboxusercontent.com/u/9476016/StaticFileHandler.cs</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 6, 2014, 6:33:55 AM","shortDate":"Jan 6, 2014","textHtml":"ok cool, tho I was just going to throw an exception in ProcessHandler, I notice that you're silently catching exceptions, have you tried logging them with:<br><br>private static ILog Log = LogManager.GetLogger(typeof(StaticFileHandler));<br><br>then in your exception handler:<br><br>} catch(Exception ex) {<br>&nbsp; &nbsp;Log.Error(ex.Message, ex);<br>}<br><br>Also were you able to find out where the exception is being thrown or what the StackTrace is?﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 6, 2014, 6:47:27 AM","shortDate":"Jan 6, 2014","textHtml":"I've set breakpoints on those catches, but they are never hit. As I tried to explain above, the ProcessRequest() is never called in my handler. The only call to my code is done to the Factory method, after that the error is logged and nothing more is observable from my end. I was able to catch the logging of the exception but as I wrote above, in the call to ILog.ErrorFormat( string format, params object[] args ), neither of the args are Exceptions, they're both strings.<br><br>I disabled \"just my code\" and now get this stacktrace:<br>&gt;\tWebAPI.dll!BeyondMeasure.WebAPI.LoggerProxy.ErrorFormat(string format, object[] args) Line 67\tC#<br>&nbsp;\tServiceStack.dll!ServiceStack.Host.HttpListener.HttpListenerBase.HandleError(System.Exception ex, System.Net.HttpListenerContext context) + 0x161 bytes\t<br>&nbsp;\tServiceStack.dll!ServiceStack.Host.HttpListener.HttpListenerBase.ListenerCallback.AnonymousMethod__0(System.Threading.Tasks.Task x) + 0x6c bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.Execute() + 0x6e bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) + 0x285 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) + 0x9 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.ExecuteWithThreadLocal(ref System.Threading.Tasks.Task currentTaskSlot) + 0x2c5 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.ExecuteEntry(bool bPreventDoubleExecution) + 0x85 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ThreadPoolWorkQueue.Dispatch() + 0x1ea bytes\t﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2014, 12:05:47 AM","shortDate":"Jan 7, 2014","textHtml":"ok cool, I've changed all error logging in HttpListenerBase to log the original exception (along with the message in) in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/0050cd06646d2086e4c899a06a5405328f4594b1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/0050cd06646d2086e4c899a06a5405328f4594b1</a>&nbsp;<br>So you should be able to catch the exception with a custom logging adapter, available in the next version I'm hoping to push out within the next day or 2.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 7, 2014, 2:30:47 AM","shortDate":"Jan 7, 2014","textHtml":"Looking forward to it :)﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 10, 2014, 7:37:40 AM","shortDate":"Jan 10, 2014","textHtml":"Demis, any ETA when you will push out the new release?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 10, 2014, 9:01:32 AM","shortDate":"Jan 10, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/111429250443743326583\" oid=\"111429250443743326583\">Per Malmberg</a></span>&nbsp;v4.06 is currently published on MyGet, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/106787359118990653189/posts/PVy5rpBucLm\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/106787359118990653189/posts/PVy5rpBucLm</a>\nI'm currently writing up release notes for it before publishing it on NuGet as there were a few user-facing changes I want to document first.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 10, 2014, 9:07:15 AM","shortDate":"Jan 10, 2014","textHtml":"Ah, awesome! Thanks <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 11, 2014, 7:00:28 AM","shortDate":"Jan 11, 2014","textHtml":"Hello again, <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;&nbsp;<br><br>I updated to 4.06 now and here's what I got:<br><br>Error this.ProcessRequest(context): [AggregateException]: One or more errors occurred.<br>System.AggregateException: One or more errors occurred. ---&gt; System.NotImplementedException: Cannot execute handler: BeyondM<br>easure.WebAPI.StaticFileHandler at PathInfo: /Index2.html<br>&nbsp; &nbsp;--- End of inner exception stack trace ---<br><del>-</del>&gt; (Inner Exception #0) System.NotImplementedException: Cannot execute handler: BeyondMeasure.WebAPI.StaticFileHandler at PathInfo: /Index2.html&lt;---<br><br>Stacktrace:<br>&gt;\tWebAPI.dll!BeyondMeasure.WebAPI.LoggerProxy.Error(object message, System.Exception exception) Line 48\tC#<br>&nbsp;\tServiceStack.dll!ServiceStack.Host.HttpListener.HttpListenerBase.HandleError(System.Exception ex, System.Net.HttpListenerContext context) + 0x17b bytes\t<br>&nbsp;\tServiceStack.dll!ServiceStack.Host.HttpListener.HttpListenerBase.ListenerCallback.AnonymousMethod__0(System.Threading.Tasks.Task x) + 0x6c bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.Execute() + 0x6e bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) + 0x285 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx) + 0x9 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.ExecuteWithThreadLocal(ref System.Threading.Tasks.Task currentTaskSlot) + 0x2c5 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.Tasks.Task.ExecuteEntry(bool bPreventDoubleExecution) + 0x85 bytes\t<br>&nbsp;\tmscorlib.dll!System.Threading.ThreadPoolWorkQueue.Dispatch() + 0x1ea bytes\t<br><br>The question is now what isn't implemented? I am 100% sure I'm not throw the&nbsp;NotImplementedException exception in my code. &nbsp;The StaticFileHandler is the same as linked above.<br><br>Any ideas?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 11, 2014, 9:08:20 PM","shortDate":"Jan 11, 2014","textHtml":"Yeah your handler needs to implement&nbsp;IServiceStackHandler so it works in both <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> and HttpListener hosts, here's the exception:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AppHostHttpListenerBase.cs#L58\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/AppHostHttpListenerBase.cs#L58</a>﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 12, 2014, 5:57:32 AM\n(edited Jan 12, 2014, 6:27:13 AM)","shortDate":"Jan 12, 2014","textHtml":"Oh, wow. May I suggest updating&nbsp;HttpHandlerResolverDelegate so that it reflects the actual requirements for a handler? If ever possible, things should be typed.﻿"}],"date":"Jan 5, 2014, 10:04:46 AM","shortDate":"Jan 5, 2014"},{"userId":"111429250443743326583","userName":"Per Malmberg","textHtml":"Hello,<br><br>Is there a way to make the Json (de)serializer to update existing DTOs instead of creating a new object tree from Json data? If not entire trees, just a single DTO?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 9:12:13 PM","shortDate":"Jan 3, 2014","textHtml":"Not really, there's a JsConfig.ModelFactory you can use to control the creation of new instances, an example at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/8512792f8e50f129ae07…1c5/tests/ServiceStack.Text.Tests/JsonTests/CustomSerializerTests.cs#L185\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/8512792f8e50f129ae07…51c5/tests/ServiceStack.Text.Tests/JsonTests/CustomSerializerTests.cs#L185</a><br>Which you could use to re-use instances from a cache.<br><br>But there are no APIs to say populate this instance.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 4, 2014, 10:37:55 AM","shortDate":"Jan 4, 2014","textHtml":"Thanks, I'll look into it﻿"}],"date":"Jan 3, 2014, 2:51:10 PM","shortDate":"Jan 3, 2014"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","textHtml":"Hello.<br><br>Searching by date in OrmLite and SQLite provider don't work.<br><br>Here is sample code snippet:<br><br>&nbsp;public class TestDto<br>&nbsp;{<br>&nbsp;&nbsp; public DateTime Date { get; set; }<br>&nbsp;}<br><br>var d = DateTime.Now;<br>Db.Insert&lt;TestDto&gt;(new TestDto() { Date = d });<br>var records = Db.SelectFmt&lt;TestDto&gt;(\"Date == {0}\", d);<br><br>After this records.Count is 0;<br><br>The problem is caused by the date formating. OrmLite date format is: \"yyyy-MM-ddTHH:mm:ssZ\" but SQLite does not recognize format with \"T\" letter. Valid SQLite format for select is without \"T\" for example: \"yyyy-MM-dd HH:mm:ss\".﻿","comments":[],"date":"Dec 31, 2013, 11:08:40 AM\n(edited Dec 31, 2013, 11:20:55 AM)","shortDate":"Dec 31, 2013"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Hi Demis, I posted this on stack overflow and have not gotten any replies. &nbsp;Could you take a look and let me know if that sounds like a bug or if there is something that I am doing wrong? &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/20642898/servicestack-sessionascustomusersession-does-not-return-data\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/20642898/servicestack-sessionascustomusersession-does-not-return-data</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 9:54:36 AM","shortDate":"Jan 3, 2014","textHtml":"Hi Zoran, it would help if I could see an example self-hosting app or a failing test I could verify the behavior of as I can't tell if it's properly registered, have you registered the CustomUserSession when registering the AuthFeature? like in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.AuthWeb.Tests/AppHost.cs#L79\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.AuthWeb.Tests/AppHost.cs#L79</a>﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 3, 2014, 11:19:38 AM","shortDate":"Jan 3, 2014","textHtml":"I can try to put together an sample application but that would take me some time. &nbsp;However, I have updated the StackOverflow question with the AppHost Config info. &nbsp;I think it is configured properly because I got the session to work, but was just not able to use the SessionAs&lt;T&gt; method to access the data. &nbsp;Instead I use var customUserSession = this.GetSession() as CustomUserSession;&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 11:46:07 AM","shortDate":"Jan 3, 2014","textHtml":"Does it work differently if you just registered a MemoryCacheClient? i.e. instead of using a Redis cache?﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Jan 3, 2014, 1:28:24 PM","shortDate":"Jan 3, 2014","textHtml":"I commented out the Redis Config. &nbsp;I then registered the MemoryCacheClient. &nbsp;container.Register&lt;ICacheClient&gt;(new MemoryCacheClient()); &nbsp;Had the same result.<br><br>var x = SessionAs&lt;CustomUserSession&gt;(); &nbsp;// x = is not null, but does not contain any values<br><br>var y = this.GetSession() as CustomUserSession; &nbsp;//y = is not null, and it does contain the values that were set in the cache﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 9:18:10 PM","shortDate":"Jan 3, 2014","textHtml":"ok great, then there must be a problem with how it's being used.<br>I'm assuming you have cookies enabled in the browser?&nbsp;﻿"}],"date":"Dec 30, 2013, 9:44:30 AM","shortDate":"Dec 30, 2013"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there a way to have a rest path with /api for json and then for html just / ? Using the razor rockstar project as an example... If I'm viewing the page as html then it's /rockstars but if it's a json request then I want to force them to use /api/rockstars.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 21, 2013, 7:11:25 PM","shortDate":"Dec 21, 2013","textHtml":"Other than explicitly specifying routes like [Route(\"/api/hello\")] there's no difference between json or html routes.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 21, 2013, 8:43:45 PM","shortDate":"Dec 21, 2013","textHtml":"What about a way to disallow HTML output for some services and allow it for others?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 21, 2013, 9:52:53 PM","shortDate":"Dec 21, 2013","textHtml":"Just create a request attribute filter that detects and short-circuits Html requests (i.e. IHttpRequest.ResponseContentType), then you can apply the attribute to the selected services.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 21, 2013, 10:01:58 PM","shortDate":"Dec 21, 2013","textHtml":"Thanks. I was considering that approach. Do you see any value in adding a FormatAttribute to ServiceStack? If so, I might be able to find the time to contribute that addition.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 21, 2013, 10:09:04 PM","shortDate":"Dec 21, 2013","textHtml":"There's not been any demand for it, what's it intended to do?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 21, 2013, 10:19:21 PM\n(edited Dec 21, 2013, 10:20:17 PM)","shortDate":"Dec 21, 2013","textHtml":"Allow you to control the ResponseContentType on a service by service basis. For example if I put in Format[(Json | Xml)] then the service can only accept and respond to those two content types.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 21, 2013, 10:23:32 PM","shortDate":"Dec 21, 2013","textHtml":"That would duplicate functionality with the Restrict Attribute:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 21, 2013, 10:27:26 PM","shortDate":"Dec 21, 2013","textHtml":"ah hah! That was what I was looking for. perfect. I don't have to write this part after all. :-) I didn't realize Restrict was able to limit the format too.﻿"}],"date":"Dec 21, 2013, 5:41:09 PM\n(edited Dec 21, 2013, 6:04:04 PM)","shortDate":"Dec 21, 2013"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"How can I add an expiration date to the authentication cookies?<br><br>I can set the session expiration for each AuthProvider but I can't find a way to set the expiration date for the auth cookies.&nbsp;<br><br>plugins.Add(new AuthFeature(() =&gt; new UserAuthSession(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;new IAuthProvider[]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new BasicAuthProvider() {SessionExpiry = new TimeSpan(1,0,0,0)},<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new CredentialsAuthProvider() {SessionExpiry = new TimeSpan(1,0,0,0)},&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, htmlRedirect: \"/login\"));<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 19, 2013, 10:46:17 PM","shortDate":"Dec 19, 2013","textHtml":"You can either set the static property:&nbsp;<br>SessionFeature.DefaultSessionExpiry =&nbsp;&nbsp;TimeSpan.FromDays(7 * 2);<br><br>Or register an instance property:<br>Plugins.Add(new SessionFeature {&nbsp;SessionExpiry =&nbsp;TimeSpan.FromDays(7 * 2) });<br><br>These both need to be done before registering the AuthFeature, which otherwise would register the SessionFeature with the default expiry of 14 days.﻿"}],"date":"Dec 19, 2013, 10:12:39 PM","shortDate":"Dec 19, 2013"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"Hi there,<br><br>I'm having some trouble with the Razor Rockstars demo and SS V4. I have a stackoverflow question active here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/20663120/porting-razor-rockstars-to-servicestack-v4\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/20663120/porting-razor-rockstars-to-servicestack-v4</a><br><br>I'm hoping someone can point me in the right direction :)﻿","comments":[],"date":"Dec 18, 2013, 11:17:16 AM","shortDate":"Dec 18, 2013"},{"userId":"111767280318417443947","userName":"aylmer carson","textHtml":"Re SQL Server bit column +&nbsp;mapping to SS Bool property.<br><br>I have a bit column in sql server and it maps to a bool property in an entity.&nbsp;<br><br>when I execute the following, I always get the bool property set to 'false', even though I know it contains 'true' values. what am I missing?<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Action response = new Action();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; response = Db.Single&lt;Action&gt;(\"select ActionId, IsOpen from [Action]\");﻿","comments":[{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 15, 2013, 5:17:55 AM\n(edited Dec 15, 2013, 5:35:21 AM)","shortDate":"Dec 15, 2013","textHtml":"a workaround is:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SqlExpression&lt;Action&gt; ev = OrmLiteConfig.DialectProvider.SqlExpression&lt;Action&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ev.Select(rn =&gt; new { rn.ActionId, rn.IsOpen});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; response = Db.Single&lt;Action&gt;(ev);<br><br>but wondering why the call to straight t-sql doesn't work. is it not supposed to?<br><br>And of course I can't use this where the query requires table joins :(﻿"}],"date":"Dec 14, 2013, 5:22:15 AM\n(edited Dec 15, 2013, 3:02:45 PM)","shortDate":"Dec 14, 2013"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","textHtml":"Hello !<br><br>1. After upgrade to ServiceStack 4 I have problem with RequiredPermission attribute.<br>Services with RequiredPermission does not work: I get<br>HTTP/1.1 404 Not Found response.<br>This same services without RequiredPermission attribute or with attribute and permission string empty working properly.<br><br>2. Where I can download .pdb files to Service Stack 4 ? Without them it is hard to debug problems.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 13, 2013, 2:58:52 PM","shortDate":"Dec 13, 2013","textHtml":"Hi,<br><br>It might be because it's trying to redirect to the default /login page. You can change this url by specifying a HtmlRedirect when you register the AuthFeature plugin.<br><br>the pdb symbols for the NuGet releases are deployed to symbol source at the same time, here are some instructions for configuring <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> to look at the deployed symbols:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes-v3#source-symbols-are-now-included-in-all-nuget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes-v3#source-symbols-are-now-included-in-all-nuget-packages</a>﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Dec 13, 2013, 6:06:59 PM","shortDate":"Dec 13, 2013","textHtml":"1. Yes, you right - this is problem with HtmlRedirect.<br>I do not set HtmlRedirect, in this case AuthFeature plugin set it to \"~login\" and I get http 304 (than expected 403).<br>The solution is simple: authFeature.HtmlRedirect = null;<br><br>2. The second problem is with my custom session. In the last service stack versions it is necessary to set UserAuthId property. Without this RequiredPermissionAttribute.HasAllPermissions always return false.<br>(It would be useful to add this information to the docs)<br><br>3. I have good source symbol configuration (I check pdb requests by http sniffer) but <a rel=\"nofollow\" target=\"_blank\" href=\"http://symbolsource.org\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">symbolsource.org</a> does not have some files. For example I can download ServiceStack.Client.pdb, ServiceStack.Common.pdb but I can't get ServiceStack.pdb﻿"}],"date":"Dec 13, 2013, 12:15:23 PM","shortDate":"Dec 13, 2013"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I try to&nbsp; understand also the async feature in the ver 4. Can you give me with very few words the meaning<br>The async in ver.4&nbsp; is for server-side ?<br>Right now, all my client-side service calls, are async,&nbsp; using a pair&nbsp; of functions, as below.&nbsp; the async for ver .4 is for client ?<br>my client code<br>&nbsp;&nbsp; public static async void SaveIncident(IncidentRequest request, AsyncReturnDelegate onSavedIncident)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Incident incident = await&nbsp; SaveIncidentAsync(request);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; onSavedIncident(incident);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static Task&lt;Incident&gt;&nbsp; SaveIncidentAsync(IncidentRequest request)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return Task.Run&lt;Incident&gt;(() =&gt; ServiceSaveIncident(request));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; static&nbsp; Incident ServiceSaveIncident(IncidentRequest request)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IncidentResponse resp = client.ServicePost&lt;IncidentResponse&gt;(request);&nbsp; //wrapper to actual call &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return resp.incident;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 12, 2013, 11:47:18 PM","shortDate":"Dec 12, 2013","textHtml":"Note: server-side async is opaque and has nothing to do with client-side async. It just enables your service to now return a task, see these examples:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://bit.ly/1cOJ3hR\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://bit.ly/1cOJ3hR</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 13, 2013, 12:03:40 AM\n(edited Dec 13, 2013, 12:08:43 AM)","shortDate":"Dec 13, 2013","textHtml":"I understood, thanks.&nbsp;&nbsp; Server side is very important, not-blocking ( it will be nice if we had some metrics).&nbsp; Also in client, ( I&nbsp; had not used before the asyncClient)&nbsp;&nbsp; my code is simplified a lot, only one function.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public static async void SaveIncident(IncidentRequest request, AsyncReturnDelegate onSavedIncident)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IncidentResponse resp = await asyncClient.PostAsync&lt;IncidentResponse&gt;(request);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; onSavedIncident(resp.incident);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }﻿"}],"date":"Dec 12, 2013, 11:39:51 PM\n(edited Dec 13, 2013, 12:07:15 AM)","shortDate":"Dec 12, 2013"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"Can you advise on where these Message Queues ended up in SS v4? I am needing an implementation of a messaging system and wanted to see what you had done. &nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-Redis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-Redis</a> &nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 9:23:07 PM\n(edited Dec 10, 2013, 9:28:23 PM)","shortDate":"Dec 10, 2013","textHtml":"It's moved to ServiceStack.Server - was also mentioned in the release notes:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes</a><br><br>I'm also going through and updating the links on the wiki, thx.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 12:43:40 AM","shortDate":"Dec 11, 2013","textHtml":"I didn't notice that. &nbsp;Thanks for fixing the links on that wiki page! &nbsp;I am sure you have more links to fix than you can get to right now.&nbsp;﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 8:10:37 PM","shortDate":"Dec 11, 2013","textHtml":"Reading through your MQ Architecture, I cannot see how it would work as described. &nbsp;The diagram shows the messages are produced and go to a queue. &nbsp;The queues it shows are in/out/priority/deadletter. &nbsp; So, this should mean the producer would put any message sent into a queue. &nbsp;The consumer would then read from the queue - if the consumer fails, I guess the message would go to the DLC. If the client succeeds, it may have a reply.<br><br>Looking at your implementation, I do not see any of that. &nbsp;I see that you are using the publish/subscribe methods of Redis. &nbsp;If you use a Redis publish and there are no subscribers the message is lost. &nbsp; Additionally if there is a client connected, it will receive the message - but if it crashes - the message is lost. &nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://groups.google.com/forum/#!topic/servicestack/5ExjGhSCZkw\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://groups.google.com/forum/#!topic/servicestack/5ExjGhSCZkw</a> &nbsp;Also, I vaguely remember looking at an old version of this code and it did not work this way? &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 8:19:38 PM\n(edited Dec 11, 2013, 8:25:09 PM)","shortDate":"Dec 11, 2013","textHtml":"Redis MQ uses server-side Redis List's for persisting all messages in queues, the Pub/Sub used is just a notification for RedisMQ master thread that there is a message pending and that it should wake up the worker theread and notify it it has messages pending. I'm not sure which implementation you're looking at, but &nbsp;whilst the&nbsp;API might be called 'Publish' it does push it on a Redis List and notify the MQ Topic:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/Messaging/RedisMessageQueueClient.cs#L77-L78\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/Messaging/RedisMessageQueueClient.cs#L77-L78</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 10:15:22 PM","shortDate":"Dec 11, 2013","textHtml":"Ok. &nbsp;Is the message lost if the client crashes? &nbsp;Looks like it is? &nbsp;Instead of the pub/sub &nbsp;model for masterthread, why not just use BLPOP which blocks until a message is available? &nbsp;(Or BRPOPLPUSH to pop it - and shove it into another 'processing queue' to make sure message not lost by client? &nbsp; (I am no expert here!)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 10:22:05 PM\n(edited Dec 11, 2013, 10:25:22 PM)","shortDate":"Dec 11, 2013","textHtml":"How can the message get lost if the client crashes? It's synchronous, if the call succeeds the message was published in Redis, if redis isn't there the callee gets an exception signalling that their message wasn't sent. BLPOP wont work there is a separate message queue for every operation, each worker thread is responsible for processing messages in its own Queue.<br>There is known failure point with the current design which is whilst the Message Handler is processing the message and if Redis or the Network dies and the message was an error it can't be put back into the DLQ.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 10:27:49 PM","shortDate":"Dec 11, 2013","textHtml":"I was speaking of the consumer....the consumer gets via pop?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 10:32:43 PM","shortDate":"Dec 11, 2013","textHtml":"Which is RedisMQ when it processes the message? yeah that's the known failure point, basically the Message Handler pops it off the Queue whilst its processing it, this is needed because there might be multiple worker threads looking at the same Queue so it avoids processing messages multiple times. I do plan on eventually adding a RedisMqServer that does server-side message traversals between lists and giving each worker thread it's own work queue that it moves messages to whilst its processing them.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 10:53:22 PM","shortDate":"Dec 11, 2013","textHtml":"I think you can avoid that. &nbsp;1) &nbsp;Drop the subscribe/publish - not necessary. &nbsp;2) &nbsp;Use BRPOPLPUSH - that blocks the calling thread until something new shows up in the list ( which is fine, you have threads per message type anyway) and pushes that message to another Redis queue. &nbsp; So, if the process fails, the message would be sitting in that processing queue. &nbsp;&nbsp;<br><br>However, maybe I should just consider RabbitMQ - it has all this all built in. &nbsp;However, looks like the 'defacto client' is&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/mikehadlow/EasyNetQ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/mikehadlow/EasyNetQ</a> - but if I use that probably no need for servicestack? &nbsp;Maybe it is smarter to try to bolt on the AMQP library (<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.nuget.org/packages/RabbitMQ.Client/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.nuget.org/packages/RabbitMQ.Client/</a>) to servicestack messaging patterns much like you have done for Redis? &nbsp; &nbsp;(Essentially he has done that - created servicestack like message/subscription - and used that library for primitives. &nbsp;<br><br>Thoughts?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 11:16:45 PM\n(edited Dec 11, 2013, 11:26:53 PM)","shortDate":"Dec 11, 2013","textHtml":"The current model is more flexible you can send control messages to the master thread and it can handle when Redis fails over at run-time as the worker threads asks for a new connection each time it starts processing messages in its queue (and each client doesn't hold a separate connection when it's waiting for messages) and trying to communicate with blocked worker threads is not easy, i.e. when you need to stop/resume processing of messages at runtime.<br><br>Yeah you should definitely evaluate the alternatives, I like Redis MQ since it's simple and clean and requires less infrastructure (as I usually have Redis around), and am able to use the primitive redis list operations to introspect, populate and manage the queues and being well integrated in ServiceStack means you can call the same Service via MQ or HTTP. We're using RedisMQ for all of StackOverflow Career's backoffice operations which works well and handles the 150k+ msgs/day pretty well. Also being able to re-use the same Service via both HTTP + MQ was a productivity boost since you can debug and develop it over HTTP whilst calling it over MQ in the Live environment. Also adding more MQ options is definitely a core goal and has received a fair bit of interest: <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4459053-add-more-mq-options\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4459053-add-more-mq-options</a> with RabbitMQ adapter being the first one I'm looking to add.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 12, 2013, 12:26:54 AM","shortDate":"Dec 12, 2013","textHtml":"Well, that is good news that you would consider another adapter.<br><br>&nbsp;If you do not want to block and want to maintain your current implementation - you could consider using the non-blocking RPOPLPUSH and you can get the message pushed to another 'work queue' while it is being processed...(when client finishes - it deletes that message from the work queue) meaning no more lost messages. &nbsp;So, simply replacment of your RPOP with the above! &nbsp;Also consider a feature of the BRPOPLPUSH method - you can specify ALL the lists you want it to wait for - so again, just one thread could run this - of course it would mean you held that connection - but you already have the subscribe/publish connection active all the time anyway....So, number of connections would be less than what you have now - but you would have to be able to recover from connection loss.<br><br>The big problems I have with Redis are &nbsp;<br><br>1) &nbsp;No fanout queue. &nbsp;One of the wins is I should be able to write another client to subscribe the messages and take action without modifying anything. &nbsp;So, say when message A arrives I now want to send an email - I can just write another consumer that subscribes. &nbsp;As it exists without that they are essentially 'work queues'.&nbsp;<br>2) &nbsp;No way to fail a job or recover from a consumer failure.<br>3) &nbsp;Has to be 100% memory backed (database is held in memory during operation). &nbsp;This is more of a 'concern' as opposed to a big problem - but with Rabbit, do not care.<br>4) &nbsp;HA support is weak. &nbsp;Has Master-Slave, but no auto recovery, etc. &nbsp; Clustering is a cluster right now, lots of issues, bugs. &nbsp;<br><br>Rabbit issues:<br>1) &nbsp;Exactly what you said above. &nbsp;No visibility into the queues of messages - where in Redis they are just a 'normal list'.<br>2) &nbsp;ServiceStack currently shows it no love. &nbsp;:-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 12, 2013, 1:12:01 AM","shortDate":"Dec 12, 2013","textHtml":"Yeah that's always been the plan and IMO one of the USP's of SS's message-based design, it would've come a lot sooner if one of the companies I've contracted for in the last few years were using RabbitMQ :). We used Rabbit at Mflow but for a bespoke content ingest background process. I'll try bump it up the priority list to make it a reality sooner, hopefully it shouldn't take too long as it's able to re-use the same underpinnings in SS that RedisMQ is using (e.g. from ServiceController.ExecuteMessage).&nbsp;<br><br>The benefits of having different queues for different types is that they're less coupled and &nbsp;the type of each message is already known without having to peek into the message, it also makes it easier to assign multiple worker threads per operation type and slow operations don't affect the processing of other messages.<br><br>But yeah Redis's lack of a solid HA story does affect the way we use it, where we use it in a way where we can recover from lost messages, e.g. we'd put an email in the db and the post a message to Redis MQ with the id of the email to send. In addition we also have a schedule task that goes and looks if there are any unsent emails and create new MQ msgs for them to send. Likewise with other process tasks like account syncing we use db row states to signal whether something needs processing or not and a schedule task to catch any the missing ones. The DLQ has been useful as well where there's been quite a few times where we've been able to gracefully recover from a bug and replay the DLQ messages without applicants knowing we had issues :).<br><br>Although the one things Redis saves you from is load/scalability failures since it's pretty much been able to handle everything we've been able to throw at it, provided it's given enough RAM. So whilst we are using it defensively, IMO your data is more accessible and it's easier to query Redis/RDBMS (i.e. without client libraries), and because we have explicit state flags, you can inspect the database to figure out what's been done.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 12, 2013, 1:38:31 AM","shortDate":"Dec 12, 2013","textHtml":"Agree - thanks for your time. &nbsp;In one of my scenarios, I want to perform some work - so the work is already done when client requests it. &nbsp;In that case, if the message is missed I could pay the price and just do it when the client requests it, so not a big deal. &nbsp;However, I want to deploy something that is going to handle many more situations. &nbsp; BTW, in case you have not see this SS fanout implementation (<a rel=\"nofollow\" target=\"_blank\" href=\"http://cornishdev.wordpress.com/2013/04/04/fan-messaging-with-servicestack-redis/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://cornishdev.wordpress.com/2013/04/04/fan-messaging-with-servicestack-redis/</a>) :-)﻿"}],"date":"Dec 10, 2013, 9:19:58 PM","shortDate":"Dec 10, 2013"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"Servicestack 4 conversion help.<br><br>I converted everything that changed in v4 and it compiles. &nbsp; I fired up the website that hosts these and I got the 'exceeded more that 10 DTO'. &nbsp;I put in my license key...and tried to bring up the metadata page. &nbsp; Problem is, I get a blank page!<br><br>The good news is the services work - just the metadata page shows up blank. &nbsp;Additionally, I have swagger installed and it does not seem to work either (says cant read swagger JSON from resource). &nbsp;<br><br>Any ideas?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 1:13:54 PM\n(edited Dec 9, 2013, 1:14:09 PM)","shortDate":"Dec 9, 2013","textHtml":"Yeah it doesn't auto re-direct, you can add a 'default.html' (or if you're using razor default.cshtml). Metadata page is available from /metadata﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 1:14:37 PM","shortDate":"Dec 9, 2013","textHtml":"With swagger, did you try /swagger-ui ?﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 3:30:32 PM","shortDate":"Dec 9, 2013","textHtml":"Swagger - I had this working with V3. &nbsp;With version 3, I had edited the index.html and changed the url parameter to be ../ssapi/resources. &nbsp; That was working fine. &nbsp; When I uninstalled everything and put V4 in, those changes were lost and I was left with the swagger-ui page that points to the default todo app. &nbsp;(launching /swagger-ui launched swagger and showed the API from that site). &nbsp;So, I changed that back to what I had before \"../ssapi/resources\" and it does not work. &nbsp;Simply shows \"Can't read swagger JSON from http://localhost/../ssapi/resources\". &nbsp;So, I cannot get it to work at all. &nbsp;(Also, my understanding was if I requested /swagger-ui it would just work (with your new binding) and I would not have to edit anything..? )﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 11:18:38 PM","shortDate":"Dec 9, 2013","textHtml":"Most everything is working, except swagger. &nbsp;Any ideas? &nbsp;Can you advise - am I supposed to be able to run this without modifying index.html (with your new autohook up)? &nbsp;Going to /ssapi/resources shows a json result. &nbsp;The json result shows {\"swaggerVersion\":\"1.1\",\"basePath\":\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ssapi\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ssapi</a>\",\"apis\":[{\"path\":\"/resource/Imaging\"}]}. &nbsp; Problem with that is the basepath is wrong. &nbsp;It is located <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/testsite/ssapi\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/testsite/ssapi</a>. &nbsp; Upon further testing, if I put the full path of \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/testsite/ssapi/resources\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/testsite/ssapi/resources</a>\" in, it &nbsp;will show the 'imaging' service, but then give an error of being unable to load \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ssapi/resource/Imaging\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ssapi/resource/Imaging</a>\". &nbsp;So, it looks like the servicestack resources is returning an absolute URL instead of a relative one?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 11:52:23 PM","shortDate":"Dec 9, 2013","textHtml":"The correct url should be: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/testsite/ssapi/swagger-ui/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/testsite/ssapi/swagger-ui/</a> What does that show?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 11:55:05 PM","shortDate":"Dec 9, 2013","textHtml":"Also if the base path is wrong it might have something to do with the auto stripping of the App Virtual Path, which you can try skipping with:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetConfig(new HostConfig<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StripApplicationVirtualPath = false,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 12:59:22 AM\n(edited Dec 10, 2013, 1:04:23 AM)","shortDate":"Dec 10, 2013","textHtml":"FYI I just enabled Swagger and deployed it on the public website:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/swagger-ui/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/swagger-ui/</a><br><br>Can you tell me some details about your environment, i.e. is it Stand-alone SS or with MVC?&nbsp;Are you using IIS, IIS Express, VS Dev server? and can you send me the results of this:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/testsite/ssapi/?debug=requestinfo\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/testsite/ssapi/?debug=requestinfo</a> (needs to be in DebugMode or as an Admin user).﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 10, 2013, 2:08:48 AM","shortDate":"Dec 10, 2013","textHtml":"This is an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> website, based off MVC template – but there are no controllers or anything. &nbsp;Essentially just a SS site. &nbsp;I am running this as an ‘iis application’ under IIS on Windows 7. &nbsp;<br><br>Emailed you the results you requested. &nbsp;Note how the absoluteUri and are resolveAbsoluteUrl incorrect. &nbsp;The other values seems to have the correct path, but those two are wrong….﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 8:47:08 PM","shortDate":"Dec 11, 2013","textHtml":"Actually debugging it now, I know why I've kept it /swagger-ui/ it's so all the resource links in the static templates still work. So I'm going to have to keep the same name, will just have to document it better, i.e. add a link to the metadata page or something.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 11, 2013, 10:09:02 PM","shortDate":"Dec 11, 2013","textHtml":"Agree...let me know if you need anymore info.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 12, 2013, 4:56:24 AM","shortDate":"Dec 12, 2013","textHtml":"Hi Wayne, I just deployed v4.04 that should fix the swagger issue, and the default url should also redirect to the /metadata page by default. A link to the Swagger UI should appear in the /metadata page under \"Plugin Links\".﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 12, 2013, 11:16:45 AM","shortDate":"Dec 12, 2013","textHtml":"Not working, see email.﻿"}],"date":"Dec 9, 2013, 1:11:32 PM","shortDate":"Dec 9, 2013"},{"userId":"106787359118990653189","userName":"Demis Bellot","textHtml":"Hey Community!<br><br>This forum is basically for any development or ServiceStack related content or discussion.&nbsp;I'll be hanging out here providing quick help, tips and suggestions about using ServiceStack.&nbsp;<br><br>StackOverflow is still the best place for long and detailed questions, e.g. that contain source code. You can post a link to it here, so everyone can easily find it and answer it on StackOverflow.﻿","comments":[],"date":"Nov 20, 2013, 9:48:15 AM","shortDate":"Nov 20, 2013"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Quick question. I have just renewed my licence and was provided with a new key. When my previous subscription expires will ALL my services break if I do not update to the new key? Will I have to urgently republish any apps to use the new key before they break?  <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23mission\">#mission</a> &nbsp;﻿","comments":[{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 25, 2015, 2:47:41 AM","shortDate":"2:47 AM","textHtml":"Hello Dylan, no your old service won't break until you upgrade ServiceStack to a new version that has been released after your license expiration... I've asked the same question about 2 months ago﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Feb 25, 2015, 3:00:38 AM","shortDate":"3:00 AM","textHtml":"OK whew!&nbsp;﻿"}],"date":"Feb 25, 2015, 2:44:09 AM","shortDate":"2:44 AM"},{"userId":"115522113981037654785","userName":"Ian Kaney","textHtml":"I've been converting my project to use MsgPack rather than JSON (less bandwidth, etc) and I've noticed an issue with ConcurrentDictionary's.<br><br>Basically, I'm getting \"Entry point not found\" exceptions (causing an uncaught exception in the apphost) when I'm using a ConcurrentDictionary(Of String, Object) within the object being transferred.<br><br>I'm still investigating, but the object in question which was causing the issues, I converted to a standard dictionary and it works fine now.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2015, 9:12:46 AM","shortDate":"Yesterday 9:12 AM","textHtml":"Basically MessagePack is an external serializer with its own set of limitations that you'll need to stay within, if you find something you think it should support you can file an issue with the OSS project at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/msgpack/msgpack-cli\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/msgpack/msgpack-cli</a>﻿"},{"userId":"115522113981037654785","userName":"Ian Kaney","date":"Feb 24, 2015, 9:15:14 AM","shortDate":"Yesterday 9:15 AM","textHtml":"No worries, it definitely is an issue with that project. Thanks for the info.﻿"}],"date":"Feb 24, 2015, 7:54:43 AM","shortDate":"Yesterday 7:54 AM"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hi,<br>I saw that OrmLiteAuthRepository creates the table UserAuth. In this table I find some useful columns like InvalidLoginAttempts, LastLoginAttempt, LockedDate. They are always empty. I'm using the standard CredentialsAuthProviders (I'm using OrmLite both for auth repository and session storage) configured in this way:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; plugins.Add(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new AuthFeature(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; () =&gt; new AuthUserSession(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new IAuthProvider[]&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new CredentialsAuthProvider(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; htmlRedirect: htmlRedirect<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; plugins.Add(new RegistrationFeature());<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var cacheClient = new OrmLiteCacheClient() { DbFactory = dbFactory }; // dbFactory is initialized before.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cacheClient.InitSchema();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; container.Register&lt;ICacheClient&gt;(cacheClient);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var authRepository = new OrmLiteAuthRepository(dbFactory);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; authRepository.InitSchema();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; container.Register&lt;IUserAuthRepository&gt;(authRepository);<br><br>What can I do in order to get working this columns?<br><br>Thank you&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2015, 9:07:15 AM","shortDate":"Yesterday 9:07 AM","textHtml":"You can set the&nbsp;OrmLiteAuthRepository.MaxLoginAttempts to enable the max login attempt feature which will lock the user account after the specified incorrect login attempts.﻿"}],"date":"Feb 24, 2015, 3:09:20 AM","shortDate":"Yesterday 3:09 AM"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I've got a \"problem\" when adding an Item to a Redis cache client... consider a Menu Structure where I've a reference to the parent..&nbsp;<br><br>public class Item<br>{<br>\tpublic int ID {get;set;}<br>\tpublic Item Parent {get;set;}<br>\tpublic List&lt;Item&gt; Children {get;set;}<br><br>\tpublic Item()<br>\t{<br>\t\tChildren = new List&lt;Item&gt;();<br>\t}<br>}<br><br>When I serialize this to memorycacheclient everything works fine since it saves the pointers to my objects... when serializing to redis its converted to json but it falls in a loop since I when it tries to serialize the parent item it serialize the children again, again and again... I've in my mind 2 solutions... the first is to keep a ParentID instead of Parent (but I will have problem to find the parent) encapsulate my menu structure in a class and try to work on deserialization hook... any suggestion?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 10:14:08 AM","shortDate":"Feb 23, 2015","textHtml":"The JSON Serializer doesn't support serializing cyclical relationships like this. It only works in Memory Client because it doesn't need to serialize the object.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 23, 2015, 10:15:03 AM","shortDate":"Feb 23, 2015","textHtml":"Was my suspect... for now I serialize a ParentID then I call a method after and update the Parent value﻿"}],"date":"Feb 23, 2015, 9:01:31 AM","shortDate":"Feb 23, 2015"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"We use the Redis client ver. 4.0.33 and we have issues in the pub/sub when our clients need to reconnect.&nbsp;<br><br>For example, when our service provider, RedisLabs, had made some changes in the nodes, but kept the same endpoint, some of our machines were unable to reconnect.&nbsp;<br><br>Another example, after changing nodes to different AZ in AWS, our machines were unable to connect to the new nodes.<br><br>This was only resolved by restarting the app server.<br><br>Is this a known issue that is resolved in later client versions?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 22, 2015, 6:49:00 AM\n(edited Feb 22, 2015, 10:20:35 AM)","shortDate":"Feb 22, 2015","textHtml":"The Redis Client Managers will only connect to redis server ip's it's been configured with, i.e. it wont reconnect to new IP's it doesn't know about.<br><br>The new RedisSentinel class that's available (but unannounced yet as it's still being tested) will reconnect to master IP's it doesn't know about, but this requires having a Redis Sentinel instance (which is what monitors what active redis server instances are) it connects to. Otherwise you can manually failover to new redis server IP's with the `IRedisFailover.FailoverTo()` API's.&nbsp;<br><br>Heartbeats support was added to RedisPubSubServer in v4.0.34 which helps detects dropped connections if you're using RedisPubSubServer (or anything that uses it):&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/docs/2014/release-notes.md#heartbeats-enabled-on-redispubsubserver\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/docs/2014/release-notes.md#heartbeats-enabled-on-redispubsubserver</a>﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Feb 23, 2015, 7:26:24 AM","shortDate":"Feb 23, 2015","textHtml":"Thanks we'll try it out :)﻿"}],"date":"Feb 22, 2015, 5:15:10 AM","shortDate":"Feb 22, 2015"},{"userId":"113745366051337727908","userName":"Mike Mertsock","textHtml":"I noticed that the model ID/type names generated in Swagger docs are \"mangled\", e.g. \"POST_MyDtoName/path/to/api/{pathParam1}/{pathParam2}\" when I would have expected just \"MyDtoName\". Wondering why they look like this. Is it to ensure that the Swagger JS code has unique values to work with?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2015, 12:54:05 PM","shortDate":"Feb 20, 2015","textHtml":"Yeah it's to give them unique keys﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Feb 20, 2015, 1:01:39 PM","shortDate":"Feb 20, 2015","textHtml":"ok, cool. For anyone interested, I wrote a Javascript function that cleans up the names:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/mmertsock/71d26341ad4eda19cbb4\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/mmertsock/71d26341ad4eda19cbb4</a>﻿"}],"date":"Feb 20, 2015, 10:03:18 AM","shortDate":"Feb 20, 2015"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"Hi, is it safe to use IServerEvents outside the request/response scope?<br>My applications is listening on TCP port on background thread, I'd like to broadcast (NotifyAll / NotifyChannel) an information once the TCP thread receives some event.&nbsp;<br>Can I pass IServerEvents instance resolved from Funq to the TCP thread safely?&nbsp;<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2015, 10:47:04 AM","shortDate":"Feb 18, 2015","textHtml":"Yeah IServerEvents is a thread-safe singleton, where you'll always get the same instance back from the IOC.﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Feb 18, 2015, 11:20:46 AM","shortDate":"Feb 18, 2015","textHtml":"Great, thx!﻿"}],"date":"Feb 18, 2015, 10:08:15 AM","shortDate":"Feb 18, 2015"},{"userId":"100487119967968594517","userName":"Norbert Haberl","textHtml":"I would like to use Servicestack for my complete website without any native MVC dependencies because I wanna run on Mono completely. Can I do that and can I use Miniprofiler anyway?<br>I'm littlebit confused from treading the docs about Razor Plugin. Does it rely in any kind to <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> libs or are there any restrictions in comparison to native Razor Engine?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2015, 9:13:49 AM\n(edited Feb 13, 2015, 9:17:16 AM)","shortDate":"Feb 13, 2015","textHtml":"ServiceStack Razor doesn't have any deps on MVC, just the core System.Web.Razor.dll (i.e. Razor) of which a custom unsigned build is embedded inside the ServiceStack.Razor NuGet package so it doesn't reference any external MS NuGet packages.<br><br>The RazorRockstars website shows all the different places it can run:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net</a> (inc ILMerged into a single-cross platform exe <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Gap\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Gap</a>). The docs on EmailContacts shows how to configure it from scratch:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/EmailContacts\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/EmailContacts</a> There's only 1 extra step for Mono to install `Microsoft.AspNet.WebPages` we don't use the impl, but it's needed to Razor configuration in Web.config, mentioned at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Razor-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Razor-Notes</a><br><br>So ServiceStack+Razor runs on Mono, but HTTP/<a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> stability/performance on Mono isn't great so I wouldn't consider it for heavy workloads. With Xamarin's focus now on Mobile I don't see it improving until MS officially distributes and supports CoreCLR on Linux/OSX - at which point we'll need to look at porting ServiceStack to run on it. But you can still run on Mono until then.﻿"},{"userId":"100487119967968594517","userName":"Norbert Haberl","date":"Feb 15, 2015, 4:14:44 PM","shortDate":"Feb 15, 2015","textHtml":"Thanks, great answer!<br>Are there any plans for supporting <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> vNext ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 15, 2015, 4:22:07 PM","shortDate":"Feb 15, 2015","textHtml":"Yep will be looking into supporting it after CoreCLR, vNext and VS 2015 are officially released.﻿"},{"userId":"100487119967968594517","userName":"Norbert Haberl","date":"Feb 15, 2015, 4:42:15 PM","shortDate":"Feb 15, 2015","textHtml":"Perfect!<br>What are recommended specs if you wanna run SS on a Windows / Linux Web Host ?<br>I'm looking for a provider but don't know where to start.<br>Are there any docs about that?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 15, 2015, 4:54:22 PM\n(edited Feb 15, 2015, 4:55:30 PM)","shortDate":"Feb 15, 2015","textHtml":"SS is just a standard <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> App so same recommendations apply. I'd also recommend hosting on Windows. An AWS Micro instance wasn't enough to run Win + <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>, but m1.small instance works pretty good as all&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/LiveDemos\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/LiveDemos</a> are running on a single m1.small instance at pretty good performance (latency's great from East coast at least).﻿"},{"userId":"100487119967968594517","userName":"Norbert Haberl","date":"Feb 15, 2015, 5:08:09 PM","shortDate":"Feb 15, 2015","textHtml":"Thanks man!!!﻿"}],"date":"Feb 13, 2015, 8:57:06 AM","shortDate":"Feb 13, 2015"},{"userId":"116716178637849061271","userName":"Brian Stewart","textHtml":"Is it possible to request a custom RequestLogger for servicestack.<br>I want to log all requests in a custom storage container (in this case Azure Table Storage )<br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 8:38:16 AM","shortDate":"Feb 12, 2015","textHtml":"You can implement your own IRequestLogger or subclass&nbsp;InMemoryRollingRequestLogger and implement your own, here's the impl RedisRequestLogger&nbsp;as an example:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Host/RedisRequestLogger.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Host/RedisRequestLogger.cs</a><br><br>Then you can just configure to use it on the&nbsp;RequestLogsFeature, e.g:<br><br>Plugins.Add(new RequestLogsFeature {<br>&nbsp; &nbsp; RequestLogger = new RedisRequestLogger(<br>&nbsp; &nbsp; &nbsp; &nbsp; container.Resolve&lt;IRedisClientsManager&gt;(), capacity:1000)<br>});﻿"},{"userId":"116716178637849061271","userName":"Brian Stewart","date":"Feb 12, 2015, 8:54:01 AM","shortDate":"Feb 12, 2015","textHtml":"Excellent thanks - is this still valid for Servicestack 3 as i've yet to update on one of my apis..?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 9:12:14 AM","shortDate":"Feb 12, 2015","textHtml":"You can try, tho so much has changed since v3 that I couldn't tell you if it has everything it needs.﻿"},{"userId":"116716178637849061271","userName":"Brian Stewart","date":"Feb 12, 2015, 11:23:18 AM","shortDate":"Feb 12, 2015","textHtml":"Yeah i just tried .. didnt work unfortunately... i think i may have to attempt the move to v4.....&nbsp;﻿"}],"date":"Feb 12, 2015, 8:28:24 AM","shortDate":"Feb 12, 2015"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Anyone using Telerik ORM for generating SS projects? &nbsp;I fired it up for the first time this morning and am having problems filtering on a uniqueidentifier column. &nbsp;A basic URL throws an exception saying it's illegal to case from a String to Guid. &nbsp;The URL is...<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:1406/Domains?filter=Uid+eq+%27A7EA2171-8064-4CEB-BA85-474EF02D37BC\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:1406/Domains?filter=Uid+eq+'A7EA2171-8064-4CEB-BA85-474EF02D37BC</a>'<br><br>Any thoughts?﻿","comments":[{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 11, 2015, 10:27:01 AM\n(edited Feb 11, 2015, 11:36:04 AM)","shortDate":"Feb 11, 2015","textHtml":"Looks like they don't have a parser for Guids. &nbsp;Odd. &nbsp;It's a temporary hack, but adding a computed field worked...<br><br>RTRIM(REPLACE(CONVERT(VARCHAR(36),Uid),'-',''))﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 11, 2015, 10:52:54 AM","shortDate":"Feb 11, 2015","textHtml":"Oh, and the templates do NOT correctly set the field type of the computed columns. &nbsp;I had to manually set the \"Kind\" attribute to \"PersistentReadOnly\" so insert operations would function properly.﻿"}],"date":"Feb 11, 2015, 9:26:03 AM","shortDate":"Feb 11, 2015"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Anyone using OrmLite with Postgres 9.4? I'm looking for some examples on how to use the JSON datatype:&nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.postgresql.org/docs/9.4/static/datatype-json.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.postgresql.org/docs/9.4/static/datatype-json.html</a><br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 7, 2015, 3:50:16 PM","shortDate":"Feb 7, 2015","textHtml":"There's no built-in support for pgsql's JSON data type in OrmLite yet. Not even sure if custom sql queries work as it requires support from the underlying Npgsql <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> driver and I had issues with it last time I tried it.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Feb 7, 2015, 6:33:23 PM","shortDate":"Feb 7, 2015","textHtml":"Thank you Demis.<br><br>I'll try to find out the current status of Npgsql since having this would be great to avoid EAV patterns and still have querying support.<br><br>They say PostgreSQL with Json is faster than Mongo so I'm really eager to give it a try :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 7, 2015, 7:47:55 PM","shortDate":"Feb 7, 2015","textHtml":"Sure, tho the automatic and transparent blobbing of complex property types in OrmLite lets you get a lot of the benefits of a schema-less NoSql data type already, it's just missing the server-side querying support.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Feb 8, 2015, 5:08:55 AM","shortDate":"Feb 8, 2015","textHtml":"Here's the current status:<br><br>'our docs are out of date, we're planning a reorganization of that soon.<br><br>JSON and JSONB types are supported as simple strings. You can fetch JSON/JSONB columns and the reader will expose them as string columns. You can send JSON data as parameters, as strings as well.<br><br>Please write back here if you encounter any issues.'﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 8, 2015, 10:05:45 AM","shortDate":"Feb 8, 2015","textHtml":"ok brilliant, that will make things easier to support, thx.﻿"}],"date":"Feb 7, 2015, 1:28:10 PM","shortDate":"Feb 7, 2015"},{"userId":"101343502369048661517","userName":"Charles Wyandt","textHtml":"In the context of auto-mapping, are DTO properties case-sensitive? Can I use a DTO with the property \"Name\" to convert to an internal class type with the property \"name\"?﻿","comments":[{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Feb 3, 2015, 4:45:13 PM","shortDate":"Feb 3, 2015","textHtml":"that's not probably much help but there's a property JsConfig.EmitCamelCase if I remember the name correctly. AFAIR it works both ways in that case, i.e. the DTO POCOs properties (starting with Capital letter) are bound correctly to the values which are sent with camelCase JSON. I'd search the sources against EmitCamelCase ;)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2015, 5:40:28 PM","shortDate":"Feb 3, 2015","textHtml":"AutoMapping is case-sensitive but as public C# properties should be PascalCase it shouldn't be an issue in Practice.<br><br>OTOH as <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/109587042931756689212\" oid=\"109587042931756689212\">Michał Gajek</a></span>&nbsp;mentions JSON Serialization is case-insensitive to cater for different property styles.﻿"}],"date":"Feb 3, 2015, 3:29:28 PM","shortDate":"Feb 3, 2015"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"I get this when I go with the latest version of ServiceStack -&nbsp;Method 'CreateUserAuth' in type 'ServiceStack.Auth.OrmLiteAuthRepository`2' from assembly 'ServiceStack.Server, Version=4.0.23.0, Culture=neutral, PublicKeyToken=null' does not have an implementation.<br><br>With 4.0.23, it seems ok.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2015, 1:55:01 AM\n(edited Feb 3, 2015, 1:55:23 AM)","shortDate":"Feb 3, 2015","textHtml":"This is usually an indication of mixing dirty dlls from different versions together. I would delete your /packages folder and clear out your NuGet cache (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache</a>) and download the packages again, ensuring you're referencing the same version of ServiceStack everywhere.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 3, 2015, 6:00:52 AM","shortDate":"Feb 3, 2015","textHtml":"Thanks Demis. Updated all packages, now things seems to be good﻿"}],"date":"Feb 3, 2015, 1:50:16 AM","shortDate":"Feb 3, 2015"},{"userId":"101343502369048661517","userName":"Charles Wyandt","textHtml":"Hello, I'm having an issue with the documentation of OrmLite. How can I create a case-insensitive select for a string without using Contains, StartsWith, or EndsWith?﻿","comments":[{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jan 31, 2015, 6:43:59 PM","shortDate":"Jan 31, 2015","textHtml":"Wouldn't this be dependent on the database?  For example, if you're making calls against a SQL Server default collection, the collection is generally care insensitive.  I'm assuming ORM Lite is simply going to send whatever you give it.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jan 31, 2015, 6:45:22 PM","shortDate":"Jan 31, 2015","textHtml":"On a side note, I originally found some oddities using the Equals keyword in some queries and reverted to simply ==.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2015, 6:46:05 PM\n(edited Jan 31, 2015, 6:48:27 PM)","shortDate":"Jan 31, 2015","textHtml":"It should already be case-insensitive by default? You can revert to case-sensitive of underlying RDBMS with: `OrmLiteConfig.StripUpperInLike=true`<br><br>Contains/StartsWith/EndsWith is the typed API to perform LIKES queries with the typed SqlExpression. If you don't want to use it you can append your own custom SQL:<br><br>q.Where(\"Name LIKE {0}\", \"value\");<br><br>Or use any of OrmLite API's that allow executing custom SQL.﻿"},{"userId":"101343502369048661517","userName":"Charles Wyandt","date":"Jan 31, 2015, 6:52:08 PM\n(edited Jan 31, 2015, 6:53:36 PM)","shortDate":"Jan 31, 2015","textHtml":"I am pretty sure you may have already answered this part- but I am referring to an example such as db.Select(e =&gt; e.Name == \"bob\"), I want to allow it to also select \"Bob\" in that example. (No \"Like\" involved, just a case-insensitive comparison)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2015, 6:59:33 PM\n(edited Jan 31, 2015, 6:59:52 PM)","shortDate":"Jan 31, 2015","textHtml":"An `==` expression generates a case sensitive query, i.e:<br><br>WHERE (\"Name\" = 'bob')<br><br>If it's returning case-insensitive results then it's due to the collation configured on your DB/Table, see:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://sqlserver2000.databases.aspfaq.com/how-can-i-make-my-sql-queries-case-sensitive.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://sqlserver2000.databases.aspfaq.com/how-can-i-make-my-sql-queries-case-sensitive.html</a>﻿"},{"userId":"101343502369048661517","userName":"Charles Wyandt","date":"Jan 31, 2015, 7:00:15 PM","shortDate":"Jan 31, 2015","textHtml":"I'm asking how to make a case-insensitive query without reverting to custom SQL, so refactoring can be used.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2015, 7:04:08 PM","shortDate":"Jan 31, 2015","textHtml":"You can change the collation on your Table/Column. Or just use toUpper/toLower<br><br>q.Where(x =&gt; x.Name.ToUpper() == \"bob\".ToUpper())﻿"},{"userId":"101343502369048661517","userName":"Charles Wyandt","date":"Jan 31, 2015, 7:06:29 PM","shortDate":"Jan 31, 2015","textHtml":"Ah, that works. I wasn't sure if ToUpper would carry through to the expression.﻿"}],"date":"Jan 31, 2015, 6:39:35 PM\n(edited Jan 31, 2015, 6:39:47 PM)","shortDate":"Jan 31, 2015"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"I was writing a unit test yesterday and found myself needing to mock the IRequest object. Then I found a class MockHttpRequest in the ServiceStack.Testing namespace that seemed to do exactly what I needed (and some more) - is this class \"safe\" to use in my own unit tests or is this class just some internal helper class for servicestacks own tests?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 27, 2015, 2:27:55 AM","shortDate":"Jan 27, 2015","textHtml":"Yeah you can use it, hasn't been changed for a while and don't intend on changing/refactoring it, if IRequest gets extended I expect to be just adding properties.&nbsp;﻿"}],"date":"Jan 27, 2015, 1:56:21 AM","shortDate":"Jan 27, 2015"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"I am getting this error:&nbsp;{\"responseStatus\":{\"errorCode\":\"TypeInitializationException\",\"message\":\"Thetypeinitializerfor'ServiceStack.Text.Common.WriteListsOfElements`2'threwanexception.\"}}<br><br>It throws an Http500, in the response stream (json) you can see truncated response and this error concatenated to it.&nbsp;<br><br>Our site is hosted in Azure. Strangely everything works great in localhost (to make life more interesting :)<br><br>This started with a new code update, but there was no significant code change related to this particular api end point - other change that happened was our SQL Azure was updated to a standard from business web edition. (When I got error I rolled back and old code runs just fine with this SQL edition)<br><br>Any clues, pointers appreciated.<br><br>Thanks,<br>Binu﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 2:08:55 PM","shortDate":"Jan 26, 2015","textHtml":"Can't really help identify the issue without being able to repro it. Are you trying to serialize an EF model or some non POCO? What's the Model look like that this error's happening on?﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Jan 26, 2015, 2:29:37 PM","shortDate":"Jan 26, 2015","textHtml":"I narrowed it down to a simple POCO - this has a field with [AllowHtml] attribute. This seems to be the offending one. I removed the attribute, it works! But what is concerning is that this was there all along !!!﻿"}],"date":"Jan 26, 2015, 10:52:47 AM","shortDate":"Jan 26, 2015"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there,<br>I'm currently using facebook provider and running into a major issue where users can deny to share their email address(facebook permission screen). UserAuth gets created with Email address. Is there a way to make this a requirement? i.e UserAuth is not created if users don't agree to give us the email address.&nbsp;<br><br>For the users that are already in our system(without email), how would you suggest that next login will retrieve the email address?<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 25, 2015, 3:16:25 PM","shortDate":"Jan 25, 2015","textHtml":"There is a custom validation filter you can use to add your own custom pre-auth validation, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25084436/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25084436/85785</a><br><br>You should be able to just delete the Facebook entry from the `UserAuthDetails`&nbsp;table for that user which will run the validation logic the next time they sign-in.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 25, 2015, 3:21:40 PM","shortDate":"Jan 25, 2015","textHtml":"Perfect!﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 25, 2015, 4:17:59 PM","shortDate":"Jan 25, 2015","textHtml":"For the second part :<br>- deleting user auth details &nbsp;to re-run the validation logic doesn't work quite intended. Validation works but Facebook won't ask/show login dialog to users again. User has no way to agree to share email unless they manually go to account settings etc. But looks like we can send auth_type: 'rerequest' for email?<br><br>&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://developers.facebook.com/docs/facebook-login/login-flow-for-web/v2.2#re-asking-declined-permissions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://developers.facebook.com/docs/facebook-login/login-flow-for-web/v2.2#re-asking-declined-permissions</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 25, 2015, 4:51:29 PM","shortDate":"Jan 25, 2015","textHtml":"hmm not sure, looks like FB records the permission was denied for your App and doesn't re-ask the user again. Not sure if this is possible within an OAuth call as the only configuration available is with requested scopes:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Web.config#L38\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Web.config#L38</a><br><br>You might need to do this with FB's JS API.&nbsp;﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 25, 2015, 5:01:41 PM","shortDate":"Jan 25, 2015","textHtml":"According to the FB's doc below, adding a parameter auth_type=rerequest on an OAuth call will re-ask the user for the permissions that was denied.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/v2.2#reaskperms\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/v2.2#reaskperms</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 25, 2015, 8:21:40 PM","shortDate":"Jan 25, 2015","textHtml":"The only way to change this was to subclass the AuthProvider and override the Authenticate() method to customize the urls used.<br><br>I've also just added url filters for each AuthProvider in this commit:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/fce5a64620fa28a5bbdfca277855db82374e5dee\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/fce5a64620fa28a5bbdfca277855db82374e5dee</a><br><br>So you can provide a custom url filter to customize the different redirects urls used at registration with:<br><br>new&nbsp;FacebookAuthProvider {<br>&nbsp; &nbsp;&nbsp;PreAuthUrlFilter = (authProvider, url) =&gt; url<br>}<br><br>Here you can return a diffrent url for ServiceStack to use instead.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 25, 2015, 8:33:04 PM","shortDate":"Jan 25, 2015","textHtml":"Awesome. Thanks a lot :)﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 25, 2015, 10:21:30 PM","shortDate":"Jan 25, 2015","textHtml":"So with this change, can we also remove or check to append '?', if not already in the PreAuthUrlFilter for the query parameters? Otherwise we will have multiple '?'s on the url.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 25, 2015, 11:21:30 PM","shortDate":"Jan 25, 2015","textHtml":"Can you link to a line number of what you mean? The whole url should be customizable in the filter.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 26, 2015, 2:11:37 PM","shortDate":"Jan 26, 2015","textHtml":"Nevermind, I was looking at&nbsp;PreAuthUrl instead of&nbsp;PreAuthUrlFilter. Thanks a lot!﻿"}],"date":"Jan 25, 2015, 3:01:52 PM","shortDate":"Jan 25, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>I've renewed my license and I got a new key... have I to substitute it on all projects I've developed till now or does it's required if I upgrade to new servicestack version? (so till 4.0.36) I can use the old one?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 22, 2015, 3:40:58 AM","shortDate":"Jan 22, 2015","textHtml":"Hi Paolo, you'll need the new license key for newer releases of ServiceStack published after your maintenance expires. Your existing services using current/older versions of ServiceStack can still use the old license key.﻿"}],"date":"Jan 22, 2015, 3:34:16 AM","shortDate":"Jan 22, 2015"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Demis, is there a way currently in ServiceStack's RequiredRole attribute to check for ANY of the RequiredRoles instead of ALL? We have some services that in order to be accessed you need one or more of the allowed roles. We have implemented our own version of the RequiredRole attribute from the source, but this is not really maintainable in the event that things change in later versions. Any ideas?﻿","comments":[{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jan 20, 2015, 8:28:35 AM\n(edited Jan 20, 2015, 8:29:21 AM)","shortDate":"Jan 20, 2015","textHtml":"Found it, there is an attribute called RequiresAnyRole. This should be added to the documentation.﻿"}],"date":"Jan 20, 2015, 7:27:05 AM","shortDate":"Jan 20, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello guys,<br>I've got a strange problem when deleting an entity in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> MVC using Ormilite...<br><br>here's the code I use to delete the entity<br><br>&nbsp; &nbsp; &nbsp;public void Destroy&lt;T&gt;(T entity)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using (var db = dbFactory.Open())<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; db.Delete&lt;T&gt;(entity);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>and what it generates this statement<br><br>exec sp_executesql&nbsp;<br>N'DELETE FROM \"NMC_FT_TEST_DEVELOPMENT\" WHERE \"ID\"=@ID AND \"DESCRIZIONE\"=@DESCRIZIONE AND \"TIMESTAMP\"=@TIMESTAMP AND \"DATA_ESECUZIONE\"=@DATA_ESECUZIONE AND \"PREZZO\"=@PREZZO AND \"QUANTITA\"=@QUANTITA',<br>N'@ID int,@DESCRIZIONE nvarchar(6),@TIMESTAMP datetime,@DATA_ESECUZIONE datetime,@PREZZO decimal(2,0),@QUANTITA int',<br>@ID=4,@DESCRIZIONE=N'SECOND',@TIMESTAMP=NULL,@DATA_ESECUZIONE='2015-01-06 00:00:00',@PREZZO=15,@QUANTITA=NULL<br><br>The problem is that it puts = instead of is when checking on NULL... what's wrong?<br><br>How can I delete based on primarykey in a generic way so it doesn't checks on all the fields?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 15, 2015, 2:27:43 PM\n(edited Jan 15, 2015, 11:54:53 PM)","shortDate":"Jan 15, 2015","textHtml":"Just answered this on StackOverflow:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/27970145/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/27970145/85785</a><br><br>You can use `db.DeleteNonDefaults(entity)` or `db.DeleteById&lt;T&gt;(entity.GetId())`<br><br>You can get the Id value with the T.GetId() extension method﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 17, 2015, 5:51:45 PM","shortDate":"Jan 17, 2015","textHtml":"FYI, I've just made a refactor to how `db.Delete` works so NULL fields are moved out of the parameterized query and appended on the SQL clause. So this should now work with v4.0.37+ that's now available on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/2670b3c11b994df93b72d57c58681168281b1aad\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/2670b3c11b994df93b72d57c58681168281b1aad</a>﻿"}],"date":"Jan 15, 2015, 2:19:43 PM","shortDate":"Jan 15, 2015"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there,<br>I'm throwing an exception as below:<br>throw HttpError.NotFound(\"document with given id doesn't exist.\");<br><br>However, this shows up in elmah log as Type: HttpError, Code: 0. Should this not be set to 404? Am I missing something here?<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 13, 2015, 4:19:13 PM","shortDate":"Jan 13, 2015","textHtml":"The type name of the Exception&nbsp;is `HttpError`, but there is no `Code` property on Exception or HttpError types.<br><br>The HttpError.StatusCode is what's set to `404` which you can see in the HTTP Response Status code.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 13, 2015, 4:59:52 PM","shortDate":"Jan 13, 2015","textHtml":"I see. If I were to throw HttpError exception from mvc controller, whats your recommendation on how that is logged in iis as http 404. I'm a bit confused on this.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 13, 2015, 5:04:35 PM","shortDate":"Jan 13, 2015","textHtml":"MVC has their own way of returning HTTP 404 responses:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/q/2948484/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/q/2948484/85785</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 14, 2015, 12:16:46 AM","shortDate":"Jan 14, 2015","textHtml":"Hmm. So I'd need to catch HttpError &amp; throw mvc http exception?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2015, 1:11:35 AM","shortDate":"Jan 14, 2015","textHtml":"Depends what you want to to do, but propagating a ServiceStack HttpError outside an MVC Controller isn't going to have the desired effect.<br><br>You should be able to handle it generically with a custom MVC exception filter that basically detects a ServiceStack IHttpError and sets the Response Status Code to the response:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/8153561/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/8153561/85785</a><br><br>Otherwise It might just be easier the Response Status in ServiceStack Service:<br><br>base.Response.StatusCode = 404;<br>base.Response.StatusDescription = \"document with given id doesn't exist.\";<br><br>Since it shares the same <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Request pipeline, anything you write to the response in ServiceStack should also apply to the MVC HTTP Response.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 14, 2015, 1:18:39 AM","shortDate":"Jan 14, 2015","textHtml":"Awesome. Thank you for pointing to the right direction!﻿"}],"date":"Jan 13, 2015, 4:07:40 PM","shortDate":"Jan 13, 2015"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there,<br>Anyone knows how to tell if a user was authenticated via custom provider or fb etc inside of CustomUserSession: AuthUserSession?<br><br>Thanks!﻿","comments":[{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 12, 2015, 2:01:33 PM","shortDate":"Jan 12, 2015","textHtml":"Looks like I can check IAuthTokes to see if it is null and get a provider name from there?﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Jan 12, 2015, 2:04:17 PM","shortDate":"Jan 12, 2015","textHtml":"You can check the provider during the OnAuthenticated override of the AuthUserSession.&nbsp;<br><br>An example from the TechStacks demo shows it working with Twitter and GitHub auth providers, but the same could be used with Facebook.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/TechStacks/blob/master/src/TechStacks/TechStacks.ServiceInterface/CustomAuthUserSession.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/TechStacks/blob/master/src/TechStacks/TechStacks.ServiceInterface/CustomAuthUserSession.cs</a><br><br>More info on session events here<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions#session-events\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions#session-events</a><br><br>Hope that helps.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Jan 12, 2015, 2:26:37 PM","shortDate":"Jan 12, 2015","textHtml":"Thanks Darren! Checking provider won't actually work because it will list all the auth providers that a user has created. i.e if I have fb, github, twitter associated, provider with list all of those even if I logged in via one of those. Looks like tokens will actually give us which provider a user used to authenticate.&nbsp;<br>Thanks for the pointer!﻿"}],"date":"Jan 12, 2015, 1:56:55 PM","shortDate":"Jan 12, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>I've a Winform &nbsp;application and I create a Func&lt;SqlExpression&lt;T&gt;&gt; based on some dropdown to filter a Select using OrmLite.. I've been asked to add an application log layer to filter what query have been done... is there a way of having a redeable format of that SqlExpression? or do have I to save the last executed SQL Statement on the dbConnection?<br><br>Thanks﻿","comments":[{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Jan 5, 2015, 3:33:58 AM","shortDate":"Jan 5, 2015","textHtml":"IANAD (I Am Not A Demis), but if I remember it correctly each SqlExpression has a method called ToSelectStatement() which returns the SQL string that will be executed by that SqlExpression. :)﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 5, 2015, 3:35:22 AM","shortDate":"Jan 5, 2015","textHtml":"Thanks Fredrik!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2015, 9:40:43 AM","shortDate":"Jan 5, 2015","textHtml":"In addition to&nbsp;<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/116840543622050084732\" oid=\"116840543622050084732\">Fredrik Forssen</a></span>&nbsp;above, you can also use `db.GetLastSql()` to get last Sql executed.<br>Note: no need to address every q to me, many others here can help as well.﻿"}],"date":"Jan 5, 2015, 3:23:17 AM","shortDate":"Jan 5, 2015"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","textHtml":"I'm having a difficult time tracking this one down. The static file handler ends up returning a 500 for files that don't exist although it is throwing HttpError.NotFound(). Here is an example on <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.net</a> (<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/js/default.min.js\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/js/default.min.js</a>)&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 22, 2014, 12:44:10 PM","shortDate":"Dec 22, 2014","textHtml":"Can you enable&nbsp;&lt;customErrors mode=\"Off\"/&gt; so we can see the underlying exception?﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Dec 22, 2014, 12:50:03 PM","shortDate":"Dec 22, 2014","textHtml":"System.AggregateException: One or more errors occurred. ---&gt; ServiceStack.HttpError: Static File '/scripts/file.min.js' not found<br>&nbsp; &nbsp;at ServiceStack.Host.Handlers.StaticFileHandler.&lt;&gt;c__DisplayClass1.&lt;ProcessRequest&gt;b__0(IResponse r)<br>&nbsp; &nbsp;at ServiceStack.HttpExtensions.EndHttpHandlerRequest(IResponse httpRes, Boolean skipHeaders, Boolean skipClose, Action`1 afterHeaders)<br>&nbsp; &nbsp;at System.Threading.Tasks.Task.Execute()<br>&nbsp; &nbsp;--- End of inner exception stack trace ---<br>&nbsp; &nbsp;at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)<br>&nbsp; &nbsp;at System.Threading.Tasks.Task.Wait()<br>&nbsp; &nbsp;at System.Web.HttpApplication.CallHandlerExecutionStep.OnAsyncHandlerCompletion(IAsyncResult ar)<br><del>-</del>&gt; (Inner Exception #0) ServiceStack.HttpError: Static File '/scripts/file.min.js' not found<br>&nbsp; &nbsp;at ServiceStack.Host.Handlers.StaticFileHandler.&lt;&gt;c__DisplayClass1.&lt;ProcessRequest&gt;b__0(IResponse r)<br>&nbsp; &nbsp;at ServiceStack.HttpExtensions.EndHttpHandlerRequest(IResponse httpRes, Boolean skipHeaders, Boolean skipClose, Action`1 afterHeaders)<br>&nbsp; &nbsp;at System.Threading.Tasks.Task.Execute()&lt;---﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 22, 2014, 12:59:16 PM","shortDate":"Dec 22, 2014","textHtml":"ok cool, I'll take a look - it should be returning 404.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 22, 2014, 4:35:17 PM","shortDate":"Dec 22, 2014","textHtml":"Hi Jeff, it should be returning a 404 in the latest v4.0.35 on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"}],"date":"Dec 22, 2014, 10:34:32 AM","shortDate":"Dec 22, 2014"},{"userId":"101103904200312172323","userName":"Estyn Edwards","textHtml":"I'm having a problem with the AutoQuery functionality. I'm trying to do multiple joins, pretty much exactly like this example:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/26783587/servicestack-autoquery-multiple-ijoin\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/26783587/servicestack-autoquery-multiple-ijoin</a><br><br>In my case I'm doing the following:<br><br>&nbsp;public class QueryMerchandise : QueryBase&lt;Merchandise, QueryMerchandiseDTO&gt;, IJoin&lt;Merchandise, Donor&gt;, IJoin&lt;Merchandise, Bidder&gt; { }<br><br>&nbsp; &nbsp; public class QueryMerchandiseDTO:Merchandise<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; public string DonorName { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; public string BidderName { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; }<br><br>In this case DonorName get's populated correctly, but not BidderName. &nbsp;If I reverse the order of the IJoin:<br><br>public class QueryMerchandise : QueryBase&lt;Merchandise, QueryMerchandiseDTO&gt;, IJoin&lt;Merchandise, Bidder&gt;,IJoin&lt;Merchandise, Donor&gt; { }<br><br>Now BidderName will get populated, but not DonorName. &nbsp;I've tried with v4.0.33.0 and v4.0.35.0. &nbsp;I've also tried with ILeftJoin, but I get the same results.<br><br>Am I misunderstanding how the autoquery joins are supposed to work? I can easily work around this problem with a simple service, but I'm curious if autoquery can do it.<br><br>Thanks,<br>Estyn﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2014, 2:54:14 AM","shortDate":"Dec 18, 2014","textHtml":"Results should map to the first property in the list of joined tables.&nbsp;<br><br>Are there implicit joins between each of the tables?<br><br>Which types are DonorName and BidderName on? and are you using any aliases?<br><br>Are they the property names on Donor and Bidder or just the Name properties on them, e.g:<br>Donor.Name<br>Bidder.Name?<br><br>Also do you get a populated result set when trying to use OrmLite directly, i.e:<br><br>var rows = db.Select&lt;QueryMerchandiseDTO&gt;(<br>db.From&lt;Merchandise&gt;()<br>&nbsp; &nbsp; .Join&lt;Donor&gt;()<br>&nbsp; &nbsp; .Join&lt;Bidder&gt;());<br><br>rows.PrintDump();﻿"},{"userId":"101103904200312172323","userName":"Estyn Edwards","date":"Dec 18, 2014, 3:02:58 AM","shortDate":"Dec 18, 2014","textHtml":"Thanks for replying. Here' are the classes that I'm using, I'm not using any aliases:<br><br>&nbsp;public class Merchandise<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [AutoIncrement]<br>&nbsp; &nbsp; &nbsp; &nbsp; public int Id { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Name { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Description { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [References(typeof(Donor))]<br>&nbsp; &nbsp; &nbsp; &nbsp; public int? DonorId { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [References(typeof(Bidder))]<br>&nbsp; &nbsp; &nbsp; &nbsp; public int? BidderId { get; set; }<br>&nbsp; &nbsp;<br>&nbsp; &nbsp; }<br><br>&nbsp;public class Donor<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [AutoIncrement]<br>&nbsp; &nbsp; &nbsp; &nbsp; public int Id { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Name{ get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Address { get; set; }<br>&nbsp; &nbsp; }<br><br>&nbsp; public class Bidder<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [AutoIncrement]<br>&nbsp; &nbsp; &nbsp; &nbsp; public int Id { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public int BidderNumber { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Name{ get; set; }<br>&nbsp; &nbsp; }<br><br>My workaround was to use a query that looks very much like yours:<br>Db.Select&lt;MerchandiseResponseDTO&gt;(<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Db.From&lt;Merchandise&gt;()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .LeftJoin&lt;Bidder&gt;()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .LeftJoin&lt;Donor&gt;()<br><br>public class MerchandiseResponseDTO : Merchandise<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public string DonorName { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public string BidderName{ get; set; } &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; }<br><br>The workaround works fine. &nbsp;I tried your query and it works as well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2014, 3:11:33 AM","shortDate":"Dec 18, 2014","textHtml":"ok cool, and were you saying that AutoQuery still wasn't working when you were using ILeftJoin&lt;Merchandise,Bidder,Donor&gt; ?﻿"},{"userId":"101103904200312172323","userName":"Estyn Edwards","date":"Dec 18, 2014, 3:25:52 AM","shortDate":"Dec 18, 2014","textHtml":"If I do&nbsp;ILeftJoin&lt;Merchandise,Bidder,Donor&gt; I get the following error:<br><br>\"Could not infer relationship between Donor and Bidder\"﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2014, 3:35:25 AM","shortDate":"Dec 18, 2014","textHtml":"Yep that's expected if there was no relationship between them, so you'll need to declare each join individually, i.e:<br><br>QueryBase&lt;Merchandise,QueryMerchandiseDTO&gt;,<br>ILeftJoin&lt;Merchandise, Donor&gt;, ILeftJoin&lt;Merchandise, Bidder&gt; { }<br><br>did you say this wasn't working?﻿"},{"userId":"101103904200312172323","userName":"Estyn Edwards","date":"Dec 18, 2014, 3:57:53 AM","shortDate":"Dec 18, 2014","textHtml":"Yes that is what i can't get working.<br><br>QueryBase&lt;Merchandise,QueryMerchandiseDTO&gt;,<br>ILeftJoin&lt;Merchandise, Donor&gt;, ILeftJoin&lt;Merchandise, Bidder&gt; { }<br><br>populates DonorName but not BidderName<br><br>Switching the order:<br>QueryBase&lt;Merchandise,QueryMerchandiseDTO&gt;,<br>&nbsp;ILeftJoin&lt;Merchandise, Bidder&gt; ILeftJoin&lt;Merchandise, Donor&gt; {}<br><br>does the opposite BidderName is populated, but DonorName isn't.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2014, 4:06:47 AM","shortDate":"Dec 18, 2014","textHtml":"ok that's weird if it's working in OrmLite but not AutoQuery (which is using OrmLite underneath).<br><br>One difference in your AutoQuery vs OrmLite is that you're using QueryMerchandiseDTO in AutoQuery but&nbsp;MerchandiseResponseDTO in OrmLite, does it not work when you use&nbsp;MerchandiseResponseDTO in AutoQuery?<br><br>If not I'll see if I can repro tomorrow after I wake up, going to catch up on some zzz's now.﻿"},{"userId":"101103904200312172323","userName":"Estyn Edwards","date":"Dec 18, 2014, 4:12:51 AM","shortDate":"Dec 18, 2014","textHtml":"Switching the DTOs didn't make any difference it still seems to have the same behavior. &nbsp; I have an effective workaround so this isn't a high priority. &nbsp;I'll do some more testing and see if i can put together a failing test case.﻿"},{"userId":"101103904200312172323","userName":"Estyn Edwards","date":"Dec 18, 2014, 6:05:01 AM","shortDate":"Dec 18, 2014","textHtml":"I copied the files into a new project and it looks like it works there so it must be something related to my project, I'll see if I can hunt it down, thanks for your help.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2014, 11:12:18 AM","shortDate":"Dec 18, 2014","textHtml":"ok great, glad it's sorted﻿"}],"date":"Dec 18, 2014, 2:07:45 AM","shortDate":"Dec 18, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Using Swagger,&nbsp; in case that&nbsp; the service's response&nbsp; is&nbsp;&nbsp;&nbsp; a List&lt;T&gt;, it displays as response class&nbsp; the single T object.&nbsp; Only if I encapsulate&nbsp; the&nbsp; List in a response class, it displays the correct schema .<br>e.g FindCustomersResponce {&nbsp; customers (Array[epsCustomer]), }<br>It is a problem, I can't use a List&lt;T&gt;&nbsp; as the&nbsp; users will not have correct schema.﻿","comments":[{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Dec 15, 2014, 1:17:21 PM","shortDate":"Dec 15, 2014","textHtml":"What happens if you document your response as a subclass of List&lt;T&gt;? e.g. class FindCustomersResponse : List&lt;epsCustomer&gt; { }﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2014, 1:58:21 PM","shortDate":"Dec 15, 2014","textHtml":"In the case of a subclass of List&lt;T&gt;,<br>then swagger displays<br>TestCustomersResponse {<br>capacity (int),<br>count (int),<br>item (epsCustomer)<br>}<br>It does not seem good. We try to avoid inheritance. Also<br>&nbsp;if I have to create a response object, I prefer to define theList as a member property.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 15, 2014, 2:51:53 PM","shortDate":"Dec 15, 2014","textHtml":"Can you open up a new issue at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br>with a screenshot of the issue and DTO's you're using&nbsp;as I'm not sure what you mean, I've added a new service that returns and array (and List&lt;T&gt;) and the model schema does look like it's returning a JSON array:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/swagger-ui/#!/metadatatest-array/getmetadatatestarray\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/swagger-ui/#!/metadatatest-array/getmetadatatestarray</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2014, 2:59:07 PM\n(edited Dec 15, 2014, 3:05:17 PM)","shortDate":"Dec 15, 2014","textHtml":"The metadatatestarray&nbsp; returns a&nbsp; response object in which there is a&nbsp; member property&nbsp; List or array.&nbsp;<br>MetadataTestChild {<br>Name (string),<br>Results (Array[MetadataTestNestedChild])<br>}<br>this works fine.<br>&nbsp;But if we&nbsp; only return as response&nbsp; a List&lt;T&gt;&nbsp; , then it displays only the T object.&nbsp;&nbsp; I have not time now to create an issue, I will try tomorrow﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2014, 6:04:15 PM","shortDate":"Dec 15, 2014","textHtml":"I added&nbsp; a new Issue with a Gist﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 15, 2014, 6:15:17 PM\n(edited Dec 15, 2014, 6:16:21 PM)","shortDate":"Dec 15, 2014","textHtml":"Just figured out what you meant - this is intended behavior for collection responses as seen in the Swagger UI example for a collection response:&nbsp;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://petstore.swagger.wordnik.com/#!/pet/findPetsByTags\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://petstore.swagger.wordnik.com/#!/pet/findPetsByTags</a>﻿"}],"date":"Dec 15, 2014, 1:07:38 PM","shortDate":"Dec 15, 2014"},{"userId":"107970815325006319569","userName":"Jon Kennerly","textHtml":"Any possibility of overriding the default path of \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://root/swagger-ui\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://root/swagger-ui</a>\" in the SwaggerFeature? I currently have my swagger files at the root of the api.<br><br>Promote this variable to a class level property:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var swaggerUrl = UseBootstrapTheme<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ? \"swagger-ui-bootstrap/\"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : \"swagger-ui/\";<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; appHost.GetPlugin&lt;MetadataFeature&gt;()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .AddPluginLink(swaggerUrl, \"Swagger UI\");﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2014, 10:16:37 PM","shortDate":"Dec 10, 2014","textHtml":"The path needs to be `/swagger-ui` to match the embedded resource files. If you have Swagger files it should automatically pick up those instead.<br><br>If you just wanted to change the link (i.e. not link to SwaggerFeature) you can modify:<br><br>appHost.GetPlugin&lt;MetadataFeature&gt;().PluginLinks Dictionary﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 11, 2014, 3:51:03 PM\n(edited Dec 11, 2014, 3:51:32 PM)","shortDate":"Dec 11, 2014","textHtml":"That works. As a productionalized product, I want to remove as much as I can about the underlying implementations, such as verbiage with&nbsp;the word \"Swagger\".<br><br>Took me a while to figure out it has to be done after AppHost.Init().<br><br>appHost.GetPlugin&lt;MetadataFeature&gt;().PluginLinks.Remove(\"swagger-ui/\"); appHost.GetPlugin&lt;MetadataFeature&gt;().PluginLinks.Add(\"index.html\",&nbsp;\"API&nbsp;Service&nbsp;Browser\");<br><br>I do wish this was a property of the SwaggerFeature.<br>Or a MetaDataFeature.RemovePluginLink(..) to go with the AddPluginLink(..) would also be cleaner.<br><br>Thanks again.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2014, 4:21:54 PM","shortDate":"Dec 11, 2014","textHtml":"Another solution would be to just use a customized copy of the Swagger API from:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Api.Swagger\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Api.Swagger</a><br><br>Yeah plugins registrations run after Configure(), some info about Plugin Lifecycle at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Plugins\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Plugins</a><br><br>In your AppHost you can override OnAfterInit() or register a callback in AppHost.AfterInitCallbacks.<br><br>New Remove Plugin API's added in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/9002d4827c43dd91e02b298a3b5a56e6e376963a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/9002d4827c43dd91e02b298a3b5a56e6e376963a</a><br><br>Although you can always add an equivalent API for stuff like this with an extension method.﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 11, 2014, 4:56:46 PM","shortDate":"Dec 11, 2014","textHtml":"good info. Thanks again.﻿"}],"date":"Dec 10, 2014, 9:59:00 PM","shortDate":"Dec 10, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Quick question about the HTTP Benchmarks - are there any notes or details available that describe the database queries that the posted results show?<br><br>For example, database server, size, # of records, etc. &nbsp;If possible to post a link to download a backup we could restore to compare, that would be helpful.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 3, 2014, 6:24:49 PM\n(edited Dec 3, 2014, 6:26:02 PM)","shortDate":"Dec 3, 2014","textHtml":"The HttpBenchmarks are just Services following the guidelines of the&nbsp;techempower benchmarks described on:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.techempower.com/benchmarks/#section=code&amp;hw=peak&amp;test=update\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.techempower.com/benchmarks/#section=code&amp;hw=peak&amp;test=update</a><br><br>All benchmarks were run on a Macbook Pro, inc. RDBMS (were all running locally).﻿"}],"date":"Dec 3, 2014, 6:18:34 PM","shortDate":"Dec 3, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Hi Demis<br><br>Something I spotted when using the RequestLogsFeature.&nbsp;<br><br>My services are hosted at <a rel=\"nofollow\" target=\"_blank\" href=\"https://dev.x.com/client/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dev.x.com/client/</a><br>All links from the metadata page uses the above link and appends the relevant route (i.e. <a rel=\"nofollow\" target=\"_blank\" href=\"https://dev.x.com/client/soap11\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dev.x.com/client/soap11</a>).<br><br>When you click on the Request Logs link under Debug Info on metadata it routes to <a rel=\"nofollow\" target=\"_blank\" href=\"https://dev.x.com/requestlogs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dev.x.com/requestlogs</a>. The URL is not correct.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 3, 2014, 9:41:09 AM","shortDate":"Dec 3, 2014","textHtml":"ahh cool thx for the heads up, should be now fixed with this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/51e2f79610a5da1c39a0cbdf8bd61c7c86f5801b\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/51e2f79610a5da1c39a0cbdf8bd61c7c86f5801b</a>﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Dec 3, 2014, 9:49:53 AM","shortDate":"Dec 3, 2014","textHtml":"Thanks Demis. No worries.﻿"}],"date":"Dec 3, 2014, 6:03:40 AM","shortDate":"Dec 3, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Hi, I have successfully implemented RedisMQ and SSE and the two together are awesome. &nbsp;I am sharing a redis instance across multiple instances (IIS Applications) of an application, but all MQ messages for a given request go into a list with the name of the Request DTO. &nbsp;Is there any way of injecting an additional string value into this so that instances don't pick up other instance's work?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 2, 2014, 9:49:46 AM\n(edited Dec 2, 2014, 9:51:00 AM)","shortDate":"Dec 2, 2014","textHtml":"This is a feature of MQ's where you can naturally (i.e. no touch) load balance by spinning up more servers/processes and having them all looking at the same MQ Broker - So I'd personally recommend keeping the app servers stateless so that they can process other instances work, which will let you scale by just spawning more servers.<br><br>But you can modify the QueueNames used with&nbsp;QueueNames.SetQueuePrefix or&nbsp;QueueNames.ResolveQueueNameFn - see these tests for examples on how to use them:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqNameTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqNameTests.cs</a>﻿"}],"date":"Dec 2, 2014, 9:26:34 AM","shortDate":"Dec 2, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hi Demis,<br><br>What is your current setup/recommendations for unit testing where a Redis instance is involved?<br><br>The unit tests in ServiceStack.Redis seem to suggest that you're running a local instance of a redis server (and a sentinel where pertinent) - I assume using Vagrant.<br><br>This would be fine for unit/integration testing on a local machine, but would pose a problem if the unit tests are aggregated and run when building through a CI process (TeamCity in my case).<br><br>I've taken a look at the RedisIntegration nuget package (which tries to create/kill a redis instance for unit testing - but I'm finding that the redis.exe process is not being reliably killed (and since the author of the package is using empty catch blocks in the package to throw away errors when killing the process I'm not convinced that this is the way to go).<br><br>I was wondering if you've experimented with automated integration testing of this nature, or if you have some advice/suggestions? Do you think it would be possible/advisable to try and start/stop a Vagrant-hosted instance for this type of automated integration testing?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 28, 2014, 3:30:53 AM","shortDate":"Nov 28, 2014","textHtml":"I'm just running a local redis-server instance using vagrant (option 1: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/redis-windows\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/redis-windows</a>) but Windows redis service works as well. I just flushall before each test to nuke the data, so the unit tests themselves aren't dealing with starting/killing redis process.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 28, 2014, 7:36:35 AM","shortDate":"Nov 28, 2014","textHtml":"How about this? <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/aspnet/Caching/blob/dev/test/Microsoft.Framework.Cache.Redis.Tests/Infrastructure/RedisTestConfig.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/aspnet/Caching/blob/dev/test/Microsoft.Framework.Cache.Redis.Tests/Infrastructure/RedisTestConfig.cs</a>﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 29, 2014, 1:39:43 AM","shortDate":"Nov 29, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>:&nbsp; I thought as much - thanks.<br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/116592973355984178567\" oid=\"116592973355984178567\">Carlos Mendes</a></span>&nbsp;: &nbsp;a little bloated - but more or less what I thought I was going to end up doing, thanks. If I come up with something more elegant I'll post it here...﻿"}],"date":"Nov 28, 2014, 12:01:59 AM\n(edited Nov 28, 2014, 12:32:01 AM)","shortDate":"Nov 28, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi Demis,<br><br>I'm setting a cookie using a global response filter:<br><br>GlobalResponseFilters.Add((req, res, requestDto) =&gt; res.SetSessionCookie(\"CookieType\", \"StarBucks\"));<br><br>But I can't read it in a Razor Page.&nbsp;The Cookies Dictionary count is 0:<br><br>@{<br>&nbsp; &nbsp; ViewBag.Title = \"ServiceStack with Razor\";<br>&nbsp; &nbsp; var cookiesCount = this.Response.CookiesAsDictionary().Count;<br>}<br><br>What I'm I missing?<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 24, 2014, 5:53:41 PM","shortDate":"Nov 24, 2014","textHtml":"If you want to pass additional info throughout the Request pipeline you should use Request.Items instead. Normally you would check for Cookies on the Request.Cookies but this is only available on the subsequent requests when the client resends the cookie.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 24, 2014, 6:29:22 PM","shortDate":"Nov 24, 2014","textHtml":"In this case I need to set a cookie that will be used by my SS app and another web application so I can't use the Items dictionary.<br><br>So, should I set the cookie in the Request (instead of Response)?<br><br>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 24, 2014, 6:33:50 PM\n(edited Nov 24, 2014, 6:40:14 PM)","shortDate":"Nov 24, 2014","textHtml":"You should set cookies on the response (when it doesn't already exist) but check for them on the incoming request and when you want to pass metadata in the request pipeline you should use Request.Items.﻿"}],"date":"Nov 24, 2014, 12:58:27 PM","shortDate":"Nov 24, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Hi Demis<br><br>I have a situation where I am trying to Join tables and there are duplicate fields.&nbsp;<br><br>I have a POCO called FullVenue which will contain a combination of fields from the Venue and Region tables. Venue has fields like Name, Address, RegionId, ContactNumber, NumberOfTables, Latitude, Longitude, etc. Region has fields like Name, Area, Country, Latitude, Longitude, etc.<br><br>As you can see there are some overlapping fields (Name, Latitude, Longitude). In the FullVenue POCO I thought there may be an attribute that maps a field regardless of it's name to a Type and Field.&nbsp;<br><br>For example:<br>public class FullVenue {<br>&nbsp; &nbsp;[Alias(typeof(Venue), \"Latitude\")]<br>&nbsp; &nbsp;public double Latitude {get;set;}<br><br>&nbsp; &nbsp;[Alias(typeof(Region), \"Latitude\")]<br>&nbsp; &nbsp;public double Region_Latitude {get;set;}<br>}<br><br>Is there some way of combining duplicate fields like the above in OrmLite joins? Without some kind of attributed mapping above the SQL the join would generate would ignore the Region_Latitude field (obviously) as it does not map to Region or Venue fields.&nbsp;<br><br>var results = db.Select&lt;FullVenue&gt;(db.From&lt;Venue&gt;().Join&lt;Venue, Region&gt;((x, y) =&gt; x.RegionId== y.Id);﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 5:42:23 PM\n(edited Nov 22, 2014, 5:44:43 PM)","shortDate":"Nov 22, 2014","textHtml":"The only way to specify multiple columns with the same name across multiple joined tables is by naming convention, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#selecting-multiple-columns-across-joined-tables\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#selecting-multiple-columns-across-joined-tables</a><br><br>So your joined model would look like:<br><br>public class FullVenue {<br>&nbsp; &nbsp;public double VenueLatitude {get;set;}<br>&nbsp; &nbsp;public double RegionLatitude {get;set;}<br>}﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Nov 22, 2014, 5:46:30 PM","shortDate":"Nov 22, 2014","textHtml":"Well that makes my scenario even easier! Must've missed that. The attribute may allow more customization in the future :)﻿"}],"date":"Nov 22, 2014, 5:35:29 PM","shortDate":"Nov 22, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hi Demis,<br><br>I would like to write some tests incorporating multiple clients connected to multiple appHosts (to try and understand how the Redis PubSub Server works/scales/recovers). Am I being overly ambitious? I get an error when trying to spin up the second appHost which suggests that this is a Singleton...I just wondered whether you had any creative suggestions for this from your own test harnesses? I had a quick look through the tests in the repository - but didn't find anything modelling this type of load-balanced scenario....﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 20, 2014, 5:47:32 AM","shortDate":"Nov 20, 2014","textHtml":"Hi Ryan, right by design the AppHost is a singleton where there can only be 1 instance per AppDomain. As it's not supported none of our tests run multiple app hosts simultaneously, many of our integration tests just spawn an AppHost on a per test or per text fixture basis.<br><br>In order to run multiple AppHost instances you would need to spawn multiple processes (i.e. self-hosting Console Apps).&nbsp;﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 20, 2014, 5:49:06 AM","shortDate":"Nov 20, 2014","textHtml":"Thanks Demis....thought as much....﻿"}],"date":"Nov 20, 2014, 4:32:56 AM\n(edited Nov 20, 2014, 4:33:37 AM)","shortDate":"Nov 20, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis,<br>today I fell like a nightmare for you... I've got some services that returns void but in those case the exception if present is not propagated... I got errorcode 500 but no ErrorMessage or ErrorStatus... I've tried returning an empty class and in that case it works... I think it's related to the fact that IReturnVoid doesn't return HttpResponse so it won't consider its content... what's the besta pproach, should I replace all my IReturnVoid with IReturn&lt;EmptyResponse&gt;, this would also mean to change all my public void Any(SomeRequest xxx) to public object Any(SomeRequest xxx) and on the client part to change the Task to Task&lt;EmptyResponse&gt; ...is there a simpler way?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 1:04:05 PM","shortDate":"Nov 18, 2014","textHtml":"I've added an exception handling test showing error responses of IReturnVoid methods at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/2bb9478f66ccfeac683b2ec07d60453c88a7c815\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/2bb9478f66ccfeac683b2ec07d60453c88a7c815</a><br><br>You can use IReturn&lt;HttpWebResponse&gt; to get the HttpWebResponse back, more info at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#ireturnvoid-now-returns-void\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#ireturnvoid-now-returns-void</a><br><br>You don't need to change your Service method signature to use it -&nbsp;the IReturnVoid marker is just a client concern﻿"}],"date":"Nov 18, 2014, 12:03:29 PM","shortDate":"Nov 18, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi Demis,<br>I've been playing around with <a rel=\"nofollow\" target=\"_blank\" href=\"http://mvc.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mvc.servicestack.net/</a> as you suggested for mvc based application. Here's something I came across, and wanted to know your thoughts.<br><br>I'm using RavenDb but this should not matter I believe.<br>- Starting with Empty db<br>- Login using facebook<br>- Creates UserAuths (empty password ofcourse)<br>- Creates UserAuthDetails(facebook as a provider)<br>- Log out<br>- Try login to CredentialAuthProvider (using the email address used via facebook login)<br>- Throws error: Value cannot be null. Parameter name: s.<br><br>Surely that happens because there's no password set in AuthUsers. Ideally it should tell users \"invalid login\". What would be the best approach for this? Override TryAuthenticate and check for this? It will be nice to have this thrown by&nbsp;CredentialsAuthProvider.<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 15, 2014, 2:55:25 PM","shortDate":"Nov 15, 2014","textHtml":"You'd need to register with a Username/Password first so there is a password registered with that account. Once authenticated you can use the other OAuth providers which also get registered to that account.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 15, 2014, 3:01:35 PM","shortDate":"Nov 15, 2014","textHtml":"So as a user lets say I signed up using Facebook, lets say abc@gmail.com...someone later tries to login using the same email with password by accident, shouldn't he get invalid user/pass error?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 15, 2014, 3:06:15 PM","shortDate":"Nov 15, 2014","textHtml":"Right they shouldn't be allowed to register or log in. I'll take a look at adding a better error msg.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 15, 2014, 3:08:28 PM","shortDate":"Nov 15, 2014","textHtml":"Yup! Currently they can't register. It errors with - email already exists, which is perfect. Just need to error - invalid email/password for when trying to login.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 15, 2014, 3:37:41 PM","shortDate":"Nov 15, 2014","textHtml":"ok this should now be fixed with this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/c32b13b18f9443fa867c90e64e44ce81b2abfc99\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/c32b13b18f9443fa867c90e64e44ce81b2abfc99</a><br><br>That's just finished deploying to MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://mvc.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mvc.servicestack.net</a> has also been redeployed which shows the updated behavior.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 16, 2014, 11:21:08 PM","shortDate":"Nov 16, 2014","textHtml":"Awesome, Thanks!&nbsp;﻿"}],"date":"Nov 15, 2014, 2:48:24 PM","shortDate":"Nov 15, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I've tried to upgrade from .32 to .33 but I got the following message \"This license is invalid. Please see <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.net</a> or &nbsp;contact team@servicestack.net for more details. The id for this license &nbsp;is '1012'\" ... I've upgraded all my packages and support is valid till Feb 2015....<br>What's wrong?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 7, 2014, 12:21:27 PM\n(edited Nov 7, 2014, 12:28:50 PM)","shortDate":"Nov 7, 2014","textHtml":"I've just manually verified your license key with different versions of ServiceStack inc. creating a new project with v4.0.33 specific NuGet packages and nothing has changed with the licensing - your license key works just as it did before.<br><br>Are you sure you haven't accidentally modified it? try re-copying the license key from the original email or online from&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/account/subscription\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/account/subscription</a>﻿"}],"date":"Nov 7, 2014, 4:06:06 AM","shortDate":"Nov 7, 2014"},{"userId":"117419102482866616321","userName":"Stephen Patten","textHtml":"Letting you know that there \"may\" be a problem with the sql expression builder, although it could be an Oracle Dialect issue.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 6:56:11 PM\n(edited Nov 6, 2014, 7:05:39 PM)","shortDate":"Nov 6, 2014","textHtml":"This isn't an issue with any of the supported RDBMS's, it's specific to Oracle's custom windowing RowNum hack for supporting Limit expressions. You can avoid this by providing your own explicit OrderBy or not using Limit() in Oracle (so it doesn't need to add the hack).<br><br>I've made a change so that the default orderby experssion it adds is fully-qualified in this commit:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/ae1d48e6284723f7f0cbc2f343265b31d3c0be0e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/ae1d48e6284723f7f0cbc2f343265b31d3c0be0e</a><br><br>But I'm extremely reluctant about touching Oracle code as I didn't create, maintain or otherwise have touched the Oracle-specific dialect provider, don't have an Oracle instance to test any changes against, &nbsp;and generally dislike Oracle DB/Co in general - which is why it's not an officially supported package. It's only being maintained by a few Oracle customers that use it, but they only get a chance to resolve issues sporadically when they update their OrmLite packages. I've created a new Issue thread where you can register any Oracle-specific issues that they can look at when they get around to it at:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/179\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/179</a><br><br>Please use it for adding any issues that aren't in any of the other DB providers.﻿"},{"userId":"117419102482866616321","userName":"Stephen Patten","date":"Nov 6, 2014, 8:23:53 PM","shortDate":"Nov 6, 2014","textHtml":"Fair, enough. We prefer to use PostgrSQL, but right now we have to integrate with a legacy financial system, hence all the Oracle issues.&nbsp;﻿"}],"date":"Nov 6, 2014, 5:23:59 PM","shortDate":"Nov 6, 2014"},{"userId":"110171423196844843120","userName":"Randolph Burt","textHtml":"Hi,<br>A bit of an old query (earlier this year) however I'm revisiting it again. I quite like the way you can add a POCO as the value for a key via the redis client, however there is a problem if you set an expiry for this POCO.... &nbsp;<br>When adding a POCO to redis, servicestack will keep track of all instances of that type of POCO in a separate key/value, as well as adding the new key/value for the POCO. &nbsp;This is fine, however if the POCO key/value automatically expires within redis then the 'master' key tracking each instance of the POCO is not updated - ie. it still contains a reference to the POCO key in its value set. &nbsp;Over time this will grow.<br>Not sure what can be done about this, but thought I'd raise the question here to see if there is any way to overcome this - and to understand the purpose of the separate 'master'&nbsp;key/value.<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 11:27:40 AM","shortDate":"Nov 6, 2014","textHtml":"just answered, you should either avoid it or periodically rebuild the indexes.﻿"}],"date":"Nov 6, 2014, 7:31:58 AM","shortDate":"Nov 6, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hi Demis,<br><br>I have a customer integrating into our SS services using SOAP, and they seem to be getting a set of illegal characters at the beginning of their SOAP Response Envelope?<br><br>see here :<br>-----<br>HTTP/1.1 200 OK<br>Cache-Control: private<br>Content-Type: application/soap+xml;charset=UTF-8;action=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.mosaic.co.za/types/SetParcelCommandResponse\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.mosaic.co.za/types/SetParcelCommandResponse</a>\"<br>Server: Microsoft-IIS/8.5<br>X-AspNet-Version: 4.0.30319<br>Set-Cookie: ss-id=OrYbKT8vc0onW3jsDN2H; path=/; HttpOnly<br>Set-Cookie: ss-pid=LmI0wjpUmNSxx5ZtlPJY; expires=Sat, 04-Nov-2034 12:52:41 GMT; path=/; HttpOnly<br>X-Powered-By: <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a><br>Date: Tue, 04 Nov 2014 12:52:41 GMT<br>Content-Length: 321<br><br>ï»¿&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;s:Envelope xmlns:s=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2003/05/soap-envelope\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.w3.org/2003/05/soap-envelope</a>\"&gt;&lt;s:Body&gt;&lt;SetParcelCommandResult xmlns:i=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.w3.org/2001/XMLSchema-instance\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.w3.org/2001/XMLSchema-instance</a>\" xmlns=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.mosaic.co.za/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.mosaic.co.za/types</a>\"&gt;&lt;SetParcelReturn&gt;Successful&lt;/SetParcelReturn&gt;&lt;/SetParcelCommandResult&gt;&lt;/s:Body&gt;&lt;/s:Envelope&gt;<br>-----<br><br>what could possibly be causing this?<br>The customer is using SOAPUI to test the SS services.<br><br>you can view the metadata for the request in question over here :<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://api.qa.mosaic.fnf.co.za/soap12/metadata?op=SetParcelCommand\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.qa.mosaic.fnf.co.za/soap12/metadata?op=SetParcelCommand</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 10:05:13 AM","shortDate":"Nov 4, 2014","textHtml":"It's most likely the UTF-8 BOM character, is this causing an issue with the SOAPUI?﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 4, 2014, 10:22:34 AM","shortDate":"Nov 4, 2014","textHtml":"Yes....what do you recommend as a fix?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 10:45:01 AM","shortDate":"Nov 4, 2014","textHtml":"It's something that's automatically emitted by the Xml Serializer, I'll have to investigate to see what can be done to prevent it.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 2:22:25 PM\n(edited Nov 4, 2014, 2:22:36 PM)","shortDate":"Nov 4, 2014","textHtml":"Hi Ryan,&nbsp;the UTF8 BOM character should no longer be emitted in SOAP responses in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/4c4986ea7d36d931d782b0f485b71ccdb464632a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/4c4986ea7d36d931d782b0f485b71ccdb464632a</a><br><br>This change is now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 4, 2014, 11:29:41 PM","shortDate":"Nov 4, 2014","textHtml":"you never disappoint, Demis.<br><br>It is really a pleasure dealing with you on an ongoing basis and sharing in the ServiceStack Journey. License fees are very often a grudge payment in this day and age - but my contribution to SS is worth every penny and more.<br><br>Thank you :)﻿"}],"date":"Nov 4, 2014, 8:00:43 AM\n(edited Nov 4, 2014, 8:01:06 AM)","shortDate":"Nov 4, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"I'm using OrmLite and I have a table where I want to blob the value of a column. The type that I want to blob into that column inherits from an abstract type. Writing the data to the database works quite alright - however reading it back always returns null. When I check what is written in SQL Server I notice that there is no type information written, which would explain why it can't deserialize the blob back into an object. Is there any way/configuration to make the OrmLite blobbing work with inheritance or am I forced to blob the column manually? (Creating a strongly typed column is not an option, the table in question is an event table and I can't have one column per event type.)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 10:06:23 AM","shortDate":"Nov 4, 2014","textHtml":"Hi Fredrik can you open an issue with some code to repro at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Nov 5, 2014, 2:37:54 AM\n(edited Nov 5, 2014, 2:38:02 AM)","shortDate":"Nov 5, 2014","textHtml":"Done, you have an issue with a link to a gist showing the problem.﻿"}],"date":"Nov 4, 2014, 3:58:00 AM","shortDate":"Nov 4, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Hi, I am trying to use ServiceStack's Server Sent Events with Redis backend. &nbsp;All hooked up well, but when the client attempts to connect, I am getting a null reference exception when trying to get the CurrentServerTime - I am only hooking up RedisServerEvents in Global.asax.cs, NOT RedisPubSubServer - is this wrong?:<br><br>--- Global.asax.cs<br>container.Register&lt;IRedisClientsManager&gt;(c =&gt; new pooledRedisClientManager(redisConnection));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>container.Register&lt;IServerEvents&gt;(c =&gt; new RedisServerEvents(c.Resolve&lt;IRedisClientsManager&gt;()));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; container.Resolve&lt;IServerEvents&gt;().Start();<br><br>------ Exception info<br>[NullReferenceException: Object reference not set to an instance of an object.]<br>&nbsp; &nbsp;ServiceStack.Redis.RedisPubSubServer.get_CurrentServerTime() +30<br>&nbsp; &nbsp;ServiceStack.&amp;lt;&amp;gt;c__DisplayClass21.&amp;lt;StoreSubscriptionInfo&amp;gt;b__15(IRedisClient r) +59<br>&nbsp; &nbsp;ServiceStack.RedisServerEvents.StoreSubscriptionInfo(IRedisClient redis, SubscriptionInfo info) +175<br>&nbsp; &nbsp;ServiceStack.RedisServerEvents.Register(IEventSubscription sub, Dictionary`2 connectArgs) +97<br>&nbsp; &nbsp;ServiceStack.ServerEventsHandler.ProcessRequestAsync(IRequest req, IResponse res, String operationName) +1494<br>&nbsp; &nbsp;ServiceStack.Host.Handlers.HttpAsyncTaskHandler.System.Web.IHttpAsyncHandler.BeginProcessRequest(HttpContext context, AsyncCallback cb, Object extraData) +114<br>&nbsp; &nbsp;System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +12650919<br>&nbsp; &nbsp;System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp;amp; completedSynchronously) +288<br>&lt;/pre&gt;&lt;/code&gt;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 31, 2014, 7:52:24 AM\n(edited Oct 31, 2014, 8:25:28 AM)","shortDate":"Oct 31, 2014","textHtml":"Hi Graham, could you submit this issue to: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>and we can continue the thread from there.<br><br>Your configuration code looks right as it matches the RedisServerEvents support in Chat:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/Chat/blob/master/src/Chat/Global.asax.cs#L49-L53\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/Chat/blob/master/src/Chat/Global.asax.cs#L49-L53</a><br><br>So I'm not sure what the issue is, can we try to see if it's an environment issue by checking if&nbsp;the RedisServerEvent Chat app work for you? You just need to add:<br><br>&lt;add key=\"RedisHost\" value=\"localhost\" /&gt;<br><br>in your Web.config &lt;appSettings/&gt; to get it to run on Redis Server Events<br><br>Otherwise can you connect to Redis Server normally with the RedisClient, e.g in your AppHost with:<br><br>using (var redis = container.Resolve&lt;IRedisClientsManager&gt;().GetClient())<br>{<br>&nbsp; &nbsp; var serverTime = redis.GetServerTime();<br>}<br><br>If you can, what's the best way to get a repro? could you put together a small sample that shows the issue that I can check out?﻿"},{"userId":"109143533670356077374","userName":"Graham Laidler","date":"Oct 31, 2014, 8:18:01 AM","shortDate":"Oct 31, 2014","textHtml":"It was my Redis version - when I did as you suggested, it didn't seem to support the TIME command - god knows what version I was running. &nbsp;When I downloaded latest MSOpenTech and overwrite binaries - all was fine.<br><br>Thanks for support.<br><br>G﻿"}],"date":"Oct 31, 2014, 7:20:20 AM","shortDate":"Oct 31, 2014"},{"userId":"113081053374367245975","userName":"Cliff Cawley","textHtml":"Hi,<br><br>I've been trying to use UpdateOnly to update 2 columns in a database.<br><br>Something like the following:<br><br>// Get existingPerson from Db, ready to update some columns.<br>Person existingPerson = ...;<br><br>// Update fields<br>existingPerson.FirstName = \"John\";<br>existingPerson.Age = 49;<br><br>// Send just those fields back<br>db.UpdateOnly(existingPerson, &nbsp;<br>&nbsp; &nbsp; onlyFields: p =&gt; new { p.FirstName, p.Age });<br><br>However upon executing the UpdateOnly line, I get an exception:<br><br>Additional information: variable 'p' of type 'DatabaseTypes.Person' referenced from scope '', but it is not defined<br><br>This is pretty much an exact copy of the example from the OrmLite page:<br><br>db.UpdateOnly(new Person { FirstName = \"JJ\", Age = 12 },&nbsp;<br>&nbsp; &nbsp; onlyFields: p =&gt; new { p.FirstName, p.Age });<br><br>However I can't find the above code in the OrmLite tests anywhere and I can't find anywhere that uses UpdateOnly to update multiple columns of an existing object (with it's Id already populated).<br><br>What am I doing wrong?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 8:12:32 AM\n(edited Oct 28, 2014, 8:12:51 AM)","shortDate":"Oct 28, 2014","textHtml":"I've just added an UpdateOnly test with multiple columns in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/091dbd80e1eb9818677f37b0f38f89af07ef9327\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/091dbd80e1eb9818677f37b0f38f89af07ef9327</a><br><br>Which works as expected. So this issue may already be resolved in the latest release which you can check by trying the latest version on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>Otherwise if it's still an issue can you submit an issue with a repro at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 28, 2014, 8:30:35 AM\n(edited Oct 28, 2014, 8:32:49 AM)","shortDate":"Oct 28, 2014","textHtml":"I tried that exact syntax that you have in your code and I get:<br><br>A first chance exception of type 'System.InvalidOperationException' occurred in System.Core.dll<br>Additional information: variable 'p' of type 'GameServer.ServiceModel.DatabaseTypes.DatabaseUser' referenced from scope '', but it is not defined<br><br>(DatabaseUser is similar to the Person class in your code)<br><br>The following single column update works:<br>Db.UpdateOnly(existingUser, q =&gt; q.Name, q =&gt; q.Id == existingUser.Id);<br><br>I'm using 4.0.32 from nuget, do I need a later unreleased version to get it to work?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 8:34:35 AM","shortDate":"Oct 28, 2014","textHtml":"You can try the latest version that's on MyGet&nbsp;now, or wait till the next v4.0.33 version is released later today (hopefully in a few hours).﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 28, 2014, 8:42:50 AM","shortDate":"Oct 28, 2014","textHtml":"Thanks, I just tried 4.0.33 from MyGet and it has the same problem. I'll wait for the next release later today and see if that works.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 8:49:08 AM\n(edited Oct 28, 2014, 8:51:16 AM)","shortDate":"Oct 28, 2014","textHtml":"hmm that's unexpected, the MyGet version is only a couple of days old which I expected to have the same behavior as master. I'm pushing a new version of MyGet now (will let you know when it's finished deploying - takes about 15 mins).<br><br>What RDBMS are you using? I might need a small repro using&nbsp;DatabaseUser.﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 28, 2014, 8:54:28 AM","shortDate":"Oct 28, 2014","textHtml":"Cheers, I'm using MySql. If this next build doesn't work, I'll see about creating a small test project for you that reproduces the issue.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 8:59:18 AM","shortDate":"Oct 28, 2014","textHtml":"ok cool, MyGet just finished updating. You'll need to clear your NuGet package cache as well:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache</a><br><br>I've tried the test with MySql which also works. Yeah if it's still an issue I'd love a stand-alone repro.﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 28, 2014, 9:20:42 AM","shortDate":"Oct 28, 2014","textHtml":"Thanks, I don't think I fully updated to the previous 4.0.33 properly. I realised I needed to update all my projects, not just the one.<br><br>Now that I've fully updated to 4.0.33, there are some other exceptions I'm getting at the moment such as:<br><br>A first chance exception of type 'System.IndexOutOfRangeException' occurred in MySql.Data.dll<br>Additional information: Could not find specified column in results: InventorySubstances<br><br>Which is complaining about the following:<br><br>\t\t[Reference]<br>\t\tpublic List&lt;DatabaseInventorySubstance&gt; InventorySubstances { get; set; }<br><br>This is a reference though, so it shouldn't be looking for a column named InventorySubstances at all.<br><br>This code was working fine in 4.0.32. I'll keep investigating and see where I end up.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 9:36:58 AM","shortDate":"Oct 28, 2014","textHtml":"ok cool, also if you can put together a small stand-alone repro I can also take a look.﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 28, 2014, 10:07:02 AM","shortDate":"Oct 28, 2014","textHtml":"I'm going to have to call it a night, it's midnight here and I'm having problems reverting back to 4.0.32 and getting it to compile so that I have a base to work from. I'll pick it up again tomorrow and build a clean repro for you.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 10:29:41 AM\n(edited Oct 28, 2014, 10:30:06 AM)","shortDate":"Oct 28, 2014","textHtml":"ok thx, it looks like I'm going to be deploying today, so any updates will have to be available on MyGet and next release.﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 29, 2014, 3:20:09 AM","shortDate":"Oct 29, 2014","textHtml":"I've created a reproducible test project, boiled down from my main project. I've also narrowed it down much more.<br><br>The exception that is thrown is \"A first chance exception of type 'System.InvalidOperationException' occurred in System.Core.dll\"<br><br>I'd had my VS 2012 debugger set to break when the above exception was thrown, however if I don't break on the exception, then the data is saved correctly to the database and everything appears fine.<br><br>Perhaps that's why you haven't reproduce it, because it's a silent exception that doesn't fail any unit tests?<br><br>Let me know if you want my project source and let me know where I should send it. I'd prefer not to submit it here publicly if at all possible.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 29, 2014, 4:16:58 AM","shortDate":"Oct 29, 2014","textHtml":"Cool, yeah can you email it to demis.bellot@gmail.com﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 29, 2014, 5:06:23 AM","shortDate":"Oct 29, 2014","textHtml":"Cheers, you have mail :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 29, 2014, 6:47:14 AM","shortDate":"Oct 29, 2014","textHtml":"Awesome thx for the repro, fixed the NRE (caused by bad refactor) with&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/d8f6e1bc0e8eae97cd2d6c0f148649b5a949a4d5\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/d8f6e1bc0e8eae97cd2d6c0f148649b5a949a4d5</a><br><br>For removing the warnings I'm going to have to change how async support is built, I've added an async.cs shim so I could compile the Async API's in .NET 4.0, but this is causing warnings because it's a duplicate of the TaskAwaiters built into .NET 4.5.&nbsp;<br><br>Anyway you can preview the latest changes that's now on MyGet, you'll also have to clear your NuGet package cache first: &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet#clear-nuget-package-cache</a>﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 29, 2014, 6:48:40 AM","shortDate":"Oct 29, 2014","textHtml":"No worries! Thanks for the fast fix :)﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 29, 2014, 6:52:34 AM\n(edited Oct 29, 2014, 6:52:44 AM)","shortDate":"Oct 29, 2014","textHtml":"Just tested, latest 4.0.33 works great!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 29, 2014, 12:02:50 PM","shortDate":"Oct 29, 2014","textHtml":"Hi Cliff, I've ended up heavily refactoring OrmLite's async support where it's now only available in .NET 4.5 builds which lets me remove the async.cs shim which should now remove all the warnings you were getting before.&nbsp;<br><br>These changes are now available on MyGet if you want to check it out (you'll need to clear NuGet pkg cache).&nbsp;﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 29, 2014, 7:39:38 PM","shortDate":"Oct 29, 2014","textHtml":"Thanks Demis, the warnings are definitely fixed!<br><br>Unfortunately my unit tests now fail while trying to connect with the db.<br><br>SetUp : System.TypeLoadException : Declaration referenced in a method implementation cannot be a final method. &nbsp;Type: 'ServiceStack.OrmLite.MySql.MySqlDialectProvider'. &nbsp;Assembly: 'ServiceStack.OrmLite.MySql, Version=4.0.33.0, Culture=neutral, PublicKeyToken=null'.<br>&nbsp; &nbsp;at ServiceStack.OrmLite.MySqlDialect.get_Provider()<br><br>You can reproduce it on the 4.0.33 test project I sent you previously﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 30, 2014, 2:03:12 AM\n(edited Oct 30, 2014, 2:04:30 AM)","shortDate":"Oct 30, 2014","textHtml":"Hi, the issue is due to your project references pointing to the .NET 4.0 version of OrmLite.dll and NET 4.5 of OrmLite.MySql.dll.&nbsp;<br><br>The previous MyGet release .NET 4.5 of OrmLite.MySql.dll linked to ,NET 4.0 of OrmLite.dll, in this latest update there's now a .NET 4.5 version of OrmLite.dll that OrmLite.MySql links to instead - basically you just need to uninstall and reinstall OrmLite packages via NuGet which will change the project reference of OrmLite to use the .NET 4.5 version.﻿"},{"userId":"113081053374367245975","userName":"Cliff Cawley","date":"Oct 30, 2014, 8:38:04 AM","shortDate":"Oct 30, 2014","textHtml":"Ah excellent, that's fixed it! Thanks again Demis! :)﻿"}],"date":"Oct 28, 2014, 7:56:44 AM","shortDate":"Oct 28, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi,<br><br>Is there a way to get the URL for a Route without replacing the place-holders?<br><br>For the following RequestDto I want to get:&nbsp;\"/spaces/{spaceId}/analytics/users/{from}/{to}\"&nbsp;<br><br>[Route(\"/spaces/{spaceId}/analytics/users/{from}/{to}\", HttpMethods.Get)]<br>public class GetUsersAnalyticsPage : IReturn&lt;GetUsersAnalyticsPageResponse&gt;<br>{<br>\tpublic long From { get; set; }<br>&nbsp; &nbsp; public long To { get; set; }<br>&nbsp; &nbsp; public int SpaceId { get; set; }<br>}<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 11:14:58 PM","shortDate":"Oct 26, 2014","textHtml":"Yeah you can get it from the IRequest:<br><br>var routePath = base.Request.GetRoute().Path;﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Oct 27, 2014, 6:31:57 AM","shortDate":"Oct 27, 2014","textHtml":"Thank you Demis.<br><br>Is there a way to get it without being in the context of a request to the Route?<br><br>I need something similar to the ToGetUrl extension method since I need to pass these 'raw' routes to my client side app and handle&nbsp;URL substitutions there.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Oct 27, 2014, 6:52:21 AM","shortDate":"Oct 27, 2014","textHtml":"This seems to work<br><br>typeof(RequestDTOClassName).AllAttributes&lt;RouteAttribute&gt;()[0].Path﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 27, 2014, 7:02:24 AM","shortDate":"Oct 27, 2014","textHtml":"Yeah that's how you can query the Route attribute defined on the Request DTO, whereas `req.GetRoute()` returns the Route that was matched for the current request, it's only available on the Request and not statically.<br><br>FYI, you can also get metadata about each operation (inc Route info) with the /operations/metadata route, e.g:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/operations/metadata\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/operations/metadata</a><br><br>also available in other formats, e.g JSON:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/operations/metadata?format=json\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/operations/metadata?format=json</a>﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Oct 27, 2014, 7:32:20 AM","shortDate":"Oct 27, 2014","textHtml":"Thanks. I wasn't aware of the operations metadata endpoint.<br><br>There's always \"one more thing\" in SS :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 27, 2014, 7:37:30 AM","shortDate":"Oct 27, 2014","textHtml":"Yep no worries, it's linked from the bottom of the metadata page under <b>*Debug Info:*</b>﻿"}],"date":"Oct 26, 2014, 7:18:01 PM","shortDate":"Oct 26, 2014"},{"userId":"115383662936926386844","userName":"Onyultd","textHtml":"I have encountered a problem with the async functionality. When I await an async call within&nbsp;a service, the RequestScope objects within the Func container go out of scope and are reinstantiated on&nbsp;accessing them after the call. Is this to be expected? On inspection. System.Web.HttpContext.Current is also null.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 25, 2014, 12:56:26 PM","shortDate":"Oct 25, 2014","textHtml":"The HttpContext is not preserved for ThreadPool Tasks, see this answer for details:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/13558065/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/13558065/85785</a>﻿"},{"userId":"115383662936926386844","userName":"Onyultd","date":"Oct 26, 2014, 7:28:38 PM","shortDate":"Oct 26, 2014","textHtml":"Ah ok, thankyou﻿"}],"date":"Oct 25, 2014, 4:31:33 AM","shortDate":"Oct 25, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I would like to use AutoQuery, but I don't use ORMLite till now,&nbsp; and I need to create&nbsp; queries&nbsp; with dynamic SQL and parameters . I don't access directly tables or views in the SQL&nbsp; Server.&nbsp;&nbsp;<br>If I define POCOS, can I use ORMLite and AutoQuery for dynamic SQL ?<br>&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 9:06:01 PM","shortDate":"Oct 22, 2014","textHtml":"Don't know what you mean by dynamic SQL, if it refers to a feature documented in the wiki:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query</a><br>Yes, otherwise you'd to provide a more concrete example.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Oct 22, 2014, 9:15:14 PM\n(edited Oct 22, 2014, 9:21:09 PM)","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>I don't know ORMLIte.<br>Can we&nbsp; have&nbsp; an SQL statement&nbsp; like<br>List&lt;Dog&gt; =db.Select&lt;Dog&gt;(<br>(\"select&nbsp; Name from Dogs where&nbsp; Age =@Age\");<br>Can we use AutoQuery to provide the parameter values&nbsp; like /Dog?Age=9 ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 9:21:41 PM","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/117871506896850334672\" oid=\"117871506896850334672\">Stefan Tsalapatis</a></span>&nbsp;Right, but this is why we spend a lot of time to create docs so you can learn how to use them and what features are available:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite</a> and&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query</a><br><br>Yes, Ormlite handles custom SQL:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#typed-sqlexpressions-with-custom-sql-apis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#typed-sqlexpressions-with-custom-sql-apis</a><br>Custom queries can be created in AutoQuery with [QueryField] or implcit conventions see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query#customizable-adhoc-queries\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query#customizable-adhoc-queries</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Oct 22, 2014, 9:27:52 PM\n(edited Oct 22, 2014, 9:31:01 PM)","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;you are right, that I&nbsp; have not spent time to read&nbsp; all docs, because of work overload and because I use already other tools for this job.&nbsp;<br>When you say that in OrmLite&nbsp; \"one class is one table\"<br>I have misunderstood that the Person in the&nbsp; example of the custom SQL,&nbsp; must be a table in the SQL.&nbsp; Not a&nbsp; POCO , in service side, to get the results of&nbsp; the dynamic SQL statement.&nbsp;&nbsp; If this is correct, then I will be&nbsp; happy to use the ORMLite and AutoQuery.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 10:40:38 PM","shortDate":"Oct 22, 2014","textHtml":"You need to install the SqlServer NuGet package, e.g ServiceStack.OrmLite.SqlServer<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#download\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#download</a>﻿"}],"date":"Oct 22, 2014, 9:02:01 PM","shortDate":"Oct 22, 2014"},{"userId":"117419102482866616321","userName":"Stephen Patten","textHtml":"Hello,<br><br>I recently posted this question regarding RabbitMQRequestReplyTests in the ServiceStack project and was wondering if this behavior is by design.<br><br>Sooner or later I'm going to have to explain this to our operations people and would like to be able to clearly communicate the reason.<br><br><br>Regards,<br>Stephen﻿","comments":[],"date":"Oct 21, 2014, 10:38:50 AM","shortDate":"Oct 21, 2014"},{"userId":"108837195696109224948","userName":"Pawel Kasperek","textHtml":"Hello,<br>Now, I begin use ORMLite for Postgresql in my projects. I have problem with use custom fields (complex object in Postgres DB). I design my POCO ORMLite class fields with CustomField attribute. During insert data to database ORMLite generates SQL statement with cast custom field values to text, ex. INSERT INTO cars(name, &nbsp;owner) VALUES (\"ford\"::text, \"(John, Smith, 34)\"::text); where owner is complex type field in database. Of course during execute this SQL statement I have NpgsqlException about cast text to owner type doesn't exists. Could you be help me ?<br><br>Regards,<br>Pawel﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 16, 2014, 6:26:12 PM","shortDate":"Oct 16, 2014","textHtml":"Hi Pawel, you'll need to be careful when using Custom Fields that it doesn't impact how OrmLite API's work which provide a typed SQL/RDBMS-agnostic layer over each database. The typed API's do not expose any PostgreSQL-specific features, if you need to access underlying PostgreSQL features you'll likely need to use Custom SQL API's:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/#typed-sqlexpressions-with-custom-sql-apis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/#typed-sqlexpressions-with-custom-sql-apis</a>﻿"},{"userId":"108837195696109224948","userName":"Pawel Kasperek","date":"Oct 16, 2014, 6:38:47 PM","shortDate":"Oct 16, 2014","textHtml":"Thanks for response. I check that better solution could be overriden PostgresqlDialect class - creating custome Dialect. I know that custome complex types in PostgreSQL are specific features but maybe is possible excluded casting to text type of custom fields during generate SQL statement in ORMLite ?<br><br>Pawel﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 16, 2014, 6:47:22 PM","shortDate":"Oct 16, 2014","textHtml":"We're exploring adding Pgsql specific API's to OrmLite in future, tho it hasn't been possible for a while as it relied on the underlying Npgsql <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> library to add support required. You can add a feature request with your specific use-case so we can ensure it's considered when adding the new APIs:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Oct 17, 2014, 6:11:51 AM","shortDate":"Oct 17, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/108837195696109224948\" oid=\"108837195696109224948\">Pawel Kasperek</a></span>&nbsp;I did tried something similar as I needed to work with SpatiaLite (Spatial SQLite). I've ended up overriding DialectProvider, ExpressionVisitor and ConnectionFactory. Personally I find my solution tricky and don't think it's reliable enough but it worked for my very simple use case. You might want to have a look at the source&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://bitbucket.org/migajek/vfrplanner/src/f7666ab9055915fc81fd605ad1756cbeb487868a/Core/Utils/?at=default\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://bitbucket.org/migajek/vfrplanner/src/f7666ab9055915fc81fd605ad1756cbeb487868a/Core/Utils/?at=default</a>﻿"}],"date":"Oct 16, 2014, 6:18:28 PM","shortDate":"Oct 16, 2014"},{"userId":"116458944481004703771","userName":"Nick Karnik","textHtml":"Is it possible to define routes on the Service methods directly instead of a Request DTO? Sometimes I have simple things like \"/api/locations\" and don't need a Request DTO.<br><br>Something like&nbsp;<br>[Route(\"/locations\")]<br>&nbsp; &nbsp; &nbsp; &nbsp; public IEnumerable&lt;Location&gt; Get()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>return ...<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>Although, the above doesn't work for me. So, I was wondering what else I could do to avoid creating a request DTO. Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 12, 2014, 2:48:37 PM\n(edited Oct 12, 2014, 2:57:39 PM)","shortDate":"Oct 12, 2014","textHtml":"No. This is against the core design in ServiceStack, every Service is identified by a uniquely named Request DTO which defines the Services external facing Service Contract, used by the metadata services, typed service clients, what behavior gets attached to, etc.<br><br>Just use an empty DTO:<br><br>[Route(\"/locations\")]<br>public class GetLocations {}﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Oct 12, 2014, 3:05:29 PM","shortDate":"Oct 12, 2014","textHtml":"Thanks, make sense. It does seem counter productive when there are 50 empty classes to support static routes without parameters.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 12, 2014, 3:08:52 PM\n(edited Oct 12, 2014, 3:11:23 PM)","shortDate":"Oct 12, 2014","textHtml":"Do you really have 50 static routes? Can they be combined into more coarse-grained cohesive services? Are these routes for HTML pages? in which case you don't need a service at all and can call the Razor pages directly and retain a pretty route, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net/#no-ceremony\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net/#no-ceremony</a>﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Oct 12, 2014, 3:28:39 PM","shortDate":"Oct 12, 2014","textHtml":"These routes are strictly API only.<br><br>Think about a location table. A LocationRequest DTO can handle the basic CRUD operations which means GET maps to something like GetLocationById.<br><br>Now, when I need to support GetAllLocations, I cannot use the same DTO as the GET route is already mapped to GetLocationById. So, I end up with another DTO called AllLocationsRequest which maps to GetAllLocations.<br><br>An alternative is to do some route lookups in the service method, but that starts to get messy sometimes. The separate DTO's keeps it clean.<br><br>Another alternative is to use URL parameters to do the filtering, so essentially the GET route could be '/api/locations' and using url params we could look for something like ID=1. Again, that requires us to check for several conditions to see which parameters are passed in.<br><br>The separate DTO route keeps it very simple.<br><br>Is there a recommended way of handling these operations using the Location table above as an example? Thanks.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 12, 2014, 3:39:24 PM","shortDate":"Oct 12, 2014","textHtml":"Here's some info on desigining more coarse-grained API's:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/15941229/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/15941229/85785</a><br>In this case I would have a single Service called Find or 'SearchLocations' where every parameter filters the result set, and no filters returns all locations. You may also be able to use AutoQuery and avoid having to write the Service impl at all:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Auto-Query</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 13, 2014, 5:27:04 AM","shortDate":"Oct 13, 2014","textHtml":"In the same boat actually - our request DTO count is quite high, and never seem to have the time to find a better way to consolidate.﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Oct 14, 2014, 12:53:14 AM","shortDate":"Oct 14, 2014","textHtml":"Thanks for the design tips!﻿"}],"date":"Oct 12, 2014, 2:40:23 PM","shortDate":"Oct 12, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Is there an example online showing how Enums and/or Flags are persisted with OrmLite? &nbsp;I won't have a chance to experiment for a few days, but I'd like to finish a design. &nbsp;This would help a great deal.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 8, 2014, 8:10:37 PM\n(edited Oct 8, 2014, 8:11:13 PM)","shortDate":"Oct 8, 2014","textHtml":"With [Flags] it's persisted as an integer (Enum Value) otherwise it's persisted as a string (Enum Value Name).﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 9, 2014, 5:10:54 AM","shortDate":"Oct 9, 2014","textHtml":"Nice!﻿"}],"date":"Oct 8, 2014, 8:02:44 PM","shortDate":"Oct 8, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Has anyone found a way to trigger Razor (content) pages to reload while running in release mode? &nbsp;If there is a command that can load them, I can create a wrapper service. &nbsp; Would like to be able to save new cshtml changes without restarting the app.. &nbsp;Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 7, 2014, 12:38:02 PM\n(edited Oct 7, 2014, 1:51:56 PM)","shortDate":"Oct 7, 2014","textHtml":"You want to explicitly set: Plugins.Add(new RazorFormat { EnableLiveReload = true }); which is enabled &nbsp;by default when in DebugMode.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 7, 2014, 2:19:59 PM","shortDate":"Oct 7, 2014","textHtml":"Excellent ! &nbsp;&nbsp;Thank you﻿"}],"date":"Oct 7, 2014, 6:11:39 AM","shortDate":"Oct 7, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"Hi - I want to use ember simple auth and servicestack auth. I have managed to get it working with credentials but have no idea how I would get something like this working with facebook auth. what is the recommended method for client side libraries like this to do auth? Would I have to scrap the facebook auth provided by SS and auth on the client? what happens then? how does the API know the client is authed? Are there any blog posts or anything I can read? &nbsp;﻿","comments":[{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Oct 3, 2014, 9:57:53 AM","shortDate":"Oct 3, 2014","textHtml":"Hi Wayne,<br>Take a look at a sample app <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/SocialBootstrapApi\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/SocialBootstrapApi</a><br><br>This sample uses social login like Twiter, Facebook. There's also a page that explains how to use social login. Authentication and Authorization. ﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Oct 3, 2014, 10:00:00 AM","shortDate":"Oct 3, 2014","textHtml":"HI Kebin &nbsp;-we have a HTML website iwth all of the auth providers working - we are thinking about switching to an SPA application - this works entirely different﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Oct 3, 2014, 10:03:30 AM","shortDate":"Oct 3, 2014","textHtml":"I'm not sure why this would be any different for spa? Socialbootstrap is pretty much the combination of spa and mvc.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 3, 2014, 12:10:01 PM","shortDate":"Oct 3, 2014","textHtml":"It's no different for a SPA app, you need to redirect to the OAuth provider to login before redirecting back to your app. The following Live Demos have examples of this:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://chat.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://chat.servicestack.net/</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://httpbenchmarks.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://httpbenchmarks.servicestack.net/</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://bootstrapapi.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://bootstrapapi.servicestack.net/</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://mvc.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mvc.servicestack.net/</a><br><br>The docs for Http Benchmarks explains this in detail:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/HttpBenchmarks#authentication\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/HttpBenchmarks#authentication</a>﻿"}],"date":"Oct 3, 2014, 9:20:20 AM","shortDate":"Oct 3, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi Demis,<br><br>Any plans to update the MiniProfiler and Dapper to their latest versions?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 29, 2014, 10:47:31 AM","shortDate":"Sep 29, 2014","textHtml":"I can update Dapper but not the modified MiniProfiler.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 29, 2014, 11:14:28 AM","shortDate":"Sep 29, 2014","textHtml":"I've just updated Dapper, but I've stripped out its `DataTable` support which would've forced an extra dep to System.Xml.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 29, 2014, 11:24:53 AM","shortDate":"Sep 29, 2014","textHtml":"Wait? Where is Dapper located? Dapper is apart of SS?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 29, 2014, 11:30:15 AM","shortDate":"Sep 29, 2014","textHtml":"It's in OrmLite under the ServiceStack.OrmLite.Dapper namespace﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 29, 2014, 11:31:44 AM","shortDate":"Sep 29, 2014","textHtml":"Wow. I guess I don't need to have Dapper in my own classes now.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 29, 2014, 11:32:07 AM","shortDate":"Sep 29, 2014","textHtml":"I'm using Dapper directly with SS-Without OrmLite use.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Sep 29, 2014, 11:36:34 AM","shortDate":"Sep 29, 2014","textHtml":"Thank you Demis. I was having an issue using Dapper so this is good news. I understand that updating the MiniProfiler may be difficult due to your improvements. I was asking because it would be really useful to have the client-side javascript profiling support for Razor views.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 29, 2014, 11:49:39 AM","shortDate":"Sep 29, 2014","textHtml":"Yep, tho the latest Dapper update is a breaking change as I used to rename `Query` to `Dapper` so it didn't conflict with OrmLite's v3 `Query` when used together, because in v4 we no longer use `Query` I'm going to leave it Dapper's original APIs as-is. As for updating MiniProfiler that's going to be a losing battle, I think the long-term solution is to pull it out of SS as an external package and spend time integrating it with the MiniProfiler master repo. You can add a feature request to see how much interest there is in doing this:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Sep 29, 2014, 12:24:54 PM","shortDate":"Sep 29, 2014","textHtml":"Done. Thanks!﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 7, 2014, 6:14:27 AM","shortDate":"Oct 7, 2014","textHtml":"I'm curious to hear how you guys are using Dapper? &nbsp;Is it mainly for extra features SS OrmLite doesn't offer? &nbsp;I had been using it before I discovered SS but moved most to OrmLite.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Oct 7, 2014, 7:35:35 AM","shortDate":"Oct 7, 2014","textHtml":"Yes, I'm using it to do multiple queries.&nbsp;<br><br>&nbsp;string query =@\"SELECT COUNT(*) FROM TABLEA<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SELECT COUNT(*) FROM TABLEB\";<br>&nbsp; &nbsp; using (var multi = connection.QueryMultiple(query, null))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; int countA = multi.Read&lt;int&gt;().Single();<br>&nbsp; &nbsp; &nbsp; &nbsp; int countB = multi.Read&lt;int&gt;().Single();<br>&nbsp; &nbsp; } &nbsp; &nbsp;&nbsp;<br><br>Is this possible with OrmLite?﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 7, 2014, 7:46:09 AM","shortDate":"Oct 7, 2014","textHtml":"Interesting. &nbsp;In SS 3.9 I had added some of my own tweaks to return generic lists with custom queries that I miss now that I'm on 4.x (and don't want to maintain), but you might have shown me a way to get something going via Dapper. &nbsp;I'll check it out.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/19390196/using-a-listdictionarystring-string-with-servicestack-ormlite-sqllist\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/19390196/using-a-listdictionarystring-string-with-servicestack-ormlite-sqllist</a>﻿"}],"date":"Sep 29, 2014, 6:05:32 AM","shortDate":"Sep 29, 2014"},{"userId":"116458944481004703771","userName":"Nick Karnik","textHtml":"Other than prefixing every DTO Route with \"/api\", what is the best way to configure SS to serve static content from root (\"/\") and service endpoints from (\"/api\")? Should I do a url rewrite on the RawHttpHandler? If yes, how would I do that?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 26, 2014, 2:05:06 AM","shortDate":"Sep 26, 2014","textHtml":"If you want ServiceStack to serve the static content (i.e. instead of the underlying <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> WebApp) than you would need to prefix routes with `/api`, but this can be automated for all routes with:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Routing#customizing-defined-routes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Routing#customizing-defined-routes</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 26, 2014, 2:12:08 AM","shortDate":"Sep 26, 2014","textHtml":"This is pretty sweet feature. I didn't know this was available. When was this added?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 26, 2014, 2:19:22 AM","shortDate":"Sep 26, 2014","textHtml":"Going to guess and say towards the start of the year :)﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Sep 26, 2014, 3:10:44 AM","shortDate":"Sep 26, 2014","textHtml":"Thanks! For Auth, I had to do the following:<br><br>&nbsp;var routes = authFeature.ServiceRoutes;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(var route in routes) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(int i = 0; i &lt; routes[route.Key].Count(); i++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; routes[route.Key][i] = \"/api\" + routes[route.Key][i];<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>For other plugins, I was able to set the service path in the constructor parameters.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 5, 2014, 12:53:42 PM","shortDate":"Oct 5, 2014","textHtml":"That's awesome - wish I had noticed this months ago!﻿"}],"date":"Sep 26, 2014, 1:59:17 AM","shortDate":"Sep 26, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"MVC + ServiceStack + angularjs<br><br>My MVC web site serves various <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> MVC pages using controllers etc. just like a normal MVC site, and it is also configured with custom error pages (i.e. for 401. 404, 500), but HandleErrorAttribute is removed.<br><br>From my angularjs app I am calling SS services on the same site (in the /api) location.<br><br>Unfortunately,&nbsp;for some reason, that I just cannot work out, when my SS service throws an HttpException for a 401, <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> is redirecting the angular client to a login page that does not exist in my site. This is useful behavior for the MVC app (even though I cant figure out what is doing it for me). BUT the angular client cannot handle this 302 redirect. It just wants to get the 401 without any redirect.<br><br>I found this reference: from Wayne&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/0f1543562893865ca1c81c1898f6aeb85f929521\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/0f1543562893865ca1c81c1898f6aeb85f929521</a><br><br>But cant get that configured to work on my site (in web.config).<br><br>Besides which, the Request.IsAjaxRequest thing does not seem to work for angular clients.<br><br>I know this is an age-old problem, can someone give me guidance on how to fix it?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 25, 2014, 10:53:14 AM","shortDate":"Sep 25, 2014","textHtml":"Can you post the HTTP Request + Response headers that's showing the redirect using WebInspector.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Sep 25, 2014, 4:39:03 PM","shortDate":"Sep 25, 2014","textHtml":"K, have learned some more. 1) angular no longer sends the necessary  ajax headers (X-Requested- With=XMLHTTPREQUEST) in its requests (they removed it as an optimization - must be some anti-microsoft customer sentiment), so that Request.IsAjaxRequest cannot work. 2) it seems that the Mvc.AuthorizeAttribute might be the mechanism that is doing the actual redirecting to login page with a 302. I definatley have that attribute in use in my MVC app.<br><br>I can work around the first issue by implmenting my own IsApiRequest (instead of IsAjaxRequest)  by looking at the Request path. In other words, if the request is for a service api hosted at /api, then I must  should not redirect.<br><br>Now I need to decode what Mvc.AuthorizeAttribute does to do the redirect and stop/workaround that happening for calls to /api. ﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Sep 25, 2014, 5:03:13 PM","shortDate":"Sep 25, 2014","textHtml":" Update: just found the mechanism that is doing the actual redirect to login page /Account/Login. It is not the AthorizeAttribute at all as I thought. Its down to a piece of code in: App_Start.Auth =&gt; ConfigureAuth, that does the actual redirect. <br>I found the correct path forward from this great article: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.codeproject.com/Articles/806029/Getting-started-with-AngularJS-and-ASP-NET-MVC-Par\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.codeproject.com/Articles/806029/Getting-started-with-AngularJS-and-ASP-NET-MVC-Par</a>, and fortunately for me more knowledge on how to handle 401's in general from an angular app.<br><br>I am good from here. thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 25, 2014, 5:33:45 PM","shortDate":"Sep 25, 2014","textHtml":"ok brilliant, glad its sorted.﻿"}],"date":"Sep 25, 2014, 2:05:05 AM","shortDate":"Sep 25, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"Is there a plan to add SSL support to Redis Client? I really need it to connect to Azure Redis Cache.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 21, 2014, 10:21:59 AM","shortDate":"Sep 21, 2014","textHtml":"Azure Cache supports non-ssl connections as well:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://msdn.microsoft.com/en-us/library/azure/dn690470.aspx#sectionSection1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://msdn.microsoft.com/en-us/library/azure/dn690470.aspx#sectionSection1</a>﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 21, 2014, 12:38:09 PM","shortDate":"Sep 21, 2014","textHtml":"Yes, I'm already using it with ServiceStack and it works perfectly. The problem is that I'd like to encrypt data between API and Azure Redis for security reason.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 21, 2014, 1:30:24 PM\n(edited Sep 21, 2014, 1:33:17 PM)","shortDate":"Sep 21, 2014","textHtml":"Doesn't Azure protects services via firewall already like AWS Security Groups? i.e. so only your App Server or dev server allows a physical connection to the redis server?<br>You can record your interest to vote up this feature request:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/6093693-support-ssl-connection-to-redis-instances-hosted-a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/6093693-support-ssl-connection-to-redis-instances-hosted-a</a> - I'll look into possible solutions soon.&nbsp;﻿"}],"date":"Sep 21, 2014, 4:11:41 AM","shortDate":"Sep 21, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"I couldn't find any mention of this in the servicestack docs (though I might have missed something somewhere), so I figured I'd ask.<br><br>Does ServiceStack have support for async services? I.e services that use async/await and return Task&lt;ResponseDto&gt; instead of normal plain ResponseDto's?﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 18, 2014, 2:08:31 AM","shortDate":"Sep 18, 2014","textHtml":"Yeah it supports it... Here's the link...<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/C%23-client#using-the-new-api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/C%23-client#using-the-new-api</a>﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 18, 2014, 2:18:34 AM","shortDate":"Sep 18, 2014","textHtml":"Also tests showing examples here.<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AsyncTaskTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AsyncTaskTests.cs</a>﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Sep 18, 2014, 2:20:12 AM","shortDate":"Sep 18, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110442811540426884982\" oid=\"110442811540426884982\">Darren Reid</a></span> Ah! That's the one I was looking for! Thanks :)﻿"}],"date":"Sep 18, 2014, 1:58:39 AM","shortDate":"Sep 18, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, is there some way I can use the AppSettings to get some keys with wildchar? for example I've some widget:numRows:xxx<br><br>I wish to tak all the widget:numRows: .... I've tried using&nbsp;<br><br>&nbsp;var items = appSettings.GetList(\"widget:rowLimit:*\");<br>but with no luck....<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 17, 2014, 12:12:39 PM","shortDate":"Sep 17, 2014","textHtml":"No that's not supported, you can add a feature request for an additional API to retrieve all keys: <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"}],"date":"Sep 17, 2014, 12:02:48 PM","shortDate":"Sep 17, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis... I have got some problem in serializing exceptions on silverlight client... sinceramente there's some code I ve poste on servicestack <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/25847610/handling-servicestack-exception-on-silverlight-in-the-right-way\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/25847610/handling-servicestack-exception-on-silverlight-in-the-right-way</a> ... Can you please Tell me what am I doing wrong? Thanks﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 15, 2014, 5:36:56 PM","shortDate":"Sep 15, 2014","textHtml":"Commented on your SO question, the only thing that looks odd straight away is the Uri being constructed with '../api/', see other comments on SO.﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Sep 16, 2014, 1:39:33 PM","shortDate":"Sep 16, 2014","textHtml":"FYI I have response to your question in the stack overflow﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 16, 2014, 6:23:15 PM","shortDate":"Sep 16, 2014","textHtml":"Cheers, I'll have a look at the project﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 18, 2014, 5:24:54 AM","shortDate":"Sep 18, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp; I've posted my own question in reply to your suggestion in SO...﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Sep 18, 2014, 8:29:44 AM","shortDate":"Sep 18, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105956167967297879956\" oid=\"105956167967297879956\">paolo ponzano</a></span>&nbsp;The anwser as been updated﻿"}],"date":"Sep 15, 2014, 4:53:59 PM","shortDate":"Sep 15, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Demis a question about ServiceEvents... I've a page in Asp.Net that subscribe for events when a user performs a particular action... the same user can perform this action again during the applicationlife (contextualizing some products) , I've seen that on the server that there're 2 subscribers (I'm the only one developing it so it re-adds another subscriber on refresh)<br><br>What should I do to avoid it? &nbsp;Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 12, 2014, 10:53:02 AM","shortDate":"Sep 12, 2014","textHtml":"In short this is how it works. Each time you load a page and call $().handleServerEvents() a new subscription is registered representing the active connection. If you're authenticated then you will have multiple subscriptions sharing the same userId. One way to minimize it is to avoid reloading the page if you can, i.e. by using Ajax.<br><br>The subscriptions themselves are managed by periodic heartbeats and auto unregistering events fired when the browser navigates away from the page. Sometimes when a window is closed the autounregistering event isn't fired, so it falls back to heartbeats to tell if the connection is alive, because there is no way on the server to tell if the browser still maintains an active connection, i.e. it still lets you write to the response without error.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 12, 2014, 11:15:21 AM","shortDate":"Sep 12, 2014","textHtml":"I'm taking a look at this since w3wp get stucked after some test usage on refresh/subscription actions... I don't know if it's a servicestack problem or of the KendoUI Autocomplete...﻿"}],"date":"Sep 12, 2014, 10:20:46 AM","shortDate":"Sep 12, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I'm taking a look, but is the Custom class created for &nbsp;CredentialsAuthProvider. Is this static or a specific instance per request? The reason I ask, is that the TryAuthenticate is the location where I get back if login is success via a UserProfile object I get back in a base class that I call.<br><br>I want to set session properties on my CustomSession class, but not in the TryAuthenticate method, but rather the&nbsp;OnAuthenticated method instead like it should be.<br><br>I was thinking of adding a Private member to the CustomAuthProvider class that I can set the UserProfile property in the TryAuthenticate method , then pick it backup in the OnAuthenticated method, then set the CustomSession with what I want.﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 11, 2014, 1:47:47 PM","shortDate":"Sep 11, 2014","textHtml":"I looked at base code for ServiceStack. I guess I can set the Custom Session in TryAuthenticate if wanted too.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 4:16:11 PM\n(edited Sep 11, 2014, 4:16:29 PM)","shortDate":"Sep 11, 2014","textHtml":"The AuthProviders are singletons.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 12, 2014, 11:21:24 AM","shortDate":"Sep 12, 2014","textHtml":"Okay, I must set the Session in the TryAuthenticate then if I want it to work correctly. Thanks.﻿"}],"date":"Sep 11, 2014, 11:17:40 AM","shortDate":"Sep 11, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Does RequiredRole only work on the DTOs themselves? Can yo use them on the Service and/or Service methods? I tried to use it on the service and it doesn't seem to restrict it.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 11:46:27 PM","shortDate":"Sep 10, 2014","textHtml":"There's a test that works when it's on the Service:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AuthTests.cs#L594\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AuthTests.cs#L594</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 10, 2014, 11:58:30 PM","shortDate":"Sep 10, 2014","textHtml":"Is there something I need to enable in configure like a feature? I'm already using the ormliterepository with the auth feature.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 12:01:05 AM","shortDate":"Sep 11, 2014","textHtml":"How did you assign the role to the user?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 12:14:14 AM","shortDate":"Sep 11, 2014","textHtml":"I haven't assigned the role yet. So the user should not have access to the service but the user still gets into the services.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 12:32:54 AM","shortDate":"Sep 11, 2014","textHtml":"I've added new tests, testing a role with an Authenticated Users with and without the required role and it works as advertised:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/f04b9e8f217ffc94059d8967d64adecf26f59158\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/f04b9e8f217ffc94059d8967d64adecf26f59158</a><br><br>Going to create a project to test with OrmLite Auth which I expect to work as well. In the meantime can you prepare a small stand-alone project so I can repro.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 2:12:06 AM","shortDate":"Sep 11, 2014","textHtml":"Im still debugging, but it appears as though it calls into IManagedRole.HasRole(RoleNames.Admin) and is returning true even though my user isn't an admin (though the user name is called admin). Also I should of mentioned earlier that I'm on 4.0.15.0﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 2:31:32 AM","shortDate":"Sep 11, 2014","textHtml":"Ok I've isolated it to the call into&nbsp;OrmLiteAuthRepository.HasRole is returning true when it should be returning false. I can't seem to set it up to debug into servicestack source so I'm not sure why it's happening yet.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 2:40:46 AM","shortDate":"Sep 11, 2014","textHtml":"Finally I've isolated the issue... Apparently the user was in the Admin role in the UserAuthRole table but it's roles property on the AuthUserSession was not populated. Any thoughts on why the Roles for the user would be out of sync?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 2:54:12 AM","shortDate":"Sep 11, 2014","textHtml":"Ok I've enabled OrmLiteUserAuth to the test project in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/commit/bf5698d26c46ca58a13fee5c66ffbc3d42e28d26\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/commit/bf5698d26c46ca58a13fee5c66ffbc3d42e28d26</a><br><br>The /login page lets you login with 2 users test/test which has the required role and test2/test2 which doesn't have the role. Clicking on /requires-role if you have the role will return a Response DTO with \"Haz Access!\" whilst accessing it with test2 will redirect back to the /login page since they don't have access.<br><br>Both scenarios work as advertised, both the default behavior of blobbing roles with UserAuth and when using distinct user tables. I've not been able to reproduce your issue, you're going to have to submit a stand-alone repro project or test case for me to continue on. Please do this in future as it's becoming hard to try guess what the issue is by trying to guess and recreate your environment.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 2:59:10 AM\n(edited Sep 11, 2014, 3:03:32 AM)","shortDate":"Sep 11, 2014","textHtml":"Yes the 'Admin' role gives you super user access which will let you access all protected services and areas. It shouldn't get out of sync when using OrmLiteUserAuth as it will always hit the db to check if the user has the required role or not.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 11:03:37 AM","shortDate":"Sep 11, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Yup I can see that it eventually goes out to the db to check if the role exists, but why isn't the session.Roles not already populated with the user's list of roles?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 3:57:01 PM\n(edited Sep 11, 2014, 3:57:16 PM)","shortDate":"Sep 11, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span> uhm I wasn't pointing out an issue in ServiceStack I was trying to get insight into the way ServiceStack handles roles and the user session. I'm still unsure as to why roles are not populated? Are they not populated because I have UseDistinctRolesTable enabled? And as a result I should never rely on session.Roles? This is what's unclear (for me) in the wiki.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 4:08:04 PM","shortDate":"Sep 11, 2014","textHtml":"The session.HasRole()/HasPermission() are the public APIs to check if a user has Roles/Permissions.&nbsp;The session.Roles/Permissions is used for AuthProviders which blob the Roles/Permissions with the user. The OrmLiteAuthProvider maintains the Roles/Permissions it in RDBMS tables which it looks at every time.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 11, 2014, 4:10:57 PM","shortDate":"Sep 11, 2014","textHtml":"So my assumptions are correct. Roles/Permissions on the session are not populated when UseDistinctRolesTable is enabled (aka OrmLiteAuthProvider takes over). Thanks you so very much Demis! My apologies if I caused any frustrations with this post.﻿"}],"date":"Sep 10, 2014, 10:21:34 PM","shortDate":"Sep 10, 2014"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","textHtml":"Authentication using the C# JsonServiceClient and its \"OnAuthenticationRequired\" hook works very well with a third party API that I need to use from my Xamarin client.<br><br>However, the API expires the WRAP authentication token after some time and when my client tries to access the API after the expiration date the calls naturally fail with a 401 response. Unfortunately, though, the API doesn't send a \"WWW-Authenticate\" header back after the token has expired which in turn causes my \"OnAuthenticationRequired\" handler not to be called, resulting in all kinds of problems.<br><br>While the API doesn't send a \"WWW-Authenticate\" header along with the 401 they do send a custom header \"X-Authentication-Error\" with a value of \"TokenExpired\", so I do have something to go by which indicates to the client what happened.<br><br>In order to be able to respond to the token expiration and request a new one from the server I am looking for a hook somewhere in the C# service client which would allow me to respond to such a 401 response that contains a custom header. Unfortunately I was unable to find such a hook even after searching for several hours so any hints anyone could provide would be much appreciated. Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 1:45:36 PM","shortDate":"Sep 10, 2014","textHtml":"Hi Hardy, OnAuthenticated should still be fired for 401 Unauthorized responses even if there was no WWW-Authenticate header see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/ServiceClientBase.cs#L497-L512\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/ServiceClientBase.cs#L497-L512</a><br><br>One way it wouldn't get fired is if you didn't have a Username/Password set on the Service Client?﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"Sep 14, 2014, 6:39:58 AM","shortDate":"Sep 14, 2014","textHtml":"Thanks for your quick reply, Demis. User name and password are set so I don't know what was happening there. Regardless, I implemented a different approach now where instead of relying on the auth token I store and use the auth cookies that are being sent with each API response. This seems to work fine and allows me to avoid the problem with the expiring auth token entirely.﻿"}],"date":"Sep 10, 2014, 11:58:24 AM","shortDate":"Sep 10, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"The example here for the Custom AuthProvider isn't correct now. As of 4.0.0.22+? the OnAuthenticated now returns IHttpResult.<br><br>Small fix needed<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization</a><br><br>I just returned null at the end of this method after the upgrade.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 9, 2014, 1:37:20 PM","shortDate":"Sep 9, 2014","textHtml":"Fixed, thx for reporting.﻿"}],"date":"Sep 9, 2014, 10:02:20 AM","shortDate":"Sep 9, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"All in the new &nbsp; v4.0.31 are fantastic, especially ServerEvents&nbsp; redis&nbsp; back-end and the&nbsp; C# client.&nbsp;&nbsp; I like also a lot the AppSettings.&nbsp;&nbsp;&nbsp; My question is if&nbsp; we are allowed to use AppSettings in client-side, in the free&nbsp; assemblies.&nbsp; For example,&nbsp; I want to have a web service&nbsp; to return each&nbsp; client configuration as a file after&nbsp; succesful authentication.&nbsp; Then in client to read /write the&nbsp; configuration and eventually post back the updated&nbsp;&nbsp; config file.&nbsp;&nbsp; Can we use AppSettings in the client interface&nbsp; ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 4, 2014, 1:20:20 PM","shortDate":"Sep 4, 2014","textHtml":"Yeah the AppSettings implementations are in ServiceStack.dll which can be freely use on the client as they're not part of the free-quota's.﻿"}],"date":"Sep 4, 2014, 4:05:49 AM","shortDate":"Sep 4, 2014"},{"userId":"115683278813749836094","userName":"Daniel Halan","textHtml":"Is it possible to apply custom serialization/deserialization of Classes with ServiceStack.Text, without using the [DataContract] attribute? either on Properties or complete objects (ToString/ParseJson)﻿","comments":[{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Aug 30, 2014, 1:50:38 PM","shortDate":"Aug 30, 2014","textHtml":"Yep.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text#custom-serialization-routines\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text#custom-serialization-routines</a>﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Sep 4, 2014, 11:40:03 PM","shortDate":"Sep 4, 2014","textHtml":"Thanks, also guessing there is no alternative to Attribute-level name-changing (ie DataContract) ? as DataContracts are all or nothing, which is not convenient to use in a Base class﻿"}],"date":"Aug 30, 2014, 1:01:42 PM","shortDate":"Aug 30, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hi,<br>I'm trying to use OrmLite to replace some places where I am using Entity Framework. &nbsp;I would like to use this example which I found on the OrmLite page.<br><br>Person personByAge = db.Single&lt;Person&gt;(x =&gt; x.Age == 42);<br><br>But I get this compile time error: \"Cannot convert lambda expression to type 'ServiceStack.OrmLite.SqlExpression&lt;Person&gt;' because it is not a delegate type\" &nbsp;<br><br>What am I doing wrong?<br><br>Thanks,<br>Zoran﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 5:27:42 PM","shortDate":"Aug 29, 2014","textHtml":"Can't tell from here, it works perfectly fine in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/ApiSqlServerTests.cs#L47\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/ApiSqlServerTests.cs#L47</a><br><br>Do you have any dll reference issues?﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Aug 29, 2014, 5:53:16 PM","shortDate":"Aug 29, 2014","textHtml":"I have the same using statements and I reference all SS dlls. &nbsp;What is more odd is that the db.Update&lt;Person&gt;(person, p =&gt; p.ID == 50); has the same signature and there I don't get a compile time error.<br><br>I am on version 4.0.17.0. &nbsp;Is it possible that this issue is tied to the SS version?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 6:05:36 PM\n(edited Aug 29, 2014, 6:11:50 PM)","shortDate":"Aug 29, 2014","textHtml":"I doubt it's a v4.0.17 issue, those Api tests existed long before v4.0.17 was released.﻿"}],"date":"Aug 29, 2014, 4:58:02 PM","shortDate":"Aug 29, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"Today we've updated our project to v4.0.30 and we're facing issues with our Locked account logic. We had overridden the&nbsp;AssertNotLocked method in our custom provider, but now in last release locked out logic is \"hardcoded\" in ValidateAccount method:<br>\" var isLocked = userAuth.LockedDate != null;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (isLocked)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return authService.Redirect(session.ReferrerUrl.AddHashParam(\"f\", \"AccountLocked\"));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }\"<br><br>Why this? Can't ValidateAccount still call the AssertotLocked method in order to being able to override its logic without having to override the whole ValidateAccount method?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 26, 2014, 11:01:03 AM","shortDate":"Aug 26, 2014","textHtml":"AssertNotLocked throws an error, whereas ValidateAccount returns a custom response redirect. It was added because it was requested that Account Locking apply to all AuthProviders (i.e. not just CredentialsAP). I'll remove AssertNotLocked and make a smaller overridable API like IsAccountLocked() that you can override instead.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Aug 26, 2014, 11:05:48 AM","shortDate":"Aug 26, 2014","textHtml":"Yes, IsAccountLocked() is a perfect solution! &nbsp;Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 26, 2014, 12:06:27 PM","shortDate":"Aug 26, 2014","textHtml":"Hey Ivan, I've made the suggested change in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/8177265e5f77c73291bf745fb2865098bb6d4dc2\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/8177265e5f77c73291bf745fb2865098bb6d4dc2</a><br>Which has now been deployed to MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>v4.0.31 is expected to be on NuGet early next week.﻿"}],"date":"Aug 26, 2014, 10:44:38 AM","shortDate":"Aug 26, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Quick question about bundler... What do most people do with libraries? Are they included in the .bundle file or referenced separately? Also if they are included I assume you reference the non minified version? I'm just looking for best practices for the third party libs (like angularjs for example).﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 20, 2014, 7:52:56 PM","shortDate":"Aug 20, 2014","textHtml":"I'd reference them separately, for Internet websites you may also consider referencing them from a CDN as users will normally have it in their cache.&nbsp;﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 20, 2014, 7:53:58 PM","shortDate":"Aug 20, 2014","textHtml":"Thanks Demis!﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 20, 2014, 9:07:56 PM","shortDate":"Aug 20, 2014","textHtml":"Implemented bundler. Works great. Very easy to use! Love the simplicity of ServiceStack!﻿"}],"date":"Aug 20, 2014, 7:43:04 PM","shortDate":"Aug 20, 2014"},{"userId":"106953515973464470098","userName":"Chris Gilligan","textHtml":"Your pricing page is down again in case you did not realize.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 18, 2014, 6:59:11 AM","shortDate":"Aug 18, 2014","textHtml":"ok thx for reporting Chris.﻿"}],"date":"Aug 17, 2014, 9:24:21 PM","shortDate":"Aug 17, 2014"},{"userId":"103412633898810098016","userName":"Paradise Boite","textHtml":"I have a question about&nbsp; &nbsp;ServiceStack.FluentValidation.SetCollectionValidator<br>it never throw exception when my collection is null .﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 15, 2014, 1:13:33 PM","shortDate":"Aug 15, 2014","textHtml":"Can you please open up a new issue at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> and include the code you're using.﻿"},{"userId":"103412633898810098016","userName":"Paradise Boite","date":"Aug 16, 2014, 3:12:37 AM","shortDate":"Aug 16, 2014","textHtml":"Thank you,Demis Bellot.﻿"}],"date":"Aug 15, 2014, 12:43:09 PM","shortDate":"Aug 15, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What's the best way to clear the Id in the DTO before sending it back to the client? &nbsp;Need to do this for every request.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 14, 2014, 7:17:20 PM\n(edited Aug 14, 2014, 7:17:39 PM)","shortDate":"Aug 14, 2014","textHtml":"Have them share an interface like&nbsp;IHasIntId and use a typed response filter, e.g:<br><br>RegisterTypedResponseFilter&lt;IHasIntId&gt;((req, res, dto) =&gt; dto.Id = 0);<br><br>see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#typed-request-filters\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Request-and-response-filters#typed-request-filters</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Aug 14, 2014, 9:03:58 PM","shortDate":"Aug 14, 2014","textHtml":"What am I missing? &nbsp;I've added the interface to the DTO and the filter in the Configure. &nbsp;It is never applied:<br><br>this.RegisterTypedResponseFilter&lt;IClearId&lt;long&gt;&gt;((req, res, dto) =&gt;<br>{<br>&nbsp; &nbsp; dto.Id = 0;<br>&nbsp; &nbsp; //res.EndRequest();<br>});﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 14, 2014, 9:28:32 PM","shortDate":"Aug 14, 2014","textHtml":"Make it a concrete interface like IClearLongId.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Aug 14, 2014, 9:43:46 PM","shortDate":"Aug 14, 2014","textHtml":"Tried that. Actually had both examples in my reply but cleared it out to save space. ﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 14, 2014, 9:57:43 PM","shortDate":"Aug 14, 2014","textHtml":"I've just added a example in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d97f1160ec669f3b2d7c160169a07bffac8add76\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d97f1160ec669f3b2d7c160169a07bffac8add76</a> - and it's working as expected. If you can't find why your's is different can you post the full Service impl and registration code to:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Aug 15, 2014, 11:31:53 AM","shortDate":"Aug 15, 2014","textHtml":"How about not including Id on the dto?﻿"}],"date":"Aug 14, 2014, 6:56:10 PM","shortDate":"Aug 14, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Recently inherited a bloated product with lots of separated web services and web apps... endpoint URLs stored in the DB, session IDs being passed around in query strings, etc (single auth web service &amp; app ... none of the other web apps / services have any auth logic.). &nbsp;The client also has a goal of extending their auth logic from credentials only to credentials + social media. I would love to replace their centralized authentication web service with ServiceStack. &nbsp;Do any similar examples of this exist? &nbsp;Any words of wisdom? &nbsp;Am I just too in love with SS?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 11, 2014, 11:39:54 PM\n(edited Aug 11, 2014, 11:40:57 PM)","shortDate":"Aug 11, 2014","textHtml":"The HttpBenchmarks is an example of supporting both credentials + Social OAuth signups:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://httpbenchmarks.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://httpbenchmarks.servicestack.net/</a> The section on authentication walks through setting it up: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks#authentication\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks#authentication</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Aug 11, 2014, 11:51:04 PM","shortDate":"Aug 11, 2014","textHtml":"Yeah, I found HttpBenchmarks. I was more concerned about the fact that no auth logic exists in any of the services or apps... with the one service passing around some custom UID. Was hoping SS could be used to clean this up. ﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 12, 2014, 12:18:53 AM\n(edited Aug 12, 2014, 12:20:50 AM)","shortDate":"Aug 12, 2014","textHtml":"HttpBenchmarks shows how you can use if (IsAuthenticated) {} to render different content for anon/auth users:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/default.cshtml#L1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/default.cshtml#L1</a>&nbsp;<br>How you can use&nbsp;RedirectIfNotAuthenticated(); to protect auth only pages:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Views/EditTestPlan.cshtml#L3\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer/Views/EditTestPlan.cshtml#L3</a><br>How admin Services are protected with the Admin role:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AdminServices.cs#L10\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AdminServices.cs#L10</a><br>and how Authenticated Service can only be accessed by authenticated users:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AuthenticatedServices.cs#L14-L15\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AuthenticatedServices.cs#L14-L15</a>&nbsp;<br>where GetSignedInUserId() is used to get the current id of the signed in user.﻿"}],"date":"Aug 11, 2014, 11:35:45 PM","shortDate":"Aug 11, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"I was reading throught the AutoQuery information and wondering whether there was a way to take advantage of this feature when not using an ORM-Lite compatible database like RavenDb. I assume that the fact that the RavenDb store can be queried with Linq might make a generic approach possible - I was just wondering if this is something you've considered Demis, and how you would suggest approaching it?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 7:59:25 AM","shortDate":"Aug 10, 2014","textHtml":"AutoQuery is effectively tied to SQL and by extension RDBMS's. The fact that it uses OrmLite underneath should be an implementation detail. Supporting non-RDBMS's could take a similar approach, but it's unlikely there would be much code-reuse.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 8:07:47 AM\n(edited Aug 10, 2014, 8:11:04 AM)","shortDate":"Aug 10, 2014","textHtml":"If you wanted to explore a non-RDBMS option, I'd basically start with a copy of the AutoQuery feature (all fits on 1 page:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/AutoQueryFeature.cs</a>) and re-implement and the parts that it leverages OrmLite for.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Aug 10, 2014, 8:11:14 AM","shortDate":"Aug 10, 2014","textHtml":"thanks Demis - will take a look﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Aug 10, 2014, 8:13:27 AM","shortDate":"Aug 10, 2014","textHtml":"&nbsp;\"The fact that it uses OrmLite underneath should be an implementation detail\" - yes, sorry...should have said non-RDBMS data store...﻿"}],"date":"Aug 10, 2014, 7:45:45 AM\n(edited Aug 10, 2014, 7:46:24 AM)","shortDate":"Aug 10, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Just noticed a possible typo on the site. &nbsp;The \"Signed\" section shows the ServiceStack repeated in the name for three of the items...<br><br>ServiceStack.ServiceStack.Signed<br>ServiceStack.ServiceStack.Razor.Signed<br>ServiceStack.ServiceStack.Server.Signed﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 8, 2014, 1:46:11 PM","shortDate":"Aug 8, 2014","textHtml":"lol, just updated, thx!﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Aug 8, 2014, 1:49:26 PM","shortDate":"Aug 8, 2014","textHtml":"&lt;problem/&gt;﻿"}],"date":"Aug 8, 2014, 12:32:48 PM","shortDate":"Aug 8, 2014"},{"userId":"111566548421189684824","userName":"Phillip Powers","textHtml":"I'm trying to use the System.Web.Optimization classes (as is demonstrated at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.gregpakes.co.uk/post/using-mvc-optimization-framework-with-servicestackrazor\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.gregpakes.co.uk/post/using-mvc-optimization-framework-with-servicestackrazor</a>) within a ServiceStack Razor page, and I'm getting a \"null HttpContext\" exception from the&nbsp;@Styles.Render(...) call that embedded in my .cshtml file.<br><br>I think a similar issue has been noted on StackOverflow (without any resolution): &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22595703/servicestack-razor-view-httpcontext-current-is-null\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22595703/servicestack-razor-view-httpcontext-current-is-null</a><br><br>Is this a known issue? &nbsp;Is the current HttpContext always null in the ServiceStack Razor implementation (and therefore System.Web.Optimization is incompatible)? Maybe it's some sort of configuration that I'm missing?<br><br>Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 6, 2014, 2:38:53 PM\n(edited Aug 6, 2014, 2:41:09 PM)","shortDate":"Aug 6, 2014","textHtml":"HttpContext isn't available in Content Pages but is available in View Pages, (i.e. in /Views and called with the response of a Service).&nbsp;<br>If you need to, you can use [FallbackRoute] for adding a fallback route for default.cshtml pages:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Routing#fallback-route\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Routing#fallback-route</a>﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"Aug 6, 2014, 4:38:20 PM","shortDate":"Aug 6, 2014","textHtml":"Cool, thanks. &nbsp;A related question, then.<br><br>I'm serving up an Angular app, and currently in the Fallback service I'm doing \"return HttpResult.Redirect(\"/app/\")\", which ends up causing /app/default.cshtml to be rendered.<br><br>In the Fallback service, I know I can do a \"new HttpResult() { View = ... }\" to return a Razor page, but it seems that it's not working because my default.cshtml file is in /app/ and not in /Views/. &nbsp;<br><br>Is there any way to return the HttpResult using /app/default.cshtml as the layout file? I tried just moving my default.cshtml file to /Views/ but that had ramifications wrt relative paths that I'd really rather not have to deal with.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 6, 2014, 4:44:27 PM","shortDate":"Aug 6, 2014","textHtml":"The view or the layout file? The Layout is normally called _Layout.cshtml and its default location in /Views/Shared/. View Pages do need to be in /Views.<br><br>But why can't you just let Fallback Service fall through to call /app/ instead of redirecting to it?﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"Aug 6, 2014, 5:09:12 PM","shortDate":"Aug 6, 2014","textHtml":"It's really more like a Layout file. All of the actual dynamic views are client-side Angular views and are in /app/views/* (just static HTML files as far as the server is concerned).&nbsp;<br><br>It looks like if I don't handle the Fallback (but still have a catch-all FallbackRoute DTO) then I get back into my original issue, where the HttpContext is not available. &nbsp;If I just return the Fallback DTO (or null, etc), then it doesn't end up calling /app/. Is there some other way to \"fall through\" the Fallback service?<br><br>Basically I'm just trying to take the outer Angular layout file (default.cshtml) and put it through Razor so I can do server-side CSS/JS bundling with it, etc. It looks like it'll work if I move the file from /app/default.cshtml and put it in /Views, but then I'll have to go through and change a bunch of relative paths in other spots in the Angular app. &nbsp;Not a dealbreaker, just wanted to make sure there's not an alternative first (ie, forcing a render of /app/default.cshtml from inside the Fallback service).<br><br>Thanks again.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 6, 2014, 5:58:39 PM\n(edited Aug 6, 2014, 6:09:58 PM)","shortDate":"Aug 6, 2014","textHtml":"Yeah /Views is the cleaner option, but you could also return the rendered page as HTML in your service, e.g:<br><br>[FallbackRoute(\"/{Path*}\")]<br>public class Fallback<br>{<br>&nbsp; &nbsp; public string Path { get; set; }<br>}<br><br>public class FallbackService : Service<br>{<br>&nbsp; &nbsp; public object Any(Fallback request)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; var feature = HostContext.GetPlugin&lt;RazorFormat&gt;();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; var page = feature.GetContentPage(\"/default.cshtml\");<br><br>&nbsp; &nbsp; &nbsp; &nbsp; var html = feature.RenderToHtml(page);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; return html;<br>&nbsp; &nbsp; }<br>}<br><br>You could also use a better optimization solution that doesn't rely on HttpContext.Current like GruntJS/GulpJS or Bundler :)&nbsp;﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"Aug 7, 2014, 11:05:57 AM","shortDate":"Aug 7, 2014","textHtml":"Perfect, thanks. &nbsp;﻿"}],"date":"Aug 6, 2014, 2:30:39 PM","shortDate":"Aug 6, 2014"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","textHtml":"I am new to Redis and having a really hard time with performance - I described the issue over here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/25105832/multiple-repeated-sadd-commands-for-one-redisclient-storerelatedentities-call\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/25105832/multiple-repeated-sadd-commands-for-one-redisclient-storerelatedentities-call</a><br><br>Would you be kind enough to see whether you can pinpoint what I may be doing wrong?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 3, 2014, 6:57:01 PM","shortDate":"Aug 3, 2014","textHtml":"Hi Tolga, just checked this and your right, it should be moved to the outerloop which I've done in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis/commit/96260e0d96102b6a323360a9239bef458d5435ce\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis/commit/96260e0d96102b6a323360a9239bef458d5435ce</a><br>Cutting a new build for you now, will let you know when its ready.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 3, 2014, 7:27:41 PM","shortDate":"Aug 3, 2014","textHtml":"Ok this has just been deployed to MyGet, you can get it at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>let me know how it goes, thx.﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Aug 3, 2014, 8:49:16 PM","shortDate":"Aug 3, 2014","textHtml":"Demis - thanks for getting back to quickly. &nbsp;I don't really understand what the code is doing so I am going to comment abstractly.<br><br>entry.Value and&nbsp;registeredTypeIdsWithinPipeline both contain the same x ids. &nbsp;So the inner foreach and its inner Each(x=&gt;..) together still (after you mod) execute x*x times.<br><br>Again - I have no idea what I am doing but it's almost like it needs to be like this:<br><br>&nbsp; internal void AddTypeIdsRegisteredDuringPipeline()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (var entry in registeredTypeIdsWithinPipelineMap)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var typeIdsSetKey = entry.Key;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var registeredTypeIdsWithinPipeline = GetRegisteredTypeIdsWithinPipeline(typeIdsSetKey);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (var id in entry.Value)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //registeredTypeIdsWithinPipeline.Each(x =&gt; this.AddItemToSet(typeIdsSetKey, id));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.AddItemToSet(typeIdsSetKey, id);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; registeredTypeIdsWithinPipelineMap = new Dictionary&lt;string, HashSet&lt;string&gt;&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 3, 2014, 11:46:11 PM\n(edited Aug 3, 2014, 11:51:13 PM)","shortDate":"Aug 3, 2014","textHtml":"Yep like you say it's still iterating over the collection twice. In which case this can be much better optimized to run within a pipeline. Now updated in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis/commit/869c0bc7542702c9bed55887ee942964e0e453eb\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis/commit/869c0bc7542702c9bed55887ee942964e0e453eb</a><br><br>Which is now available on MyGet.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>As it keeps the same version number, if you installed from MyGet earlier you'll have to uninstall so NuGet will pull the latest packages.﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Aug 4, 2014, 6:17:43 AM","shortDate":"Aug 4, 2014","textHtml":"This seems to fix my problem. &nbsp;Thanks very much!﻿"}],"date":"Aug 3, 2014, 2:48:09 PM","shortDate":"Aug 3, 2014"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","textHtml":"I'm upgrading to v4 so it's time to address some things I worked around in v3.<br>The first is shown in the attached stack overflow question. Our postgres tables have audit triggers which can influence the value returned by lastval().<br>The best way to handle getting the new id is to add \"RETURNING id\", where \"id\" is the name of the key column, to the end of the insert. But this will require access to the model to get the correct column name (account_id, order_id, product_id). CURRVAL() is another alternative but also requires model information.<br>Any advice on what we could do?<br>In v3, I brought in the servicestack auth services and customized with this function.&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; public static TReturn GetLastId&lt;TModel, TReturn&gt;(this IDbConnection db)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var table = OrmLiteConfig.DialectProvider.NamingStrategy.GetTableName(ModelDefinition&lt;TModel&gt;.Definition.ModelName);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var column = OrmLiteConfig.DialectProvider.NamingStrategy.GetColumnName(ModelDefinition&lt;TModel&gt;.Definition.PrimaryKey.FieldName);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; const string sql = \"SELECT currval(pg_get_serial_sequence(@table,@column))\";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var id = db.QueryScalar&lt;TReturn&gt;(sql, new {table, column});<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return id;<br>&nbsp; &nbsp; &nbsp; &nbsp; }﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 24, 2014, 1:09:17 PM\n(edited Jul 24, 2014, 1:09:42 PM)","shortDate":"Jul 24, 2014","textHtml":"You can maybe change what command is used to retrieve the last insert id with something like:<br><br>PostgreSqlDialect.SelectIdentitySql = \"return id\";<br><br>This would override the default&nbsp;\"SELECT LASTVAL()\" sql used in PostgreSql, so you may want to wrap it in an extension method that sets it back.﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Jul 24, 2014, 1:16:12 PM","shortDate":"Jul 24, 2014","textHtml":"The default base provider will put a semicolon between the insert and the select identity sql which won't work out.<br>BUT<br>I see that I can override&nbsp;InsertAndGetLastInsertId&lt;T&gt;(IDbCommand dbCmd) too and that has T so I can access the model definition.&nbsp;<br>Might be getting somewhere..﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Nov 25, 2014, 8:12:52 PM","shortDate":"Nov 25, 2014","textHtml":"My v4 upgrade in July was a trial run, and now I'm upgrading for real.<br>Here is what I ended up using.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public override long InsertAndGetLastInsertId&lt;T&gt;(IDbCommand dbCmd)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var modelDefinition = GetModel(typeof (T));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var table = NamingStrategy.GetTableName(modelDefinition.ModelName);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var column = NamingStrategy.GetColumnName(modelDefinition.PrimaryKey.FieldName);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //dbCmd.CommandText += \"; SELECT currval(pg_get_serial_sequence('{0}', '{1}'));\".Fmt(table, column);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dbCmd.CommandText += \" RETURNING {0}\".Fmt(column);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return dbCmd.LongScalar();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>In our case, these methods for getting the generated Id are more reliable due to audit triggers on our tables. On an insert, a trigger fires which also inserts an audit row in a different table. The problem is that LASTVAL() will return the Id from the audit table and not the one you are actually interested in.<br><br>If you think this should be included in the default Postgres dialect, I can create a pull request.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 26, 2014, 12:40:00 AM","shortDate":"Nov 26, 2014","textHtml":"It sounds like it's the better option (<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/2944481/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/2944481/85785</a>), do you know what DB version this was added?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 26, 2014, 1:22:02 AM","shortDate":"Nov 26, 2014","textHtml":"Actually their versioned docs makes it easy to find when, it wasn't in 8.1 and was added in 8.2: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.postgresql.org/docs/8.1/interactive/sql-insert.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.postgresql.org/docs/8.1/interactive/sql-insert.html</a><br><br>As 8.1 still fairly current I've defaulted to using RETURNING but made it configurable in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/bbbb7ff840693abbc37688f97c8380d0fc08b7a7\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/bbbb7ff840693abbc37688f97c8380d0fc08b7a7</a>﻿"},{"userId":"107256961039659734300","userName":"Jeff Gabhart","date":"Nov 26, 2014, 10:13:11 AM","shortDate":"Nov 26, 2014","textHtml":"Awesome, thank you, Demis!&nbsp;﻿"}],"date":"Jul 24, 2014, 12:58:36 PM","shortDate":"Jul 24, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Feature Request : Mailing list for new releases<br><br>I know we all hate email, but a quick email with titles/blurb of each major feature in the release would be awesome. &nbsp;Makes for easy search offline in Outlook, etc.<br><br>Come to think of it, it could be powered by SS to generate views based on major/minor feature models... etc. etc. &nbsp;<br><br>mythz needs an intern! &nbsp; (or two)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 18, 2014, 12:59:07 PM","shortDate":"Jul 18, 2014","textHtml":"Each release is already announced on twitter:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://twitter.com/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://twitter.com/ServiceStack</a> and the main G+ group:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/u/0/communities/112445368900682590445\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/u/0/communities/112445368900682590445</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jul 18, 2014, 1:32:01 PM\n(edited Jul 18, 2014, 6:34:06 PM)","shortDate":"Jul 18, 2014","textHtml":"For me, the challenge is in the chronological format of the release notes. &nbsp;Regardless if it's a blog post or email, smuch goes into each release, and therefore the release notes, that it's a challenge to digest all of it. &nbsp;Personally, I'd prefer a feature-by-feature breakdown, with a page dedicated to each. &nbsp;The ONLY drawback to SS is that I KNOW there's a ton of other stuff under the hood that I COULD be leveraging but don't even know it's there.<br><br>Edit: &nbsp;Guess I'm picturing something like the wiki... or maybe the wiki... but with a historical breakdown of what happened over time with each module or section. &nbsp;Each release announcement would follow a similar format but be restricted to only the changes. &nbsp;Just an idea. &nbsp;There's just a ton in there.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jul 18, 2014, 6:21:35 PM","shortDate":"Jul 18, 2014","textHtml":"The main SS wiki does have a pretty good menu that kinda gets what you're looking for. &nbsp;But me too, I know there's so much more that can be integrated. &nbsp;Kudos to an awesome framework.﻿"}],"date":"Jul 18, 2014, 12:52:41 PM","shortDate":"Jul 18, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"Is there a way to automatically match a format to a content type?<br>e.g. if I append \"format=ics\" (or \".ics\") to the query string, but the actual content type for icalendar is \"text/calendar\".<br><br>I see that ServiceStack does this automatically for the pre-defined MIME types (in the ServiceStack.MimeTypes class), so if you do \"format=json\", it figures out that the response content type should be \"application/json\".<br><br>It would be nice to be able to do a simple GET request via the browser, like \"/api/events.ics\" and have ServiceStack set the ResponseContentType property automatically, so my custom format plugin can correctly serialize the response.<br><br>Is this possible for other formats, or do I need to add the \"Accept: text/calendar\" header to the request?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 17, 2014, 12:10:14 PM","shortDate":"Jul 17, 2014","textHtml":"The built-in functionality only works for registered different Content Types registered with HostContext.ContentTypes, e.g for CSV:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Formats/CsvFormat.cs#L12-L13\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Formats/CsvFormat.cs#L12-L13</a><br>So if you register a new ContentType for \"text/calendar\" it will work for \"/api/events.calendar\".&nbsp;<br><br>Likewise for the custom v-card format: <a rel=\"nofollow\" target=\"_blank\" href=\"http://mono.servicestack.net/ServiceStack.Northwind/vcard-format.htm\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mono.servicestack.net/ServiceStack.Northwind/vcard-format.htm</a><br>it would be /events.x-vcard<br><br>If that's not suitable you can try inspecting the /pathinfo.ext with a request filter and setting req.ResponseContentType from there.﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jul 18, 2014, 3:19:04 AM","shortDate":"Jul 18, 2014","textHtml":"Using .calendar would be fine, but the client expects to be able to use .ics to request iCalendar data.<br><br>Using a global request filter to set the RequestContentType isn't a complete solution.<br><br>I also had to add:<br>appHost.ContentTypes.Register(\"application/ics\", SerializeToStream, null);<br><br>Then I can change the RequestContentType to \"text/calendar\" in the request filter.<br><br>Without this, a request with a .ics extension returns a 400 (RequestBindingException) and the request filter never fires.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jul 18, 2014, 1:02:43 PM","shortDate":"Jul 18, 2014","textHtml":"I have a few custom formatters, and use this in my formatter class (atom/rss is one of them):<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://pastebin.com/PfgFBiwu\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://pastebin.com/PfgFBiwu</a><br><br>Like you mention, it requires multiple actions (registration, global filter, etc). &nbsp;The way I see it, it allows for multiple extension types to all return the same format type.&nbsp;﻿"}],"date":"Jul 17, 2014, 7:09:50 AM","shortDate":"Jul 17, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hey Demis,<br>I was wondering if you had any gems regarding automated deployments, continuous integration and version control (with a slant towards nuget).<br><br>We're busy setting up a project for a particular client where we are publishing their modules (and the clients that connect to them) as nuget packages (to ease distribution and versioning) . We're using TeamCity to automate the builds and TFS for source control, publishing to TC's custom Nuget feed and then using Octopus to deploy everything to their QA and Live environments (build-trigger on the QA deployment and manual trigger for Live).<br><br>We've butted our head against quite a few \"low branches\" along the way, like orchestrating the versioning of common infrastructure packages etc.<br><br>I figured that this (the strategy of breaking an application down into component parts and versioning them properly, and then automating the build/deployment process) was probably something you have quite a lot of experience in.<br><br>How are you currently handling deployments for SS? What is your personal take on operational management and deployment of SS-based solutions?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 10, 2014, 12:30:38 PM","shortDate":"Jul 10, 2014","textHtml":"Actually my CI setup isn't very sophisticated. I'm just using TeamCity to do the builds.<br><br>Most of the actual build logic is kept outside of TeamCity in msbuild projs that's checked in with each project, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/build/build.proj\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/build/build.proj</a><br><br>To maintain the version number I use a parent \"shell\" project's build counter for the version number that all other projects are dependent on. Artefacts dependencies are used to copy over built dlls to dependent projects.<br><br>The actual deployment just uses artefacts to copy all the .nupkgs / .symbols into their own directories then a separate deploy project the publishes those .nupkgs to MyGet and NuGet.<br><br>For deployment of earlier demo websites on <a rel=\"nofollow\" target=\"_blank\" href=\"http://mono.servicestack.net/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://mono.servicestack.net/</a> I just used xcopy deployment. For some of the later demo's I just pulled from GitHub, built the binaries and hosted with Nginx/MonoFastCGI from there.<br><br>For <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.net</a> websites and my new projects I'm now deploying to AWS, first using the wizard to get the right AWS configuration to use in a .bat script for subsequent command-line deployments as described in: &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks#deploying-to-aws\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks#deploying-to-aws</a>﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Jul 12, 2014, 5:14:27 AM","shortDate":"Jul 12, 2014","textHtml":"thanks for the info and the links, Demis!﻿"}],"date":"Jul 10, 2014, 8:28:40 AM\n(edited Jul 10, 2014, 8:30:10 AM)","shortDate":"Jul 10, 2014"},{"userId":"101450310832529074603","userName":"Brian Pruitt-Goddard","textHtml":"For some of our domain objects we allow saving additional custom properties, with names determined by the client and not known to us at compile time. In our database this is basically a set of key value pairs for each entity. We are exploring different mechanisms for representing these additional fields in request JSON. For example:<br><br>&nbsp; &nbsp; { \"bultinField\": \"A\", \"customField1\": \"B\" }<br><br>From the perspective of a client, this design may seem natural: the fact that a particular field is \"custom\" is a detail of our data model, not the client's. One thought for implementing this is to use a RequestFilter to compare the serialized json string to the deserialized DTO and determine (using reflection) the properties that are custom (which ones don't match up to an available property) and store them in a dictionary on the DTO.<br><br>The other thought was to explicitly create a Dictionary&lt;string, string&gt; or an array of key-value pairs on the DTO and have the consumer explicitly declare the custom properties there:<br><br>&nbsp; &nbsp; { \"builtinField\": \"A\", \"customFields\": {\"customField1\": \"B\"} }<br>&nbsp; &nbsp; { \"builtinField\": \"A\", \"customFields\": [{\"name\": \"customField1\", \"value\": \"B\"}] }<br><br>This seems less ideal as the consumer would have to distinguish the custom properties on their end. However, this should be more straightforward to implement on the server side.<br><br>Are there any drawbacks or considerations that need to be considered? Any recommendations for a better implementation, or any potential major problems on the client or server side for a given design?﻿","comments":[{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jul 8, 2014, 11:08:57 AM","shortDate":"Jul 8, 2014","textHtml":"Who is the consumer / user of these classes? &nbsp;To not know the custom properties at compile time, I assume these are public-facing artifacts for a client or someone other than your team. &nbsp;Is this correct? &nbsp;For me, knowing who the consumer of your artifacts are, or how they are being used, would be a crucial factor in making any design decision.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 8, 2014, 11:22:24 AM","shortDate":"Jul 8, 2014","textHtml":"The way we allow attaching untyped metadata to SS's built-in typed Auth/Register response DTO's is with the IMeta interface:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/IMeta.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/IMeta.cs</a><br>Basically just declaring a Dictionary&lt;string,string&gt; to store loose typed info into. The other way is to just blob a complex type in a JSON string, the difference being that a blobbed complex type is more opaque and less introspectable when traversing in JS.﻿"},{"userId":"101450310832529074603","userName":"Brian Pruitt-Goddard","date":"Jul 8, 2014, 1:50:22 PM","shortDate":"Jul 8, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span> The consumer/user of the classes is the client. They are properties only relevant to that client and therefore make no sense to add as \"built in\" properties available to all clients. In response DTOs, they will be displayed as if they were built in properties (similar to the first approach).&nbsp; Thus, the hope for them appearing in requests in the same seamless way.<br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span> I tried using the IMeta interface, but it appears to be the explicit dictionary approach that is less-desirable for our situation. Is there a reason this was chosen over the RequestFilter approach or was it simply due to it being easier to implement and less error-prone?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 8, 2014, 2:12:52 PM","shortDate":"Jul 8, 2014","textHtml":"Personally I would make them distinct myself, if you don't know what it is at compile-time then it's not apart of your Service Contract so the consumer would know that's it's something that's specially handled. It would be a lot more work trying to hide it, i.e. having to buffer the request stream, deserializing the JSON twice, knowing what makes an unmatched property (e.g. SS JSON is case-insensitive). It would also not be available in typed API's.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jul 8, 2014, 3:34:15 PM","shortDate":"Jul 8, 2014","textHtml":"From purely a design perspective, I would opt for exchanging a property bag or dictionary for any items that are not known at compile time. &nbsp;Not only does this offer a PROVEN means of growing your various components without some atypical generation solution, it also offers a certain level of clarity to everyone touching the various components by implying these the data contained within the property bag really is unknown at compile time. &nbsp;This tends to imply that the data is either highly generic or that some type of highly dynamic validation must be executed at some point in the path. &nbsp;And, unless you are compiling them into isolated namespaces, this would help create a barrier and offer additional clarity between the static and dynamic code.<br><br>That being said,&nbsp;I've been down this road before. &nbsp;A company wanted to provide as much \"hand holding\" as possible to their client and this type of approach provided the APPEARANCE of a more intelligent / thorough design over using a property bag or meta data. &nbsp;By generating the classes and properties the client was forced to adhere to the types and felt as if our solution was specially tailored to them. &nbsp;The only down side I can see is if you are NOT also automating the generation of validation logic. &nbsp;For example, if you are generating a fields called \"CreditCardNumber\" and \"ExpirationDate\" are you truly validating this data, both for what it is and together, or simply storing it OR treating it as generic strings and dates. &nbsp;That may come to hurt you down the road if your client thinks that there IS some type of intelligent validation occurring when you are simply treating it as raw data.﻿"},{"userId":"101450310832529074603","userName":"Brian Pruitt-Goddard","date":"Jul 9, 2014, 4:02:18 PM","shortDate":"Jul 9, 2014","textHtml":"Thanks for the input. We are deciding to go with a distinct property to store these dynamic properties.<br>One question remains about the implementation of this property: Are there any differences between making this property a Dictionary&lt;string, string&gt; vs an array of key value pairs? The array could potentially be extended in the future with additional metadata properties and fits better with existing APIs, however it is a little more complicated.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 9, 2014, 4:26:17 PM","shortDate":"Jul 9, 2014","textHtml":"Nothing other than making catering for the common use-case of custom properties harder.﻿"}],"date":"Jul 8, 2014, 11:04:29 AM","shortDate":"Jul 8, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I read about the new feature Auto Query. But if we don't use ORMLite is not useful. Previous version had also new features of ORMLite. All these, are very good, I suppose.&nbsp; My question is ,&nbsp; in general, that for users that they don't use ORMLite or Redis, but only simple good services (RESTFul mainly)&nbsp; other features are important. As we have voted in user voice (e.g. signalR integration, Azure Directory etc) .&nbsp; I use ServiceStack for services only, maybe it would be better to have different versions.&nbsp; Also to have different roadmaps. I would like to know what to expect during &nbsp; next months&nbsp;&nbsp; for the services part, that I need.&nbsp;﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 5, 2014, 12:00:50 AM","shortDate":"Jul 5, 2014","textHtml":"I'd like to second this too. I don't use ormlite either. In my case I use nhibernate. I to would be more interested in items other than servicestack's orm features.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 6, 2014, 11:39:20 AM\n(edited Jul 7, 2014, 3:29:06 PM)","shortDate":"Jul 6, 2014","textHtml":"Hang on a second here, Improving OrmLite was one of the most requested features it's also one of the least invasive ORMs since it just uses an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> connection and POCOs but it's typed API still let's us provide cross platform support for all major RDBMS. It takes 1 line to register and all SS features that use ORMLite pretty much hide from even knowing how to use ORMLite. Just because you don't want to use it does not mean I'm not going to further improve it for everyone else that does. Part of SS's value proposition is that it provides a full stack, which you're free to use all of or part of. There will always continue to be improvements to all parts of SS. No features that use ORMLite are in SS.dll (which has no dependency on ORMLite), they're all in SS.Server dlls. There's no committed roadmap for SS, for the same reason why most other Tech Company's don't commit to roadmaps and only announce features when they ship.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Jul 6, 2014, 12:41:53 PM\n(edited Jul 6, 2014, 12:42:13 PM)","shortDate":"Jul 6, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>As I wrote from the very first,&nbsp; I suppose&nbsp; all these new features&nbsp; are very good.&nbsp;&nbsp; I cannot argue with you.&nbsp; It is your company and you know&nbsp; the best .﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jul 17, 2014, 10:40:40 AM","shortDate":"Jul 17, 2014","textHtml":"For what it's worth, ServiceStack + OrmLite was an awesome find for my crew, it's what drew us in. &nbsp;(Combined with the services framework no doubt) &nbsp;Let us clean up previous dapper related code, and overly cumbersome repository classes, etc.﻿"}],"date":"Jul 4, 2014, 7:48:03 PM\n(edited Jul 4, 2014, 8:34:30 PM)","shortDate":"Jul 4, 2014"},{"userId":"101967064470763450063","userName":"Amir Khawaja","textHtml":"Greetings. Does anyone know if the Redis client that ships with ServiceStack supports SSL connections? I'm working with Azure Redis Cache and the examples from Microsoft use StackExchange.Redis which supports SSL connections. Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 24, 2014, 1:05:45 PM\n(edited Jun 24, 2014, 1:08:26 PM)","shortDate":"Jun 24, 2014","textHtml":"It doesn't, &nbsp;SSL isn't a redis-server feature, it's a feature added within Azure. You can submit a feature request for this at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"},{"userId":"101967064470763450063","userName":"Amir Khawaja","date":"Jun 24, 2014, 1:07:18 PM","shortDate":"Jun 24, 2014","textHtml":"Thank you, Demis. I will put in the request.﻿"}],"date":"Jun 24, 2014, 12:53:45 PM","shortDate":"Jun 24, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"What db data types are generated for GUID fields while using OrmLite against Oracle and SqlLite? &nbsp;I'm in a SqlServer only environment at the moment but need to account for Oracle and SqlLite.﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jun 20, 2014, 7:49:32 PM","shortDate":"Jun 20, 2014","textHtml":"For oracle is either RAW(16) (when CompactGuid param is set to true, default is false) or VARCHAR2(37). For SqlLite it's CHAR(36).﻿"}],"date":"Jun 20, 2014, 7:06:54 PM","shortDate":"Jun 20, 2014"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","textHtml":"I would like to add additional data to all SS responses. But in response filter I need access to:<br>- session<br>- the service type.<br><br>Is this possible ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 17, 2014, 8:27:14 PM","shortDate":"Jun 17, 2014","textHtml":"Yeah in your filter you should have access to `IRequest req` and get the session with `req.GetSession()`﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Jun 18, 2014, 6:16:42 AM","shortDate":"Jun 18, 2014","textHtml":"ok. How about service type ? Can I get service type used to handle request ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 18, 2014, 9:19:07 AM\n(edited Jun 19, 2014, 12:26:42 AM)","shortDate":"Jun 18, 2014","textHtml":"Yeah, basically:<br><br>var requestType = req.Dto.GetType();<br>var serviceType =&nbsp;HostConfig.Metadata.&nbsp;GetServiceTypeByRequest(requestType);﻿"}],"date":"Jun 17, 2014, 5:39:41 PM","shortDate":"Jun 17, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"I have multiple mobile apps (iPhone, Android, WP, Html) across multiple clients as well as the backend ServiceStack services which feed them.<br><br>I am at a point with all my clients that I can schedule an upgrade to v4. I've asked you before if v3 and v4 can be mixed together and the answer was to test this first - ultimately I would rather upgrade everything in one go.&nbsp;<br><br>My problem now resides with WP8 support. I get that there is no CD in PCL for WP8 which has proven problematic. In all honesty I don't care about PCL - I just want a DLL (or few) to reference in the mobile projects to enable communication with ServiceStack services. Obviously nuget does not pull the dlls for the WP platform as none exist due to the reasons already explained. So I wanted to go and build my own dll but the ServiceStack.WindowsPhone.sln does not even open properly.<br><br>How can I get v4 on WP in order to upgrade my web services and all other mobile clients? Waiting for WP8.1 support is not an option. As you can imagine this upgrade process is quite a process that I need to consider carefully. Ultimately I don't want to stay on v3 as I have a v4 license.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 14, 2014, 2:01:15 PM","shortDate":"Jun 14, 2014","textHtml":"There is no WP support in v4. If you want to use Service Clients in WP you will have to use the v3 builds for WP client. The earliest WP version v4 will be able to support will be WP8.1.﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jun 14, 2014, 2:13:23 PM","shortDate":"Jun 14, 2014","textHtml":"I know you do not want to put your custom ConcurrentDictionary back in just for WP. But surely not supporting a platform that <b>was</b> supported is not a good thing? <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23ifdef\">#ifdef</a> it out for the other platforms like you used to? I hope I did not buy a licence for nothing if I cannot use it...It's not like I can use v4 elsewhere and leave WP on v3...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 14, 2014, 2:41:51 PM\n(edited Jun 14, 2014, 5:42:41 PM)","shortDate":"Jun 14, 2014","textHtml":"WP was never supported, it was contributed externally, it also lagged behind other platforms as it always relied on the external community to contribute WP builds to keep it current.<br><br>I can't add support for WP in v4 without detrimenting other platforms and introducing a lot of complexity in the code-base, even that wont enable PCL support for WP. The earliest WP support is WP8.1 which I aim to enable PCL support for.<br><br>Note: v4 has never supported WP or ever planned to, the earliest support will be WP 8.1 (ideally as PCL). But&nbsp;you can email team@support.net for a refund.﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jun 15, 2014, 5:28:10 AM","shortDate":"Jun 15, 2014","textHtml":"Just a thought, would it not be possible to keep WP on v3 while upgrading the others? Would it still be able to communicate with v4 services? I cannot place a wp 8.1 restriction on my apps as it cuts out the vast majority of the user base (as small as it is). I'm not looking for a refund, I'm trying to come up with a solution that allows me to use v4.﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Jun 15, 2014, 9:37:31 AM","shortDate":"Jun 15, 2014","textHtml":"Hi,<br><br>I think that if you project-link your 4.0 DTO project with a project using v3 and then used the v3 client it should work, the project linker plugin should help you on that... Maybe I miss something but it should be ok, even if you decorate your DTO with attribute that don't exist in v3 you only need to redefined it in your v3 DTO project or add compilation condition...<br><br>But maybe I don't see something....<br><br>Anyway, if this don't work it should be easy to create a custom client that use the datacontractjsonserializer and raw http web request...<br><br>Hope this help<br><br><br><br>﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jun 15, 2014, 10:56:09 AM","shortDate":"Jun 15, 2014","textHtml":"Hi Marc-Antoine<br><br>It's not about project-linking or anything. The WP client (v3) would need to take over the internet (via JSON and it's routing system) to backend SS services (v4). This would be required as SS v4 does not support WP 8.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 16, 2014, 1:28:56 AM","shortDate":"Jun 16, 2014","textHtml":"You should be able to use v3 clients with a v4 server as the wire format shouldn't have changed. The one thing that did is the predefined routes which now use /reply and /oneway instead of /syncreply and /asynconeway which v4 doesn't accept. You can change to use the new routes with v3 clients by enabling:<br><br>client.UseNewPredefinedRoutes = true;&nbsp;﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jun 16, 2014, 7:05:47 AM","shortDate":"Jun 16, 2014","textHtml":"Demis that sounds extremely promising! I'll give it a test this week and let you know :) I hate missing out on all the awesome work that is going into v4.﻿"}],"date":"Jun 14, 2014, 6:51:10 AM","shortDate":"Jun 14, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"I have a DTO like this, and want to auto-generate routes:<br>[Route(\"/{EntityType}/statuses\", \"GET\")]<br>public class EntityStatusRequest : IReturn&lt;EntityStatusResponse&gt;<br>{<br>&nbsp; &nbsp; public string EntityType { get; set; }<br>}<br><br>I want to auto-generate routes that look like:<br>/leads/statuses<br>/quotes/statuses<br>/deals/statuses<br>etc...<br><br>The reason for doing this is that I also have DTOs like:<br>[Route(\"/leads/{Id}\", \"GET\")]<br>public class LeadRequest : IReturn&lt;LeadResponse&gt;<br>{<br>&nbsp; &nbsp; public int Id { get; set; }<br>}<br><br>If I send a GET request to /leads/statuses, ServiceStack tries to bind it to the LeadRequest DTO (which obviously fails).<br><br>I can easily generate the routes with this code:<br>public static void RegisterEntityRoutes(this IAppHost appHost, params Assembly[] assemblies)<br>{<br>&nbsp; &nbsp; foreach (var assembly in assemblies)<br>&nbsp; &nbsp; {<br>\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;foreach (var entityRouteDtoType in assembly.GetTypes()<br>\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;.Where(t =&gt; Attribute.IsDefined(t, typeof(EntityRouteAttribute))))<br>\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;{<br>\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var attr = &nbsp;entityRouteDtoType.FirstAttribute&lt;EntityRouteAttribute&gt;();<br><br>\t\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;foreach (var entityType in entityTypeMap)<br>\t\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;{<br>\t\t\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;appHost.Routes.Add(<br>\t\t\t\t\t&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;entityRouteDtoType,<br>\t\t\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;attr.Path.Replace(\"{EntityType}\", entityType.Name),<br>\t\t\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;attr.Verbs,<br>\t\t\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;attr.Summary.Replace(\"{EntityType}\", entityType.Name),<br>\t\t\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;attr.Notes);<br>\t\t\t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>}<br><br>(The EntityRouteAttribute has the same structure as RouteAttribute.)<br><br>This will correctly bind a request to /leads/statuses to the&nbsp;EntityStatusRequest DTO, but the EntityType property will not be populated.<br><br>Is there any way to populate this property without having to do custom model binding for the&nbsp;EntityStatusRequest DTO?<br>The idea is for there to be a lot more DTOs that have a route like /{EntityType}/{OtherParamsHere*}.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 13, 2014, 2:17:06 PM","shortDate":"Jun 13, 2014","textHtml":"You can try giving a lower priority to:<br>[Route(\"/leads/{Id}\", Priority=-1)]<br><br>Or a higher priority to:<br><br>appHost.RestPaths.Add(new RestPath(<br>&nbsp; entityRouteDtoType,<br>&nbsp; attr.Path.Replace(\"{EntityType}\", entityType.Name),<br>&nbsp; attr.Verbs,<br>&nbsp; attr.Summary.Replace(\"{EntityType}\", entityType.Name),<br>&nbsp; &nbsp;attr.Notes)<br>{<br>&nbsp; &nbsp; Priority = 1<br>});﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Jun 19, 2014, 4:36:44 AM","shortDate":"Jun 19, 2014","textHtml":"Thanks for the suggestion, but it didn't work.<br><br>I ended up adding a global typed filter for all DTO types that have the EntityRoute attribute, which parses the request's path info and populates the EntityType property from there.﻿"}],"date":"Jun 13, 2014, 3:15:03 AM\n(edited Jun 13, 2014, 3:15:52 AM)","shortDate":"Jun 13, 2014"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"Is that possible to provide custom DateTime deserialization format for just one specific field in one specific DTO? The client I'm integrating is inconsistent when it comes to dates, and one of the DTOs provide very strange format of date. I wonder if there's any attribute / configuration dictionary that would make it possible with ServiceStack, or do I have to fall back to \"string\" property &amp; manual processing.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 9, 2014, 3:45:51 PM","shortDate":"Jun 9, 2014","textHtml":"Yeah, there different date format are listed in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/JsConfig.cs#L848\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/JsConfig.cs#L848</a> e.g:<br><br>JsConfig.DateHandler = DateHandler.ISO8601;﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Jun 9, 2014, 4:27:09 PM","shortDate":"Jun 9, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; I believe this sets the \"global\" handler. I need to specify the handler for a specific field in a specific DTO. I need all my dates to be ISO8601 except one very specific field which has completely custom &nbsp;date format ...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 9, 2014, 4:30:42 PM","shortDate":"Jun 9, 2014","textHtml":"You can scope configuration inside `using(JsConfig.With(...)) { ... }` but if that's not suitable either than yeah you'd probably need serialize a string into your desired format.﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Jun 9, 2014, 4:36:09 PM","shortDate":"Jun 9, 2014","textHtml":"Ok, thanks! I'll go with string field and a request filter or sth.&nbsp;﻿"}],"date":"Jun 9, 2014, 10:20:04 AM","shortDate":"Jun 9, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"Is there an easy pattern for disabling authentication for only one method call?<br><br>Most of my services services derive from a ServiceBase class which has the [Authenticate] attribute on the class. So all my service methods require authentication, which is almost always what I want.<br><br>But I have a few special APIs which I don't want to be authenticated.<br><br>I tried just adding [Authenticate(ApplyTo.None)] on the specific method call, but that has no effect.<br><br>[Authenticate]<br>class ServiceBase<br>{<br>...<br>}<br><br>class MyService: ServiceBase<br>{<br>&nbsp; &nbsp; public ResponseDto1 Get(RequestDto1 request) ... // Authenticated<br>&nbsp; &nbsp; public ResponseDto2 Get(RequestDto2 request) ... // Authenticated<br><br>&nbsp; &nbsp; [Authenticate(ApplyTo.None)]<br>&nbsp; &nbsp; public ResponseDto3 Get(RequestDto3 request) ... // wide open!<br>}<br><br>I had expected that the 3rd API would work without authentication, but it still does. How I can disable authentication for just this 3rd API?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 5, 2014, 5:15:32 PM","shortDate":"Jun 5, 2014","textHtml":"'ApplyTo' only changes the scope of what the RequestFilter Attribute applies to, it doesn't automatically override or hide Request Filters defined at the class-level.<br><br>Just change your class heirachy so &nbsp;you can avoid running Request Filters you don't want , i.e:<br><br>class ServiceBase : Service { ...&nbsp;}<br><br>[Authenticate]<br>class&nbsp;AuthenticateServiceBase : ServiceBase { ... }﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Jun 5, 2014, 5:28:31 PM","shortDate":"Jun 5, 2014","textHtml":"Yeah, that's the structure our code already has. So it sounds like there is no way to override inherited request filters. I'll need to restructure things to get the granularity I want. Not horrible, just not a 1-liner.﻿"}],"date":"Jun 5, 2014, 4:59:50 PM","shortDate":"Jun 5, 2014"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"What is the default behavior of the RegistrationFeature when you are logged in and then call the /register route with some data?<br><br>I'm asking because of an administration system I am building, where I want to be able to create new users via the /register route (when logged in as an administrator) - however, it seems as if calling this route in the attempt to create a new user simply updates the currently logged in user.<br><br>Is this the case, and is there a way to work around this? Or have I done something horribly wrong in my code.<br><br>Thanks!﻿","comments":[{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 4, 2014, 11:56:10 AM","shortDate":"Jun 4, 2014","textHtml":"I would have thought it would add a new userauthdetails record and link it to the same userauth - could be wrong though﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 4, 2014, 12:08:21 PM","shortDate":"Jun 4, 2014","textHtml":"Yeah it affects the currently logged in user. I would create your own admin services that use the&nbsp;UserAuthRepository like the Registration Service does, i.e:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L99-L100\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L99-L100</a>﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jun 4, 2014, 12:15:45 PM","shortDate":"Jun 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Thanks for the clarification, will do :)﻿"},{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Sep 28, 2014, 8:54:01 PM","shortDate":"Sep 28, 2014","textHtml":"Glad that it wasn't just me going crazy over this. Developers were losing their accounts and we were completely perplexed until i looked hard at the db and noticed that the number of accounts was the same which led me to down investigating the update path.<br><br>A register call should not update. The update call is present for that purpose. It should either be configurable or another explicit end-point should be introduced that can create/update.﻿"}],"date":"Jun 4, 2014, 9:45:08 AM","shortDate":"Jun 4, 2014"},{"userId":"111566548421189684824","userName":"Phillip Powers","textHtml":"I have groups of DTO classes in separate assemblies so that they can be shared between client/server, and also split across module/plugin boundaries. These are currently implemented as minimal PCL assemblies, and loaded by the server at runtime with \"Routes.AddFromAssembly(...)\".&nbsp;<br><br>In ServiceStack 3, I was able to keep the DTO Validation logic with the DTOs themselves - actually in the same file, but it looks like the Fluent Validation classes were moved into the main \"ServiceStack\" assembly (I think it used to be \"ServiceStack.Interfaces\"?), which is preventing me from bundling the Validation classes in the same assembly as the DTOs since ServiceStack can't be referenced in a PCL.<br><br>Is there any way around this that I'm missing? Of course the obvious workaround is to include the validation classes in separate, non-PCL assemblies.<br><br>On a related note: if the validation rules were in the same assembly as the DTOs, the client could potentially perform some validation of a request before attempting to make a round-trip with the server. Is that something that's already implemented somewhere?<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 30, 2014, 6:46:31 PM","shortDate":"May 30, 2014","textHtml":"v4 isn't introducing any limitations, it's provided PCL packages that are limited to client libraries, but these didn't exist in v3. The clients which could use v3 server libraries can also use v4 server libraries, you just wouldn't be using the client PCL packages.<br><br>If you need your DTO's to interoperate between PCL and non-PCL packages you would need to create separate projects with linked source files as seen in the Hello project:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello#sharing-server-dtos-with-clients\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello#sharing-server-dtos-with-clients</a><br>The new <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> Shared projects feature should make this easier to do in future.<br><br>The difference in v3 was that there was no ServiceStack.Interface NuGet package and the Fluent Validation classes were kept in the ServiceStack.ServiceInterface project:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/v3/src/ServiceStack.ServiceInterface\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/v3/src/ServiceStack.ServiceInterface</a><br>Which also had a dependency on ServiceStack, but was delivered in the ServiceStack NuGet package.<br><br>The difference now is that ServiceInterface project has now been merged into the ServiceStack project which only contains ServiceStack.dll, so there shouldn't be any extra dependency introduced in v4. v3 also didn't have PCL packages.<br><br>It's highly recommend that you leave your DTO's assemblies containing models only and not include any implementation or custom logic which will be coupled to .NET clients. You should think of your DTO's as your Service Contract and not require access to your services to be coupled with any implementation logic.<br><br>ServiceStack does include validation support for Ajax clients which automatically bind server errors to client forms in ss-utils as described here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/EmailContacts/#fluent-validation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/EmailContacts/#fluent-validation</a>\nIt's quite responsive because it's done via ajax/json and avoids full-page reloads. I think you'll find there's very little benefit in trying to translate server validation into client validation, i.e. nothing that would justify the added complexity + moving parts translating C# server logic into client-side JS. For cases where you need client side validation, you can add them using the validate: form callback and the $.&nbsp;setFieldError() jquery extension, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#ss-utilsjs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#ss-utilsjs</a>﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"May 31, 2014, 6:50:26 AM","shortDate":"May 31, 2014","textHtml":"BTW you could use the project linker plugin this is what we used, even if the description says that this is for silverlight and WPF, it is working for every project type<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://visualstudiogallery.msdn.microsoft.com/273dbf44-55a1-4ac6-a1f3-0b9741587b9a\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://visualstudiogallery.msdn.microsoft.com/273dbf44-55a1-4ac6-a1f3-0b9741587b9a</a><br><br>﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"May 31, 2014, 1:43:57 PM","shortDate":"May 31, 2014","textHtml":"Thanks Demis for the info and the pointer to the AJAX stuff.<br><br>I'm totally on-board with the DTOs in a separate assembly as a service contract, and that's how we have it setup. In my mind, though, the validation is actually part of that contract.<br><br>For the client-side validation, I'm actually building Xamarin/MVVMCross clients right now, which is where I would intend to re-use that code.<br><br>I guess the general question is whether the Fluent Validation stuff is able to be put into PCL assemblies for those two reason: keeping the validation logic together with the DTOs, and possibly actually using it in C# clients - and it seems the answer is \"no\"?<br><br>This certainly isn't any sort of deal-breaker for any of our stuff (we can work around it), it'd just be one of those \"nice to have\" things.<br><br>As always, thanks for the response and high quality work.﻿"}],"date":"May 30, 2014, 6:03:16 PM","shortDate":"May 30, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Looking for a recommendation for easily switching between a per-call and per-lifetime option for the IDbConnection used within OrmLite. &nbsp;I am currently using a repository pattern (one repo for each data type) and a Utility class for creating/seeding tables. &nbsp;It would be great to be able to reuse the same repositories in multiple areas an the application where the lifetime of the connection is different. &nbsp;At the moment each of my Utility classes take a custom IPersistenceModel object however I would love for something like this to be included in the OrmLiteConnectionFactory.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 30, 2014, 2:39:20 PM","shortDate":"May 30, 2014","textHtml":"You can reduce a lot of the boiler plate with DataAware services by inheriting from a base class like RepositoryBase:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ILogic.cs#L38\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ILogic.cs#L38</a><br>Dependencies are injected with the safe IDbConnectionFactory whilst&nbsp;it reduces boilerplate as it lets you access the DB connection with `base.Db`.﻿"}],"date":"May 30, 2014, 2:26:32 PM","shortDate":"May 30, 2014"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","textHtml":"I am having a problem while using the JsonObject.Parse. Am I allowed to use this directly or should I always use the JsonSerializer.DeserializeFromString&lt;Object&gt; instead?<br><br>This problem occured while adding a custom OAuth2 provider for Instagram. At some point I had to fetch some user data from the instagram API using the GetJsonFromUrl() method which returned something like this:<br>&nbsp;\"{\\\"meta\\\":{\\\"code\\\":200},\\\"data\\\":{\\\"username\\\":\\\"user\\\",\\\"bio\\\":\\\"\\\",\\\"website\\\":\\\"\\\",\\\"full_name\\\":\\\"username\\\",\\\"id\\\":\\\"12345\\\"}}\" .<br>Then, when I tried to parse the json string using the JsonObject.Parse() method, the result was not the expected. However, if I unescape the data (using obj.GetUnescaped(\"data\")) I get the correct values.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 11:18:13 AM\n(edited May 28, 2014, 11:18:32 AM)","shortDate":"May 28, 2014","textHtml":"JsonObject is what to use if you want to parse JSON dynamically, i.e. without deserializaing into a typed schema.﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"May 28, 2014, 11:42:28 AM","shortDate":"May 28, 2014","textHtml":"Hi Demis,<br><br>I finally figure it out. I was trying to parse the data object using the JsonObject.Parse(root[\"data\"]) while should be using the root.Object(\"data\"). That was the reason why I was getting the odd values.<br><br>Thanks for the quick answer.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 28, 2014, 6:10:19 PM","shortDate":"May 28, 2014","textHtml":"I'm going to high jack this post a little bit. <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Is there a reliable way to know if root[\"data\"] is an object vs an array using ServiceStack api?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 6:14:10 PM","shortDate":"May 28, 2014","textHtml":"Nope, SS expects you to tell it how it should interpret it.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 28, 2014, 6:30:53 PM","shortDate":"May 28, 2014","textHtml":"So what your saying really is put in a feature request? :) There are situations where I am dynamically parsing using the JsonObject and don't know if it's an object, array or a simple value.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 6:40:03 PM","shortDate":"May 28, 2014","textHtml":"In what situations are you expected to parse something you don't know the schema of?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 28, 2014, 6:45:06 PM\n(edited May 28, 2014, 6:45:54 PM)","shortDate":"May 28, 2014","textHtml":"Situations where the Model contains dynamic properties within a property called CustomProperties (type is&nbsp;Dictionary&lt;string, object&gt;). This is where I use JsonObject to parse it dynamically. For now I've written my own methods to determine the json types. The properties within this CustomProperties is defined outside of ServiceStack in a configurable definition file for custom properties.﻿"}],"date":"May 28, 2014, 11:04:59 AM","shortDate":"May 28, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"How do I disable all the /views/* url's in my web app?<br>Url's like this:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net/views/rockstars\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net/views/rockstars</a>&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://razor.servicestack.net/views/angularjs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://razor.servicestack.net/views/angularjs</a><br><br>When accessing my app with the views/ url I kind of bypass the login. So users can see the layout of my page without logging in.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 27, 2014, 10:56:10 AM\n(edited May 27, 2014, 10:56:37 AM)","shortDate":"May 27, 2014","textHtml":"ok should be resolved with this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/52a3f72976184a5d32698d2d5f85a86888a45211\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/52a3f72976184a5d32698d2d5f85a86888a45211</a><br><br>You can achieve the same behavior with:<br><br>Plugins.Add(new RazorFormat {<br>&nbsp; &nbsp; Deny = { path =&gt; path.StartsWithIgnoreCase(\"/views\") }<br>});﻿"}],"date":"May 27, 2014, 8:07:25 AM","shortDate":"May 27, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"When trying to build an iOS project in ad-hoc mode with Servicestack.Client.Pcl I get an error complaining that system.io.compression 4.0.0.0 is not available? Has anyone else seen this?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 10:10:31 AM","shortDate":"May 25, 2014","textHtml":"What's ad-hoc mode?﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"May 25, 2014, 11:29:40 AM","shortDate":"May 25, 2014","textHtml":"It's the mode you have to compile iOS apps in if you want to distribute them<br><br>I didn't know you were based in London!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 11:32:16 AM","shortDate":"May 25, 2014","textHtml":"Yeah spent 7 years in the UK, just over 5.5 years in London, 1.5 in Chester.<br><br>I'll check to see if it compiles fine for me...﻿"}],"date":"May 24, 2014, 7:02:55 AM","shortDate":"May 24, 2014"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"I'm facing some problems using the built in Authentication of SS in combination with jQuery. If some of you clever people would be so kind and take a look at my post, it would make my day :) Thanks!<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/23829927/servicestack-v4-mvc-authentication-and-use-of-js-client\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/23829927/servicestack-v4-mvc-authentication-and-use-of-js-client</a>﻿","comments":[{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"May 23, 2014, 9:20:03 AM","shortDate":"May 23, 2014","textHtml":"I managed to solve it after some further digging...﻿"}],"date":"May 23, 2014, 8:59:48 AM","shortDate":"May 23, 2014"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","textHtml":"I am using&nbsp;JsonSerializer.SerializeToString to serialize an object.<br>The object contains some properties which are byte arrays and for some reason these byte arrays are not being serialized as expected.<br><br>For example, byte[255,13,82,136] is being serialized as&nbsp;/w1SiA==<br><br>Any ideas what is going on?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 10:19:27 AM","shortDate":"May 20, 2014","textHtml":"byte[] are automatically base64 encoded.&nbsp;﻿"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","date":"May 20, 2014, 4:05:26 PM","shortDate":"May 20, 2014","textHtml":"Is there any way I can prevent the automatic base64 encoding? I just want to use&nbsp;SerializeToString and&nbsp;DeserializeFromString on objects that have some byte array properties.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 4:17:20 PM\n(edited May 20, 2014, 8:03:21 PM)","shortDate":"May 20, 2014","textHtml":"That's not going to work on a text stream. There's a reason why binary data is encoded in Base64 in the first place, i.e. so it can be safely transported with different text encodings.&nbsp;<br><br>The Base64 encoding should be a transparent impl detail that should happily de/serialize objects to and from JSON. Do you have an example that doesn't work?﻿"}],"date":"May 20, 2014, 9:21:17 AM","shortDate":"May 20, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"I seem to be having problems using servicestack's JsonServiceClient in a Windows App (8.1) project. I just created a sample project to see it work, and the app always freezes on \"new JsonServiceClient()\". Downloading Hello from&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello</a> also reproduces the issue. Breaking it after a while the call stack looks like it is stuck loading assemblies. Any clues as to why this might be?﻿","comments":[{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"May 19, 2014, 5:00:27 PM","shortDate":"May 19, 2014","textHtml":"Apparently getting the list of assemblies is really the problem. Replaced it with: &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PclExport.Configure(JustThisAssemblyPclExport.Configure());<br><br>Prior to instantiating the client and it starts working.<br><br>private class JustThisAssemblyPclExport : WinStorePclExport<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public new static JustThisAssemblyPclExport Provider = new JustThisAssemblyPclExport();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public JustThisAssemblyPclExport()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.PlatformName = \"WindowsStore\";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public static PclExport Configure()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Configure(Provider);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Provider;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; public override Assembly[] GetAllAssemblies()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new[] {this.GetType().GetAssembly()};<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"May 19, 2014, 5:02:23 PM","shortDate":"May 19, 2014","textHtml":"To workaround this problem you must kind of  \"initialize\" the JsonServiceClient by creating the first instance using a Task or a background worker, then you will be able to create new instance from the UI thread﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"May 19, 2014, 5:31:03 PM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;thanks for the tip. At the moment my workaround kind of works, but I'll look at your suggestion later on.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 19, 2014, 6:36:29 PM","shortDate":"May 19, 2014","textHtml":"hmmm, This is happening for me as well, It basically starts hanging when it tries to debug into ServiceClientBase. Thanks for the tip <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;- I'll do more digging to see if I can mitigate the issue.﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"May 19, 2014, 6:47:49 PM","shortDate":"May 19, 2014","textHtml":"It is blocking in the await of GetAllAssemblies, maybe ConfigureAwait will fix the issue as doing a await in a constructor may be the real issue...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 10:55:14 AM","shortDate":"May 20, 2014","textHtml":"ok this was being caused by a dead-lock when trying to `await folder.GetFilesAsync()` here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/PclExport.WinStore.cs#L93\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/PclExport.WinStore.cs#L93</a><br><br>Which was implicitly getting called in the Env constructor when trying to auto-detect the platform. It's now been changed to detect WinStore platform based on platform name reported on PclExport instances at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/Env.cs#L17\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/Env.cs#L17</a><br><br>This change has now been deployed to MyGet.﻿"}],"date":"May 19, 2014, 4:23:11 PM","shortDate":"May 19, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"I am unable to open an issue on GitHub (can't figure out why), so here goes a tiny error report that should hopefully be easy to fix: when using PostFileWithRequest from SL5 app, the app crashes with System.NotImplementedException, call stack follows:<br><br>&nbsp; &nbsp; System.Net.Browser.BrowserHttpWebRequest.set_AllowAutoRedirect(Boolean value)<br>&nbsp; &nbsp; ServiceStack.Sl5PclExport.Config(HttpWebRequest req, Nullable`1 allowAutoRedirect, Nullable`1 timeout, Nullable`1 readWriteTimeout, String userAgent, Nullable`1 preAuthenticate)<br>&nbsp; &nbsp; ServiceStack.ServiceClientBase.PrepareWebRequest(String httpMethod, String requestUri, Object request, Action`1 sendRequestAction)<br>&nbsp; &nbsp; ServiceStack.ServiceClientBase.&lt;&gt;c__DisplayClass1b`1.&lt;PostFileWithRequest&gt;b__18()<br>&nbsp; &nbsp; ServiceStack.ServiceClientBase.PostFileWithRequest[TResponse](String relativeOrAbsoluteUrl, Stream fileToUpload, String fileName, Object request)<br><br>Demis, I've seen you've been working on exactly this API call very recently (last few commits) as well as updated SL5 DLLs, maybe you could quickly look into this or confirm that it has already been fixed?<br><br>We're on 4.0.11, looking to upgrade to the latest most likely tomorrow. If a simple upgrade will resolve this (meaning it already works in current version) then sorry for the noise.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 15, 2014, 1:04:50 PM","shortDate":"May 15, 2014","textHtml":"The Issues have moved here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>Just tested it in both ClientHttp and BrowserHttp clients, attempting to set it throws NotImplementedException so no longer attempting to set it in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/commit/9125411c33ba337992e75a12d3d0b663758c1fc9\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/commit/9125411c33ba337992e75a12d3d0b663758c1fc9</a>﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 15, 2014, 3:02:03 PM","shortDate":"May 15, 2014","textHtml":"Great! Any idea on when the next NuGet package will come out? What was it, week or two week between releases (under regular circumstances)?﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 15, 2014, 3:03:06 PM","shortDate":"May 15, 2014","textHtml":"Thanks for the pointer to issues, was looking for it in the ServiceStack repo like crazy for several minutes :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 15, 2014, 4:01:07 PM","shortDate":"May 15, 2014","textHtml":"Next NuGet release is likely in 2 weeks, but you can grab that change on MyGet now:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jun 12, 2014, 8:53:56 AM","shortDate":"Jun 12, 2014","textHtml":"OK, looks like the fix(es) have completely broken the SL support for PostFileWithRequest. Unfortunately, there isn't anything I can send you - there's no crash, no exception, nothing traced - once I call the aforementioned API, SL client just sits there. The .NET clients works fine against the same service, so it has to be in the client.<br>I will post this info to github issues and link back here.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 13, 2014, 1:32:03 AM","shortDate":"Jun 13, 2014","textHtml":"Left comments on the Issues list, I'm curious when SL ever&nbsp;had support for sync calls like PostFileWithRequest in the UI Thread?﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jun 13, 2014, 7:12:48 AM","shortDate":"Jun 13, 2014","textHtml":"Yeah, never, sorry if my discourse implied that it did. For those interested, the discussion in the issue is interesting, should follow it there.﻿"}],"date":"May 15, 2014, 12:35:01 PM","shortDate":"May 15, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello, I've got a problem with ServiceStack/Redis and my AuthProvider...sometime not always I get this kind of exception \"<br>unknown command 'urn:iauthsession:SYNrA8QHA5Mi86xscJu8', sPort: 63928, LastCommand:<br>\"<br><br>and here's the Stack Trace<br><br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.CreateResponseError(String error)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.ParseSingleLine(String r)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.&lt;&gt;c__DisplayClass16`1.&lt;Get&gt;b__15(RedisClient r)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.Exec[T](Func`2 action)<br>&nbsp;&nbsp; at ServiceStack.ServiceExtensions.GetSession(IRequest httpReq, Boolean reload)<br>&nbsp;&nbsp; at ServiceStack.AuthenticateAttribute.Execute(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.RequestFilterAttribute.RequestFilter(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.Host.ServiceRunner`1.Execute(IRequest request, Object instance, TRequest requestDto)<br><br>My SS request is something as<br><br>&nbsp;[Authenticate]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public object Any(RicercaRapportoRequest request)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string storedProcedure = StoredProcedures.Get(\"xxx\");<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var result = Db.ExecCommand(dbCmd =&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.CommandText = storedProcedure;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.Parameters.Add(parameters.....);<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return dbCmd.ExecuteReader().ConvertToList&lt;RicercaRapportoItem&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>What can go wrong here?<br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 12, 2014, 11:29:27 AM\n(edited May 12, 2014, 11:31:46 AM)","shortDate":"May 12, 2014","textHtml":"You're showing a Redis Exception with OrmLite source code?&nbsp;I wont be able to repro this. Do you have anywhere where you use the Redis client directly?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"May 12, 2014, 11:36:03 AM","shortDate":"May 12, 2014","textHtml":"No, I just use Redis client for keeping authentication's session..... so my keys are (for now)<br>urn:iauthsession:2hgTfXy8kRMUevYxRlBu<br>urn:iauthsession:ipps8qXb9eW8y4Oj32Js<br>urn:iauthsession:eNGVNbKpXAN9KRHbdVoL<br><br>it seems that for some reason it tries to execute that command \"'urn:iauthsession:SYNrA8QHA5Mi86xscJu8',\" instead of get urn:iauthsession:lXRuzZEb1eoHGGsju6RP﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 12, 2014, 11:37:57 AM","shortDate":"May 12, 2014","textHtml":"How is your Redis and AuthFeature registered?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"May 12, 2014, 11:43:07 AM","shortDate":"May 12, 2014","textHtml":"Here's my Redis registration.<br><br>public void RegisterCacheProvider(Funq.Container container)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bool redisEnabled = Convert.ToBoolean(ConfigurationManager.AppSettings.Get(\"enableRedis\"));<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (redisEnabled)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var strRedisHost = ConfigurationManager.AppSettings.Get(\"redisHost\");<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var redisClient = new ServiceStack.Redis.RedisClient(strRedisHost);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Register&lt;ICacheClient&gt;(redisClient);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var cacheClient = new MemoryCacheClient();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Register&lt;ICacheClient&gt;(cacheClient);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>and after I register my Auth as<br><br>&nbsp;&nbsp;&nbsp; Plugins.Add(new IdeaAuthFeature(ConfigurationManager.ConnectionStrings[\"default\"].ConnectionString, sessionExpiry));<br><br>My IdeaAuthFeature's registration is<br><br>&nbsp;&nbsp;&nbsp;&nbsp; public void Register(IAppHost appHost)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var container = appHost.GetContainer();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (container.TryResolve&lt;IUserAuthRepository&gt;() == null)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Register&lt;IUserAuthRepository&gt;(new InMemoryAuthRepository()); &nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (container.TryResolve&lt;ICacheClient&gt;() == null)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; container.Register&lt;ICacheClient&gt;(new MemoryCacheClient());&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Cache provider to store sessions.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var authFeature = new AuthFeature(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; () =&gt; new IdeaAuthUserSession(),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new IAuthProvider[]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new IdeaAuthProvider()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Provider = ProviderName,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConnectionString = connectionString,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SessionExpiry = sessionExpiry // Expire assoluta riferita al momento di creazione della sessione.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; appHost.Plugins.Add(authFeature);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; authFeature.Register(appHost);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>The strange thing is that this only happens sometimes...maybe I&nbsp; got 3 errors, the 4 is ok...﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"May 12, 2014, 11:46:25 AM","shortDate":"May 12, 2014","textHtml":"Right now I got 2 new exception<br><br>Protocol error: expected '$', got '*', sPort: 64460, LastCommand:<br><br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.CreateResponseError(String error)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.ParseSingleLine(String r)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.&lt;&gt;c__DisplayClass16`1.&lt;Get&gt;b__15(RedisClient r)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.Exec[T](Func`2 action)<br>&nbsp;&nbsp; at ServiceStack.ServiceExtensions.GetSession(IRequest httpReq, Boolean reload)<br>&nbsp;&nbsp; at ServiceStack.AuthenticateAttribute.Execute(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.RequestFilterAttribute.RequestFilter(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.Host.ServiceRunner`1.Execute(IRequest request, Object instance, TRequest requestDto)<br><br>Object reference not set to an instance of an object.<br><br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.HandleSocketException(SocketException ex)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.FlushSendBuffer()<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisNativeClient.SendExpectData(Byte[][] cmdWithBinaryArgs)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.&lt;&gt;c__DisplayClass16`1.&lt;Get&gt;b__15(RedisClient r)<br>&nbsp;&nbsp; at ServiceStack.Redis.RedisClient.Exec[T](Func`2 action)<br>&nbsp;&nbsp; at ServiceStack.ServiceExtensions.GetSession(IRequest httpReq, Boolean reload)<br>&nbsp;&nbsp; at ServiceStack.AuthenticateAttribute.Execute(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.RequestFilterAttribute.RequestFilter(IRequest req, IResponse res, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.Host.ServiceRunner`1.Execute(IRequest request, Object instance, TRequest requestDto)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 12, 2014, 11:51:29 AM","shortDate":"May 12, 2014","textHtml":"You're using an instance of redisClient as a singleton instance. The RedisClient isn't thread-safe only the ClientManagers are. See how to register a Redis CacheClient here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Caching#redis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Caching#redis</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"May 12, 2014, 2:30:57 PM","shortDate":"May 12, 2014","textHtml":"Hello Demis,<br>It seems to work! Thanks!﻿"}],"date":"May 12, 2014, 11:21:52 AM","shortDate":"May 12, 2014"},{"userId":"111566548421189684824","userName":"Phillip Powers","textHtml":"Register and rerouting routes: &nbsp;Is there any built-in way to register multiple routes and then have 1 route basically map itself to another?<br><br>For example, in a multi-tenant scenario with the following Request DTO:<br><br>Route[\"/api/{Tenant}/resource/{ResourceType}\"]<br>public class TenantRequest : IReturn&lt;TenantResponse&gt;<br>{<br>\tpublic string Tenant { get; set; }<br>\tpublic string ResourceType { get; set; }<br>}<br><br>I'd like to add a route:&nbsp;/api/tenant1/resourceOne<br><br>And have that map to TenantRequest with \"Tenant\" property set to \"tenant1\" and \"ResourceType\" property set to \"resourceOne\".<br><br>I could probably do this by redirecting the URL, but I'd rather just accept the request and redirect internally to the original service.<br><br>Thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 10, 2014, 6:05:06 PM","shortDate":"May 10, 2014","textHtml":"Not sure if this is what you're after, but the automated routing strategy is documented here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Routing#auto-route-generation-strategies\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Routing#auto-route-generation-strategies</a><br><br>Note:&nbsp;[Route(\"/api/{Tenant}/resource/{ResourceType}\")] doesn't match:<br>/api/tenant1/resourceOne, it would match:<br>/api/tenant1/resource/resourceOne<br><br>The definition you'll need is: [Route(\"/api/{Tenant}/{ResourceType}\")]﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"May 10, 2014, 9:50:27 PM","shortDate":"May 10, 2014","textHtml":"No, that's not quite what I meant.<br><br>Here's the scenario: &nbsp;I have one \"central\" web service that I want to be accessible to multiple tenants. However, what's considered a \"subresource\" to this central web resource is a first-class resource to each individual tenant. Because each tenant might have different resources, the {Tenant}/{ResourceType} would be ambiguous, so those have to be absolute paths and not variables.<br><br>Basically what I think I'm after is for a way to create specialized versions of a pre-existing route:<br><br>Route[\"/api/{Tenant}/resourceA/{SubResourceType}\"]<br>Route[\"/api/TenantOne/ResourceOne\", \"Tenant=TenantOne;SubResourceType=ResourceOne\"]<br>public class TenantRequest : IReturn&lt;TenantResponse&gt;<br>{<br>public string Tenant { get; set; }<br>public string SubResourceType { get; set; }<br>}<br><br>That way I could have a separate \"api/{Tenant}/resourceB/...\" handled by a different \"central\" web service and use the same tenant-specific routing conventions without there being any sort of ambiguity.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 11, 2014, 12:28:31 AM\n(edited May 11, 2014, 12:30:32 AM)","shortDate":"May 11, 2014","textHtml":"I'm still having a hard time trying to figure out whats needed.<br>Maybe if we can map from exact routes to the target Request DTO and to highlight what ambiguity you want to avoid, is this right?<br><br>/api/TenantOne/ResourceOne =&gt; new TenantRequest {&nbsp;Tenant&nbsp;= \"TenantOne\",&nbsp;SubResourceType = \"ResourceOne\" }<br>/api/TenantTwo/ResourceTwo =&gt;&nbsp;new TenantRequest { Tenant = \"TenantTwo\", SubResourceType = \"ResourceTwo\" }<br><br>Do you also know how to call a Service internally with:<br><br>using (var service = base.ResolveService&lt;ServiceOne&gt;())<br>{<br>&nbsp; &nbsp; var response = service.Any(request.ConvertTo&lt;InternalRequest&gt;());<br>}﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"May 11, 2014, 12:52:56 AM","shortDate":"May 11, 2014","textHtml":"The ambiguity is possible when the single TenantRequest can map to multiple centralized services:<br><br>/api/TenantOne/TenantOneSubType -&gt; /api/tenant/{TenantName}/ResourceA/{SubResourceType} &nbsp;(\"SubResourceType = TenantOneSubType\")<br>/api/TenantTwo/TenantTwoSubType -&gt; /api/tenant/{TenantName}/ResourceB/{SubResourceType} &nbsp;(\"SubResourceType = TenantTwoSubType\")<br><br>I was wondering if there was any way to specify these route specializations - essentially what's variable to the centralized services are constants to the tenants. Basically, add a route to an existing DTO and provide constants for some subset of variables.<br><br>Your suggestion of ResolveService&lt;&gt;() might work, though. I think I should be able to have the tenant-specific requests hit a single service and then do my own routing from there? &nbsp;<br><br>Thanks!﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 11, 2014, 7:48:37 AM\n(edited May 11, 2014, 8:10:46 AM)","shortDate":"May 11, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;As I remember from&nbsp; your previous answers( maybe I have not understood them well&nbsp; and did not test it yet ) , we can reroute a service call, from Action Request Filters, instead to call another service from&nbsp; the first one. This would be very useful in a tenant's scenario, If I have understood well. Can you remind us&nbsp; if it is true or not and&nbsp; how.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 11, 2014, 9:44:57 AM","shortDate":"May 11, 2014","textHtml":"Not from an action filter, but from inside the Service you can use base.ResolveService&lt;TService&gt;() to delegate into another service.﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"May 12, 2014, 4:30:52 PM","shortDate":"May 12, 2014","textHtml":"Created a Pull Request with desired functionality:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/pull/916\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/pull/916</a><br><br>It's pretty straight-forward, and the unit tests I added make it pretty clear. &nbsp;This lets you include constants that are to be bound to a REST request's variables, making the intermediate service unnecessary.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"May 15, 2014, 4:29:26 PM","shortDate":"May 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/111566548421189684824\" oid=\"111566548421189684824\">Phillip Powers</a></span>&nbsp;could you post a couple of sample sevice files online for us to take a look at, along with the sample urls you'd want? &nbsp;I am curious to visualize the intended feature﻿"}],"date":"May 10, 2014, 1:16:42 PM","shortDate":"May 10, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"I'm trying to use the auth/facebook?continue=<a rel=\"nofollow\" target=\"_blank\" href=\"http://blah.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://blah.com</a> (continue) parameter to allow us to redirect users to a specific page from a facebook canvas app. The redirect works if the user was not logged in before hitting the site. However - if the user was logged in prior to hitting the site the continue parameter seems to be ignored. Is there anyway around this?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 9, 2014, 12:13:13 PM","shortDate":"May 9, 2014","textHtml":"Here are the different ways to set the redirectUrl:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthenticateService.cs#L125\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthenticateService.cs#L125</a><br><br>What url does it redirect to instead?﻿"}],"date":"May 9, 2014, 10:38:20 AM","shortDate":"May 9, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"More Swagger Customization<br><br>Can we alter the default URL of the swagger plugin to be something like: /api/docs<br>instead of the default: /api/swagger-ui ??<br><br>Can it be done? What do I have to change apart from the default directory?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 5:00:51 PM","shortDate":"May 7, 2014","textHtml":"Not really it's hard-coded into SwaggerFeature&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Api.Swagger/SwaggerFeature.cs#L38\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Api.Swagger/SwaggerFeature.cs#L38</a><br><br>The name is required because the underlying directory is named swagger-ui/.&nbsp;<br><br>One approach is to redirect redirect /docs to /swagger-ui, e.g:<br><br>this.RawHttpHandlers.Add(httpReq =&gt;&nbsp;<br>&nbsp; &nbsp;return&nbsp;httpReq.PathInfo == \"/docs\"<br>&nbsp; &nbsp; &nbsp; ? new RedirectHttpHandler {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RelativeUrl = \"/swagger-ui }<br>&nbsp; &nbsp; &nbsp; : null;<br>});﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 5:14:26 PM","shortDate":"May 7, 2014","textHtml":"OK, do you reckon I could create my own variant of SwaggerFeature() class and change what is hardcoded there? Or might there be other stuff scattered elsewhere in the code do you think?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 5:19:35 PM","shortDate":"May 7, 2014","textHtml":"If you want, you can bundle the swagger assets as part of your app and rename the directory to /docs.<br><br>You'd also need to copy the Swagger Classes in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Api.Swagger\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Api.Swagger</a><br>and just rename swagger-ui to docs.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 7:01:58 PM","shortDate":"May 7, 2014","textHtml":"Thanks. found a slightly different way of doing it, by creating my own IPlugIn, passing in the SwaggerFeature, and replacing the Metadata registration and requesthandler to do what I needed. Seems to be sustainable for now.﻿"}],"date":"May 7, 2014, 4:17:27 PM","shortDate":"May 7, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"I am having trouble using swagger. I have followed the instructions here <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API</a> to the letter. I am installing teh 4.0.15 version of the NuGet<br><br>My services and work fine at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4431/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4431/api</a><br>I can see the SS metadata page at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4431/api/metadata\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4431/api/metadata</a><br>I can see the swagger console at <a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4431/swagger-ui/index.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4431/swagger-ui/index.html</a>, and my services are summarized on this page.<br><br>My problem is that none of the links on the swagger summary page work at all (e.g. 'Show/Hide or 'List Operations' or 'Expand operations') except the 'Raw' link which does work. Clicking them does nothing.<br><br>The other wierd thing I see, is at the bottom of the summary page it says:<br>[ base url: <a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4434/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4434/api</a> ]<br>which is clearly a different port than the page itself!!!<br><br>I am hosting the services in IISExpress in the Azure emulator, and I know the emulator does funny stuff with ports.<br><br>Any ideas what might be going on here?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 1:51:54 AM","shortDate":"May 7, 2014","textHtml":"Did you click on the Swagger link on the metadata page? e.g.&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4431/api/swagger-ui/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4431/api/swagger-ui/</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 1:53:24 AM","shortDate":"May 7, 2014","textHtml":"If Azure is proxying through different ports you may need to explicitly set Config.WebHostUrl﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 3:04:22 AM","shortDate":"May 7, 2014","textHtml":"yep, did click the link on the metadata page. Get same result in swagger.<br>Ill explore the Config.WebHostUrl thing﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 3:53:24 AM","shortDate":"May 7, 2014","textHtml":"Also what does ?debug=requestinfo show?&nbsp;<br>Needs to be in DebugMode, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#request-info</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 5:44:30 AM","shortDate":"May 7, 2014","textHtml":"So, just discovered that the problem occurs only in the Azure emulator on the desktop. It does not occur once deployed to Azure staging environment, which smells like the emulator doing some port magic. Just not sure how to prevent that!!<br><br>?debug=requestinfo shows me the 4434 port not the 4431 port﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 5:05:47 PM","shortDate":"May 7, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I tried to set Config.WebHostUrl hardcoded (<a rel=\"nofollow\" target=\"_blank\" href=\"https://127.0.0.1:4431/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://127.0.0.1:4431/api</a>) and that fixes the problem in desktop emulation mode.<br>I never had the problem in the Azure hosted environment (staging or prod). I don't want this setting in those deployments, I think can manage that with Azure magic.<br><br>So now, if that is the fix for desktop mode only, Can I derive my WebHostUrl in some way in AppHost.Configure() instead of hardcoding all of it?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 5:22:36 PM","shortDate":"May 7, 2014","textHtml":"You can't infer the HTTP Request information outside the context of a HTTP Request which is only available at runtime (i.e. not on App_Start)<br><br>But there are several options for loading different configuration for different environments, there's a tier option in AppSettings:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#appsettings-1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#appsettings-1</a><br><br>You can read from an Environment variable for that OS:<br><br>SetConfig(new HostConfig {<br>&nbsp; &nbsp; WebHostUrl =&nbsp;Environment.GetEnvironmentVariable(\"WebHostUrl\")<br>});<br><br>You can use TextFileSettings to read from appSettings in an external file:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#extract-key--value-settings-from-text-file\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#extract-key--value-settings-from-text-file</a><br>And then not deploy this text file with the App so the live environments fallback to the default behavior﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 7:04:08 PM","shortDate":"May 7, 2014","textHtml":"thanks, used the RoleEnvironment.IsEmulated flag to differentiate desktop Emulator from Azure hosted enviro. Then read the URL from CloudConfigurationManager settings to avoid hardcoding.﻿"}],"date":"May 7, 2014, 1:42:54 AM\n(edited May 7, 2014, 1:48:52 AM)","shortDate":"May 7, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"How we can add&nbsp; summary, notes&nbsp; in Routes&nbsp; using the Fluid API ?<br>People love swagger,&nbsp; our&nbsp; analyst&nbsp; wants to write the description, using our web interface. We use Fluid API,&nbsp; so&nbsp; we are able to fetch the updated descriptions,&nbsp; before AppHost Routing. But in Fluid API, there are not public parameters for summary / notes, as in classic&nbsp; Route attribute.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 5, 2014, 3:09:15 PM","shortDate":"May 5, 2014","textHtml":"The API is here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceRoutes.cs#L54\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceRoutes.cs#L54</a><br><br>You can also add attributes dynamically, e.g:<br>typeof(Request)<br>&nbsp; .AddAttributes(new ApiAttribute(\"Description\"));<br><br>Which you can do for all attributes including the Swagger Attributes:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#swagger-attributes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#swagger-attributes</a><br><br>Note: Because the [Route] attribute are loaded before AppHost.Configure() if you to add them dynamically you'd need to add earlier like in the AppHost constructor.﻿"}],"date":"May 5, 2014, 9:17:09 AM\n(edited May 5, 2014, 9:53:41 AM)","shortDate":"May 5, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"We have&nbsp; a requirement&nbsp; to build a service,&nbsp; which will&nbsp; use for authentication the Azure Active Directory Graph.&nbsp; Is it possible ServiceStack &nbsp; to support it, soon ? &nbsp; any user experience also, it would be helpful, thx﻿","comments":[{"userId":"111561042663391190337","userName":"Johann Klemmack","date":"May 3, 2014, 12:41:47 AM","shortDate":"May 3, 2014","textHtml":"I have exactly the same issue. &nbsp;My company recently moved to Office365 and while I can use AD / Windows Authentication internally right now, there is pressure to make our apps honor Azure Active Directory. &nbsp;I've been playing with Azure's OAuth support, but ran into some stumbling blocks out of the gate :(﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 3, 2014, 12:58:25 AM","shortDate":"May 3, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/111561042663391190337\" oid=\"111561042663391190337\">Johann Klemmack</a></span><br>&nbsp;thx,&nbsp; have you seen this source&nbsp; ?&nbsp;&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/auth10/Auth10.WindowsAzureActiveDirectory\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/auth10/Auth10.WindowsAzureActiveDirectory</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 3, 2014, 2:36:58 PM","shortDate":"May 3, 2014","textHtml":"Supporting AD is definitely on the roadmap, but don't have an ETA on it. I'd be first looking at integrating <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> WindowsAuth then internal AD after that, hopefully Azure AD works the same way.&nbsp;﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 4, 2014, 3:18:25 PM\n(edited May 4, 2014, 3:19:47 PM)","shortDate":"May 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>I would like to ask if OWIN compatibility has been finally&nbsp; excluded as a feature proposal.&nbsp; because maybe it would be helpful for Azure AD authentication,&nbsp; like this post says using NancyFX<br>&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://dhickey.ie/post/2014/01/04/Protecting-a-Self-Hosted-Nancy-API-with-MicrosoftOwinSecurityActiveDirectory.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://dhickey.ie/post/2014/01/04/Protecting-a-Self-Hosted-Nancy-API-with-MicrosoftOwinSecurityActiveDirectory.aspx</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 4, 2014, 3:42:49 PM\n(edited May 4, 2014, 3:43:27 PM)","shortDate":"May 4, 2014","textHtml":"Authentication isn't just being able to call into AD it also includes integration with the rest of SS Auth. I've already explained my position on OWIN on the feature request, it will be reconsidered once a new hosting option is available. OWIN support isn't a trivial feature that you can just \"tack-on\", it wants to redefine how you compose and configure your service host, which adds complexity, confusion that will increase the support burden. It's not something I'm considering lightly.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 4, 2014, 3:50:44 PM\n(edited May 4, 2014, 3:52:21 PM)","shortDate":"May 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; Is it possible to get SS operate in 2 different states ?&nbsp; as&nbsp; it works normally&nbsp; but also in&nbsp; another state, as OWIN compatible ( this with basic functionality maybe) ?<br>BTW, we started to use&nbsp; a special&nbsp; error service which receive all errors&nbsp; from other services or clients. It&nbsp; can return&nbsp; also instructions. Results are excellent.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 4, 2014, 3:54:34 PM\n(edited May 4, 2014, 4:00:39 PM)","shortDate":"May 4, 2014","textHtml":"What SS features are expected to be supported in this new OWIN compatible state? everything? Also note having multiple conflicting/competing \"states\" is exactly the confusion I'm trying to avoid.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 4, 2014, 4:01:00 PM\n(edited May 4, 2014, 4:05:57 PM)","shortDate":"May 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>personally, from SS,&nbsp; I use only the REST&nbsp; service functionality&nbsp; (not ORM, not redis) FLUID&nbsp; API and I am very happy with it.&nbsp;&nbsp;&nbsp; I would like from OWIN, 2 things. If possible to be able to authenticate with Azure AD or Active Directory and the SignalR integration.&nbsp;&nbsp; Otherwise I can use all the SS features in&nbsp; a non OWIN compatible SS.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 4, 2014, 4:19:43 PM","shortDate":"May 4, 2014","textHtml":"In an ideal world I'd like to have native support in SS for AD and WebSockets via Plugins that integrates nicely with the rest of SS. IMO one of the value propositions of SS is that its easy to compose and reason-about and for the most part&nbsp;things integrate nicely and \"just works\".&nbsp;<br><br>I'm aware support for SignalR in self-hosting is the primary reason for OWIN and am considering what the best story for SS + WebSockets would look like, it just takes time to execute.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 4, 2014, 6:03:42 PM","shortDate":"May 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span> I would agree with you as you say \"to have native support in SS for AD and WebSockets via Plugins that integrates nicely with the rest of SS.\"<br>&nbsp;﻿"}],"date":"May 2, 2014, 8:18:46 PM\n(edited May 3, 2014, 12:18:56 AM)","shortDate":"May 2, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"OK&lt; I am using AbstractValidator&lt;T&gt; for my DTO's as they come into my services. They are working fine.<br><br>My question is that when I send a request will invalid content I get the expected WebServiceException in the JsonClient, however, the exception message may simply say: &nbsp;\"Predicate\" when I have a rule that uses the Must() method.<br><br>Can I customize the error message that is sent to the client to give more helpful guidance?<br><br>I have read the validation wiki, but not able to get what I would need other than \"Predicate\".<br><br>Any pointers?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 28, 2014, 3:36:57 AM","shortDate":"Apr 28, 2014","textHtml":"Do you mean the .WithMessage() ext method?<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/EmailContacts/#fluent-validation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/EmailContacts/#fluent-validation</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 28, 2014, 3:51:57 AM","shortDate":"Apr 28, 2014","textHtml":"Yes, WithMessage() did'nt seem to have any effect on the message text of the WebServiceException.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 28, 2014, 11:14:49 AM","shortDate":"Apr 28, 2014","textHtml":"What do you mean by \"message text\" the HTTP StatusDescription? or ResponseStatus.Message field?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 28, 2014, 5:43:31 PM","shortDate":"Apr 28, 2014","textHtml":"WSE.ErrorCode = Predicate<br>WSE.ErrorMessage = null<br>WSE.Message = Predicate<br>WSE.Statuscode = 400<br>WSE.StatusDescription = Predicate<br><br>When I have a ResponseStatus property in my Request DTO:<br>WSE.ErrorCode = Predicate<br>WSE.ErrorMessage = whatever WithMessage() says<br>WSE.Message = Predicate<br>WSE.Statuscode = 400<br>WSE.StatusDescription = Predicate<br><br>It would be handy to somehow give the consumer (JsonClient) a clue as to what caused the 400 in the exception, with perhaps some guidance on how to fix it/pointer to API doco<br><br>As to which properties of this exception to reflect that (or whether to do that in the response headers), I guess we can debate that, largely based on the intention of this exception class. Either way the text \"Predicate\" does little to help anyone consuming the API discover what they did wrong in the request.<br><br>How can we make this experience better?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 28, 2014, 7:09:13 PM","shortDate":"Apr 28, 2014","textHtml":"How did you get the \"Predicate\" text?<br><br>Here's an example of the expected response of using the validator:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/CustomerServiceValidationTests.cs#L321-L338\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/CustomerServiceValidationTests.cs#L321-L338</a><br><br>You can also use the .WithErrorCode() to specify what the ErrorCode should be.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 29, 2014, 4:51:58 PM","shortDate":"Apr 29, 2014","textHtml":"Predicate comes from calling the Must() method.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 29, 2014, 5:17:58 PM","shortDate":"Apr 29, 2014","textHtml":"ok cool, so the .WithErrorCode() should allow you to specify a user-defined code? By default the ResponseStatus.Message takes the Message of the first error﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 29, 2014, 6:20:18 PM\n(edited Apr 29, 2014, 6:20:48 PM)","shortDate":"Apr 29, 2014","textHtml":"Yes, I conclude now that an implementer requires the ResponseStatus property in the response DTO in order for either WithMessage() or WithErrorCode() to have any effect on the top level fields in the WebServiceException. That looks to be the root cause of the problem at this point. i.e. thinking the ResponseStatus property was optional or automatic in the new API.<br><br>Perhaps a note in the wiki to this kind of effect would help others coming after, do you think?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 29, 2014, 6:24:52 PM","shortDate":"Apr 29, 2014","textHtml":"A generic ErrorResponse that includes a ResponseStatus property should be returned when your Response DTO doesn't have the \"{RequestDto}Response\" naming format. This is documented here:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#error-response-types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#error-response-types</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Apr 29, 2014, 8:00:17 PM","shortDate":"Apr 29, 2014","textHtml":"wikid, thanks! I must have missed that nugget many times past. I apologise.﻿"}],"date":"Apr 28, 2014, 3:07:20 AM","shortDate":"Apr 28, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Demis, would you consider modifying the Required attribute and StringLength attributes to have a CONDITIONAL MinimumLength parameter. &nbsp;By allowing the RequiredAttribute to accept an optional boolean of false, the property can become optional. &nbsp;In turn, the MinimumLength parameter would only be evaluated when a value is actually supplied.<br><br>For example, our sample DTO contains a string parameter \"UpdatedByMemberId\" which must either be null or contain a valid UID of 32 characters. &nbsp;By setting these two values as described above we are able to truly validate this condition when a value is actually set...<br><br>[Required(false)]<br>[StringLength(32, MinimumLength = 32)]<br>public string AuditUpdatedByMemberId { get; set; }<br><br>The attributes' current functionality force validation of this nature to be handled by the application (and for bad data to be supplied). &nbsp;Since the only way to have an optional UID would be to NOT use the RequiredAttribute and to NOT set the MinimumLength parameter. &nbsp;In this scenario, any value of 32 characters or less could be supplied.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 22, 2014, 4:30:58 PM\n(edited Apr 22, 2014, 4:31:12 PM)","shortDate":"Apr 22, 2014","textHtml":"Can't you just use a Guid? datatype?﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Apr 22, 2014, 4:38:59 PM","shortDate":"Apr 22, 2014","textHtml":"In this scenario, unfortunately, no. &nbsp;The app needs to be compatible with both Oracle and SQL Server, which means the braces and dashes must not exist (ie RAW(32), char(32), etc.). &nbsp;But the theory is more about being able to check the MinimumLength only when a value is supplied... not just for a Guid. &nbsp;For example, we might have a SecretAnswer field that may be null OR a minimum of 3 characters.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 22, 2014, 4:45:51 PM","shortDate":"Apr 22, 2014","textHtml":"A Guid can coerce a UUID in a string in multiple formats.<br><br>Honestly it's better to use C#&nbsp;validation when you need it, that combination of attrs is less flexible and doesn't appear to be any more readable. It would also only be validated in OrmLite and not at the Request DTO.﻿"}],"date":"Apr 22, 2014, 4:25:55 PM","shortDate":"Apr 22, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"We currently are not supporting WSDL \"SOAP\". However, I'm making sure that I can turn it on and use a tool such as svcutil.exe to generate a proxy class etc.<br><br>I'm getting an error pertaining to the namespace.<br><br>Cannot import wsdl:binding<br>There was an error importing a wsdl:portType that the wsdl:binding is dependent on.<br><br>I specified the namespace for my services via the HostConfig class<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MetadataTypesConfig = new MetadataTypesConfig(addDefaultXmlNamespace: ServiceSettings.DefaultNamespaceCached),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WsdlServiceNamespace = ServiceSettings.DefaultNamespaceCached,<br><br>I'm setting a value of <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.site.com/service/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.site.com/service/types</a> for the DefaultNamespaceCached property.<br><br>Also, just to be clear I am using the standard Request and Response object with ResponseStatus to make sure SOAP should work.<br><br>Have I missed something or did something wrong?﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 10:22:52 AM","shortDate":"Apr 15, 2014","textHtml":"If I comment out those 2 sets for the WSDL namespace in the HostConfig object, then the namespace <a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.servicestack.net/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.servicestack.net/types</a> shows in the error now when generating a proxy.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 10:23:39 AM","shortDate":"Apr 15, 2014","textHtml":"This is for clients not having ServiceStack.Client; which I use 100% internally.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 10:28:33 AM\n(edited Apr 15, 2014, 10:29:23 AM)","shortDate":"Apr 15, 2014","textHtml":"Hi Bruce, SOAP support is documented on:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support</a><br><br>If you want your DTOs to use a different namespace it's best to use assembly contract attributes shown here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support#single-wsdl-namespace\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support#single-wsdl-namespace</a><br><br>The alternative is to add it on each [DataContract(Namespace=...)].﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 10:29:59 AM","shortDate":"Apr 15, 2014","textHtml":"if i use the wsdl.exe then I get a smaller error that is more direct.<br><br>Unable to import binding 'WSHttpBinding_ISyncReply' from namespace '<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.site.com/service/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.site.com/service/types</a>'.<br><br>- Unable to import operation 'Authenticate'.<br>- The element '<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.site.com/service/types:Authenticate\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.site.com/service/types:Authenticate</a>' is missing﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 10:31:38 AM","shortDate":"Apr 15, 2014","textHtml":"I'll look again. Maybe I missed something.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 10:36:31 AM","shortDate":"Apr 15, 2014","textHtml":"I have a feeling my Routes aren't equal in&nbsp;//In the AppHost's configure method.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 10:58:39 AM\n(edited Apr 15, 2014, 10:59:00 AM)","shortDate":"Apr 15, 2014","textHtml":"Yeah it you're going to have a problem if you're making use of built-in DTO's since the SOAP supports only 1 single namespace and namespaces for DTOs defined in other DTO's can't be changed (DataContract restriction).<br><br>Personally I'd leave the default namespace. XML namespaces are a major PITA whose very limited value doesn't justify the friction they cause.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:02:53 AM","shortDate":"Apr 15, 2014","textHtml":"yeah, i fixed my problem except now it's just complaining about Authenticate namespace, which is in it's own namespace. One which I can't change.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:03:15 AM","shortDate":"Apr 15, 2014","textHtml":"SOAP works if not using Authenticate?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:05:05 AM","shortDate":"Apr 15, 2014","textHtml":"For the reasons above, it should also work if you leave the default namespace.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:11:50 AM","shortDate":"Apr 15, 2014","textHtml":"Yup, got it to work by adding this to ServiceModel AssemblyInfo<br>[assembly: ContractNamespace<br><br>That was the main issue. It's not enough to just set the HostConfig WsdlServiceNamespace property.<br><br>When I removed the Auth plugin feature the proxy.cs was created fine.<br><br>I guess it's out of the question to set your own namespace for internal classes? Kinda defeats the purpose of namespace if I default back to <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.com/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.com/types</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:15:58 AM","shortDate":"Apr 15, 2014","textHtml":"AFAIK there's no way to change namespaces of types in an external assembly (a DataContract limitation).<br><br>Best I could do is run a string replace on the wsdl output?﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:18:42 AM","shortDate":"Apr 15, 2014","textHtml":"I think that just might work work!<br>This way , one could define&nbsp;WsdlServiceNamespace and have 1 namespace and SOAP would work regardless.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:29:05 AM","shortDate":"Apr 15, 2014","textHtml":"To make it work be using your namespace. I had to set it as<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.datacontract.org/2004/07/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.datacontract.org/2004/07/ServiceStack</a><br><br>in my ServiceModel.dll AssemblyInfo<br><br>and<br><br>WsdlServiceNamespace = \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.datacontract.org/2004/07/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.datacontract.org/2004/07/ServiceStack</a>\",﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:30:01 AM","shortDate":"Apr 15, 2014","textHtml":"ok this commit should do it:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/8f04c8940e9b5f31f16bc4aa95ed4dde53ddc6f5\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/8f04c8940e9b5f31f16bc4aa95ed4dde53ddc6f5</a><br><br>Will push to MyGet after running it through to CI, available in ~30 mins at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:32:35 AM","shortDate":"Apr 15, 2014","textHtml":"hmmm I should likely replace&nbsp;\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.datacontract.org/2004/07/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.datacontract.org/2004/07/ServiceStack</a>\" as well﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:34:21 AM","shortDate":"Apr 15, 2014","textHtml":"if I use <a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.servicestack.net/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.servicestack.net/types</a> as the value it doesn't work. have to use \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://schemas.datacontract.org/2004/07/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://schemas.datacontract.org/2004/07/ServiceStack</a>\" when falling back.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 11:42:03 AM","shortDate":"Apr 15, 2014","textHtml":"Thanks for making a change, i'll get the pre-release now.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:43:51 AM","shortDate":"Apr 15, 2014","textHtml":"not yet, I'll let you know when it's finished deploying.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 11:52:24 AM","shortDate":"Apr 15, 2014","textHtml":"ok it just finished.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 1:35:11 PM","shortDate":"Apr 15, 2014","textHtml":"works like a charm. I now have my own namespace defined for Authenticate and my Operations. You rock!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 1:39:01 PM","shortDate":"Apr 15, 2014","textHtml":"awesome, glad to hear it :)﻿"}],"date":"Apr 15, 2014, 10:20:00 AM","shortDate":"Apr 15, 2014"},{"userId":"110014371197006441655","userName":"Neisha Chadwick","textHtml":"I want to add some information onto response DTOs of a certain type automatically. I have used a custom ServiceRunner to achieve this, but I am having trouble getting it to work.<br><br>Here is my ServiceRunner:<br>&nbsp; &nbsp; &nbsp; &nbsp; public override object OnAfterExecute(IRequest requestContext, object response)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Called just after any Action is executed<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (response is IModifyable)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; StaticClass.ModifyResponse(response as IModifyable, requestContext.AbsoluteUri);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return response;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>The custom ServiceRunner is correctly initialized and runs. When I debug I can see my response object is modified (certain fields are populated) correctly, but when I get it back on the other end (ie. in the browser), the extra fields are not there or populated.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 5:20:05 AM","shortDate":"Apr 11, 2014","textHtml":"What does the Response DTO look like?﻿"},{"userId":"110014371197006441655","userName":"Neisha Chadwick","date":"Apr 11, 2014, 5:26:30 AM","shortDate":"Apr 11, 2014","textHtml":"Ahh the answer was staring me right in the face all along, I knew it! The solution is that I had forgotten to add the DataMember attributes to the additional fields implemented by my interface IModifyable. Thanks Demis!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 5:27:35 AM\n(edited Apr 11, 2014, 5:34:36 AM)","shortDate":"Apr 11, 2014","textHtml":"ok great, sounded like it should be working as expected.﻿"}],"date":"Apr 11, 2014, 5:17:13 AM","shortDate":"Apr 11, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hey Demis,<br><br>Could you take a look at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22974417/servicestack-iis-express-error\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22974417/servicestack-iis-express-error</a> &nbsp;<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 9, 2014, 6:08:31 PM\n(edited Apr 9, 2014, 6:09:13 PM)","shortDate":"Apr 9, 2014","textHtml":"Any chance you could provide a repro on:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>Like what would I need to do from a blank <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> project to see the issue?﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 10, 2014, 8:34:00 AM","shortDate":"Apr 10, 2014","textHtml":"I cannot do the repo as my work machine is locked down. &nbsp;But I have rewritten the question with steps to reproduce.&nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22974417/servicestack-redis-serialization-error\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22974417/servicestack-redis-serialization-error</a><br><br>This is definitely a breaking change in 4.0.16 based on my test. &nbsp;Please let me know as soon as you have a fix. &nbsp;Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 10, 2014, 10:54:18 AM","shortDate":"Apr 10, 2014","textHtml":"ok cool, was able to repro thx. Deploying a fix to MyGet now, will test then push a new NuGet release.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 10, 2014, 11:26:11 AM","shortDate":"Apr 10, 2014","textHtml":"Yep all good, deploying v4.0.17 to NuGet now, available in 15mins﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 10, 2014, 11:54:15 AM","shortDate":"Apr 10, 2014","textHtml":"Great. &nbsp;Thanks﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 10, 2014, 1:57:11 PM","shortDate":"Apr 10, 2014","textHtml":"Can you tell me what the issue was or comment on the StackOverflow question? &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 10, 2014, 2:06:25 PM","shortDate":"Apr 10, 2014","textHtml":"It was due to resolving an IDisposable dependency during initialization (i.e. not at runtime) which means the HttpContext.Items doesn't exist so disposables were being tracked in the&nbsp;CallContext's LogicalData store, which apparently in an IIS Express host doesn't support non-serializable items. So I've added a new Container.Exists&lt;T&gt; api to check for IOC existence so we no longer have to resolve items internally (in ServiceStackHost), we're also not tracking items in RequestContext during App initialization.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 10, 2014, 2:16:45 PM","shortDate":"Apr 10, 2014","textHtml":"Interesting, so why was it only throwing issues when I tried to use Redis?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 10, 2014, 2:19:17 PM","shortDate":"Apr 10, 2014","textHtml":"because there's defautl logic that if you haven't registered an ICacheClient it will first check to see if you have Redis registered in which case it will register it as an ICacheClient otherwise it will register a MemoryCacheClient instead, code is at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHost.cs#L376\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHost.cs#L376</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 10, 2014, 2:21:59 PM","shortDate":"Apr 10, 2014","textHtml":"Originally it was resolving the instance to check for existence, now it uses the new Exists method that checks without resolving an instance.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 10, 2014, 2:24:58 PM","shortDate":"Apr 10, 2014","textHtml":"Cool. &nbsp;Thanks for the explanation.﻿"}],"date":"Apr 9, 2014, 5:38:11 PM","shortDate":"Apr 9, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Is it possible in IIS to host ServiceStack web services and have a SignalR hub in the same project? I have a whole bunch of REST services that a mobile app uses and want to add a chat SignalR hub to the same project.﻿","comments":[{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Apr 7, 2014, 5:18:35 AM","shortDate":"Apr 7, 2014","textHtml":"Hello Dylan, yes it's possible... I've done it last week.... you just have to add to SignalR Startup that piece of code<br><br>&nbsp; public void Configuration(IAppBuilder app)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // For more information on how to configure your application, visit <a rel=\"nofollow\" target=\"_blank\" href=\"http://go.microsoft.com/fwlink/?LinkID=316888\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://go.microsoft.com/fwlink/?LinkID=316888</a>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app.MapSignalR(\"/signalr\", new HubConfiguration());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var serviceStackAppHost =new AppHost();<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; serviceStackAppHost.Init();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br><br>since SignalR uses Owin to start and not WebActivator﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Apr 7, 2014, 5:45:00 AM","shortDate":"Apr 7, 2014","textHtml":"Ah man high five!﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 7, 2014, 1:03:37 PM","shortDate":"Apr 7, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/100491071359445191402\" oid=\"100491071359445191402\">Dylan v.d Merwe</a></span>&nbsp;Also check this stackoverflow post out too. If you have ServiceStack handler being used on your whole site you may need to do this too.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22483650/servicestack-and-signalr-together-in-same-project/22549657#22549657\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22483650/servicestack-and-signalr-together-in-same-project/22549657#22549657</a>﻿"}],"date":"Apr 7, 2014, 5:15:06 AM","shortDate":"Apr 7, 2014"},{"userId":"106974793916499995676","userName":"Ephraim Moss","textHtml":"Some bizarre behaviour for you to check out:&nbsp;﻿","comments":[],"date":"Apr 4, 2014, 9:20:38 AM","shortDate":"Apr 4, 2014"},{"userId":"104253490514790796110","userName":"Robert van Drunen","textHtml":"Hi Demis,<br><br>In HttpListenerBase.Start, IsStarted is set to true before Listener.Start() is called. The Acl dialog pops up in the catch code after an AccessDenied exception but the subsequent call to Start returns immediately at the begin of that method. So the Acl is added but the server never starts.<br><br>Looks like IsStarted &nbsp;= true should be moved after the Listener.Start() call.<br><br>Can you verify this?<br><br>Thanks,<br>Robert van Drunen﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 31, 2014, 3:35:08 PM","shortDate":"Mar 31, 2014","textHtml":"Yeah that looked wrong, updated in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/0a1deded6fe7be09e4f7ed5e22b22ba00112510c\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/0a1deded6fe7be09e4f7ed5e22b22ba00112510c</a>﻿"},{"userId":"104253490514790796110","userName":"Robert van Drunen","date":"Mar 31, 2014, 3:38:04 PM","shortDate":"Mar 31, 2014","textHtml":"Cool, thanks for the fast reply!﻿"}],"date":"Mar 31, 2014, 12:33:06 PM","shortDate":"Mar 31, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"What's the best way to handle re-encoding cookies? I'm noticing SignalR is doing a UrlDecode on the cookies it receives (i.e. turns&nbsp;bLLP1rfdv+6+CVCBBRIN into&nbsp;bLLP1rfdv 6 CVCBBRIN). Because of this the session can no longer be found in ICacheClient. Right now I'm doing a Replace(\" \", \"+\") but this seems hackish. I tried re-encoding using UrlEncode but then other symbols like a forward slash becomes encoded resulting in the same error. I realize this isn't really a service stack error, but I thought there might be some ideas here.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 30, 2014, 1:18:52 AM","shortDate":"Mar 30, 2014","textHtml":"Hi Stephen, what version of SS are you using because in v4.0.12:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#minor-features\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#minor-features</a><br>ServiceStack no longer creates sessionIds with url unfriendly chars (i.e. '+','/') so shouldn't have this isssue.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 30, 2014, 1:26:00 AM","shortDate":"Mar 30, 2014","textHtml":"Ah hah that's... I'm on 4.0.11. Thanks I'll upgrade to the latest. As always your the&nbsp;Na na na na na na na na na na na na na na na na... BATMAN!&nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://www.youtube.com/watch?v=EtoMN_xi-AM\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">Na na na na na na na na na na na na na na na na... BATMAN!</a>﻿"},{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Mar 30, 2014, 4:49:17 AM\n(edited Mar 30, 2014, 4:49:46 AM)","shortDate":"Mar 30, 2014","textHtml":"^ You just reminded me of this ... <a rel=\"nofollow\" target=\"_blank\" href=\"https://www.youtube.com/watch?v=Vm3rIGEnmYc\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">Batman Dog</a>﻿"}],"date":"Mar 29, 2014, 7:47:12 PM","shortDate":"Mar 29, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Can someone help with a gap in my understanding of REST design with ServiceStack?<br><br>Suppose I have any resource like users of a system. I have the standard methods:<br>GET /users - Lists all users<br>GET /users/{Id} - Get a specific user<br>POST /users - Creates a new user<br>PUT /users/{Id} - Updates a specific user<br>DELETE /users/{Id} - Deletes a specific user<br><br>The pattern above can be applied to almost any resource.<br>However, as a special case for UserAccounts, in addition to the above, I want retrieve a specific account by Username. Conceptually I want this:<br>GET /users/{Username}<br><br>However, the route is effectively the same as: GET /users/{Id}, and ServiceStack has no idea which one I really mean.<br><br>What is the basic design pattern for these kind of cases?﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Mar 28, 2014, 3:42:53 PM","shortDate":"Mar 28, 2014","textHtml":"If your UserRequest object has a properties:<br>&nbsp; &nbsp;int? Id {get;set;}<br>&nbsp; &nbsp;string Username {get;set;}<br><br>Then your service just looks at the request object and figures out what to do.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 3:46:42 PM","shortDate":"Mar 28, 2014","textHtml":"Normally I would allow the Users collection to be filtered like:<br><br>GET /users?name={Name}<br><br>If I wanted a different url for it I would do something like:<br><br>GET /users/search?name=xxx<br><br>Otherwise if you want to use a different service that uses the path info, you could do something like:<br><br>GET /users/by-name/{Name}﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 28, 2014, 3:52:50 PM","shortDate":"Mar 28, 2014","textHtml":"OK, cool thanks guys.<br><br>So in general, as a general pattern for any resource, I could just be looking at either: adding \"search\" (GET /users/search?field=value) or extending \"list\" (GET /users?field=value) or even both.<br><br>thanks﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Mar 28, 2014, 5:02:02 PM","shortDate":"Mar 28, 2014","textHtml":"You can see the pattern we adopted here:  <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22708127/servicestack-conflicting-routes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22708127/servicestack-conflicting-routes</a> with a question!﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Mar 28, 2014, 5:11:35 PM","shortDate":"Mar 28, 2014","textHtml":"Yes or you could handle it with a single model and let the service figure out. &nbsp; Looked at your question on stackoverflow...Looks fine to me...﻿"}],"date":"Mar 28, 2014, 3:31:32 PM","shortDate":"Mar 28, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Can you suggest a way to check user auth in SignalR? Several posts refer to the&nbsp;SessionFeature.GetOrCreateSession&lt;AuthUserSession&gt; method but this requires a ServiceStack request which I don't have within SignalR (SignalR has it's own request).﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 3:14:33 AM\n(edited Mar 28, 2014, 3:17:01 AM)","shortDate":"Mar 28, 2014","textHtml":"It's a matter of reading the ss-id cookie from the HTTP request and retrieving the session from the cache, here's the code that does it in SS:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L177\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L177</a><br><br>the ss cookies calls GetSessionKey to create the cache key:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionFeature.cs#L80\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionFeature.cs#L80</a>&nbsp;<br><br>Essentially something like:<br><br>var sessionId = GetCookieFromSignalR(\"ss-id\");<br>var sessionKey =&nbsp;IdUtils.CreateUrn&lt;IAuthSession&gt;(sessionId);<br>var userSession = cache.Get&lt;MyUserSession&gt;(sessionKey);<br><br>If &nbsp;authentication is made with \"RememberMe=true\" then you want to read the \"ss-pid\" cookie instead, this preference is stored in the ss-opt cookie.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 28, 2014, 12:05:58 PM","shortDate":"Mar 28, 2014","textHtml":"Thank you so much <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;This is exactly what I was looking for!﻿"}],"date":"Mar 28, 2014, 2:54:57 AM","shortDate":"Mar 28, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi there, we're in the process of defining the security architecture.<br><br>Our major concern is that our API needs to be used in different scenarios and some of them involve client side only code running on different domains but we still need to handle authentication and authorization (the idea of the API is to add social features to other apps either through the API itself or though remote rendering of iFrames).<br><br>Microsoft added a OAuth2 based authorization server “toolkit” to Web API (good review here: <a rel=\"nofollow\" target=\"_blank\" href=\"http://leastprivilege.com/2014/03/24/the-web-api-v2-oauth2-authorization-server-middlewareis-it-worth-it/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://leastprivilege.com/2014/03/24/the-web-api-v2-oauth2-authorization-server-middlewareis-it-worth-it/</a>).<br><br>Can anyone doing something similar with Service Stack provide some guidance?<br><br>Thanks in advance﻿","comments":[],"date":"Mar 27, 2014, 4:45:04 AM","shortDate":"Mar 27, 2014"},{"userId":"104496789874571813973","userName":"Matt Middleton-White","textHtml":"What is the best way to override the default error handling for the 404 status code? By default, when you hit a 404 not found error from the browser it returns some plain text that starts with “Handler for Request not found:”. Instead, I would like it to be processed the same way as other exceptions by displaying the ServiceStack html template with the details of the exception, because this allows the custom error message to be displayed (i.e. Customer not found).﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 10:04:00 PM","shortDate":"Mar 23, 2014","textHtml":"see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customize-handling-of-c-exceptions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customize-handling-of-c-exceptions</a>﻿"},{"userId":"104496789874571813973","userName":"Matt Middleton-White","date":"Mar 23, 2014, 10:23:20 PM","shortDate":"Mar 23, 2014","textHtml":"Hi mate, yeah we have been trying to follow that but it looks like this 'CustomHttpHandlers' property doesn't exist on HostConfig:<br><br>SetConfig(new HostConfig {<br>&nbsp; &nbsp; CustomHttpHandlers = {<br>&nbsp; &nbsp; &nbsp; &nbsp; { HttpStatusCode.NotFound, new RazorHandler(\"/notfound\") },<br>&nbsp; &nbsp; &nbsp; &nbsp; { HttpStatusCode.Unauthorized, new RazorHandler(\"/login\") },<br>&nbsp; &nbsp; }<br>});<br><br>We are using 4.0.11.0 from the Signed package. Are we missing something?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 10:47:08 PM\n(edited Mar 23, 2014, 10:53:31 PM)","shortDate":"Mar 23, 2014","textHtml":"Ahh yes, all the handlers have moved to the AppHost in v4, I've now updated the docs to:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.CustomErrorHttpHandlers[HttpStatusCode.NotFound] = new RazorHandler(\"/notfound\");﻿"},{"userId":"104496789874571813973","userName":"Matt Middleton-White","date":"Mar 23, 2014, 11:25:33 PM","shortDate":"Mar 23, 2014","textHtml":"Great, thanks for that. The only thing left that I’m struggling with is how to access the default IServiceStackHandler that I can pass as the value to the CustomErrorHandlers dictionary. How can I get the default html handler that displays the ServiceStack html5 report?<br><br>What we are trying to achieve here is that a 404 gets handled the same way as any of the other exceptions that come out of the service; get the default page that shows the exception message.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 1:46:34 AM","shortDate":"Mar 24, 2014","textHtml":"ok the problem is that SS's fallback error handlers for NotFound and Forbidden were built-in fallbacks and so couldn't be unset to 'null' for it to be able to use the default error handling, I've just moved them into AppHost so they're now overridable in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/c6a9b19118aa18459669e95b1d5b7c697732d367\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/c6a9b19118aa18459669e95b1d5b7c697732d367</a><br><br>Now you can remove the built-in handler by setting it to null:<br>this.CustomErrorHttpHandlers[HttpStatusCode.NotFound] = null;<br><br>so it will follow the default behavior of other errors.&nbsp;<br><br>This change has now been deployed to MyGet at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"104496789874571813973","userName":"Matt Middleton-White","date":"Mar 24, 2014, 3:50:27 AM","shortDate":"Mar 24, 2014","textHtml":"Mate you are a legend. Works great, thanks.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 24, 2014, 12:20:52 PM","shortDate":"Mar 24, 2014","textHtml":"I have a somewhat related question: I'm seeing \"Request Not Found\" errors for the service which should be 100% correctly configured. I have checked&nbsp;web.config (so we're talking IIS <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> (not MVC) site) ServiceStack handler is being set correctly for a \"locationPath\" (so not hosted in root) and HostConfig's&nbsp;HandlerFactoryPath has been set to the appropriate \"same\" value, what else could I have forgotten? It's understood that I'm sending correct assemblies to the constructor of ServiceStackHost derived class.<br><br>If nothing obvious comes to mind, I will have to use the above mechanism to debug this (was at the point of doing it but then noticed like the original poster that the property CustomHttpHandlers disappeared) I'm just hoping someone might have a pointer.<br><br>Needless to say, I've checked forums concretely StackOverflow and all of the issues people have had were with strange/incorrect configuration that I've checked and that checks out.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 4:18:16 PM","shortDate":"Mar 24, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;can't think of anything at the top of my head if the HandlerFactoryPath is correct, can you post the HTTP Request and Response headers (best to post as a new question or submit it to <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>)﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 25, 2014, 4:45:35 AM","shortDate":"Mar 25, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;As I developer myself, knowing how things are, I don't want to spam GitHub issues with something rather exotic that's not easy to repro and waste your time (you have other more important things to do, like implement some tiny new features we need ;) ). I have 3 hosting \"environments\" (console, two web sites) of which only one doesn't work yet all of the hosting code is shared in the same assembly so this cannot fail, but it does. I'll see if I can repro outside of our product code (which I naturally cannot share) and then post an issue. Btw, HTTP headers look \"normal\" I can see ServiceStack's X-Powered-By (something like that) header with SS value inside (strangely formatted as 4,011) so I know SS is handling the request, but all calls fail. Let's give it a few days and I'll revisit.﻿"}],"date":"Mar 23, 2014, 9:56:57 PM","shortDate":"Mar 23, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Is the syntax in the attached article still valid? &nbsp;Considering how much I am leveraging SS in an LOB app, I'm thinking about moving it up and tapping into it for a few more items, including Funq. &nbsp;Are there any good examples of using both in a WPF MVVM app?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 21, 2014, 3:45:50 PM\n(edited Mar 21, 2014, 4:09:05 PM)","shortDate":"Mar 21, 2014","textHtml":"Updated the code for v4 in response to your comment:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/13351091/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/13351091/85785</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 21, 2014, 3:48:38 PM","shortDate":"Mar 21, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Man, I love &nbsp;you. &nbsp;If I wasn't straight and married, I... well... I dunno what I'd do. &nbsp;I'm just grateful for the level of care you give us. &nbsp;Thanks... again. &nbsp;:)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 21, 2014, 4:08:26 PM","shortDate":"Mar 21, 2014","textHtml":"lol, np :)﻿"}],"date":"Mar 21, 2014, 3:36:25 PM","shortDate":"Mar 21, 2014"},{"userId":"113226573417239111945","userName":"Bruce Cowan","textHtml":"I need to have Oracle support using <a rel=\"nofollow\" target=\"_blank\" href=\"http://ODP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ODP.NET</a>, not Microsoft's provider (which is deprecated). I'm in the middle of making it, starting from the existing Oracle provider. I'm inclined to make a separate OrmLite provider and leave the existing one as it is, mostly because I will not be maintaining compatibility (see below). But, given that the existing one is unsupported, maybe it would be better to simply modify it.<br><br>The reason I won't be maintaining compatibility is that I need a single set of my source code to work on Oracle, SQL Server, and SQLite, with the database chosen at run time. The existing Oracle provider supports Oracle sequences for populating key fields, but it does not work if you put an AutoIncrement attribute on your key field, it uses a Sequence attribute. I need the AutoIncrement attribute working, but the Sequence attribute can still be used if it is necessary to specify the sequence name as long as it doesn't mess up the other providers - I haven't tested that but I expect it doesn't.<br>The provider won't initially support Oracle 12C identity or boolean columns, and may have other 12C issues, but that will come fairly soon, because we'll be adding 12C to the list of supported Oracle databases in our product.<br><br>Any preference, Demis (or other ServiceStack folks)?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 2:01:54 PM","shortDate":"Mar 20, 2014","textHtml":"Hi Bruce, Since it will likely cause breaking changes, I would start as a new provider first and once it's ready for public use wait till we hear feedback from other Oracle OrmLite users like&nbsp;<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103098793536210174759\" oid=\"103098793536210174759\">Doug Schmidt</a></span>.&nbsp;If we can get consensus that the new provider is the way to go then we could make it the official provider.&nbsp;﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Mar 20, 2014, 2:25:34 PM","shortDate":"Mar 20, 2014","textHtml":"Heh. Bruce and I work together, so my feedback is going to be \"merge it!\" ;)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 20, 2014, 2:27:46 PM","shortDate":"Mar 20, 2014","textHtml":"lol, cool :)﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 25, 2014, 7:24:30 PM","shortDate":"Mar 25, 2014","textHtml":"I'm almost done with the much changed Oracle provider - a couple of bugs left to swat. At this point the AutoIncrement attribute works completely compatibly with the implementation in the old provider and the way I want it to. It turns out that it always did apart from some small bugs. It runs using either the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ODP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ODP.NET</a> or Microsoft's provider.<br><br>I changed the default storage for Guids to raw(16) which is what is recommended, but you can instantiate the provider with an option to use varchar2 storage, but Guids didn't work before. I also changed all strings to varchar2 from varchar, and bool to number(1) again because that is what is recommended. I changed TimeSpan to same as long to make it work. There are many changes to make things work, and lots of unit tests (copied from the standard set of OrmLite tests) to make sure it does.<br><br>Thus, although the provider is not quite backward compatible, all the breaking changes were done to things that didn't work. So, I'm inclined to want to just merge it rather than put it beside the old one.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 25, 2014, 7:58:06 PM\n(edited Mar 25, 2014, 7:58:28 PM)","shortDate":"Mar 25, 2014","textHtml":"Yep, I'm happy for replacing the existing provider as it seems you've already fixed a few major issues and no maintainers are left to support the existing provider (which is currently unsupported).&nbsp;<br><br>As for Guids, you should run it through this test to see if it handles the different scenarios:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/8bd87a7098bcffce0…15cf7eb2/tests/ServiceStack.OrmLite.Tests/OrmLiteCreateTableTests.cs#L161\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/8bd87a7098bcffce0…215cf7eb2/tests/ServiceStack.OrmLite.Tests/OrmLiteCreateTableTests.cs#L161</a>﻿"},{"userId":"113226573417239111945","userName":"Bruce Cowan","date":"Mar 25, 2014, 9:41:36 PM","shortDate":"Mar 25, 2014","textHtml":"All the tests in that file run fine, after I change the comparison from VARCHAR to VARCHAR2. I'm also in the process of verifying that I fixed <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/26\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/26</a> and if it turns out I didn't, I will.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 25, 2014, 10:38:29 PM","shortDate":"Mar 25, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/113226573417239111945\" oid=\"113226573417239111945\">Bruce Cowan</a></span>&nbsp;that would be excellent, thx! it would be nice to be able to close it as I feared it would've remained open forever :)﻿"}],"date":"Mar 20, 2014, 12:55:53 PM","shortDate":"Mar 20, 2014"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","textHtml":"I have some problems with auth providers.<br>In my web application I want to use multiple oauth providers (google, facebook etc),<br>and I have custom registration page.<br>The user should always perform registration before access to the my webservices.<br><br>But in servicestack (SocialBootStrap example) if user selects authentication by one of the oauth providers<br>is always authenticated - even if the user is not registered<br>(of course if he pass valid login and password).<br><br>How I can control logins via oauth and does not authenticate not registered users ?<br><br>I tried to delete session in CustomSession.OnAuthenticated event:<br>authService.RemoveSession();<br>session.IsAuthenticated = false;<br><br>but it does not work.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 19, 2014, 4:03:59 PM","shortDate":"Mar 19, 2014","textHtml":"Not sure what you mean that he's always authenticated if he's not registered? But you may be asking on how to log the user out?&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/14117348/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/14117348/85785</a>﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Mar 19, 2014, 7:29:26 PM","shortDate":"Mar 19, 2014","textHtml":"Maybe I will give you&nbsp; an example:<br><br>- I run the SocialBootStrap app (on empty database)<br>- On home page I click \"sign in with google\". And I'm authenticated - I can use services with [Authenticate] attribute.<br><br>So, I can use service without registration. I do not want this, in my workflow users must first complete the registration procedure. Only after this they can be authenticated.<br>How to achieve this?<br><br>&gt;But you may be asking on how to log the user out<br><br>I'm trying to solve the problem in CustomUserSession.OnAuthenticated by removing the session for users not previously registered.<br><br>but:<br>authService.RemoveSession()<br>session.IsAuthenticated = false;<br>or&nbsp; (authService as AuthenticateService).Delete(null);<br>not working. I still can use services with [Authenticate] attribute.<br><br>BTW: (I wrote about this before) It is not possible to download ServiceStack.pdb files (yes, I have properly configured <a rel=\"nofollow\" target=\"_blank\" href=\"http://srv.symbolsource.org\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">srv.symbolsource.org</a>). Some SS pdb files are avaliable but ServiceStack.pdb not.﻿"}],"date":"Mar 19, 2014, 3:53:39 PM","shortDate":"Mar 19, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"ServiceStack.Client nor ServiceStack.Client.Pcl aren't installable in Silverlight 5 projects for NuGet packges 4.0.14.<br>We're (trying to) upgrading from 4.0.11 where things worked just fine. Please look into this as it completely breaks Silverlight 5 projects.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 12:51:55 PM","shortDate":"Mar 18, 2014","textHtml":"hmmm, checking it out now...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 1:57:11 PM","shortDate":"Mar 18, 2014","textHtml":"For some reason the CI builds missed building + copying the SS.Clent PCL dlls over, deploying a new v4.0.15 to NuGet now, available soon...﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 18, 2014, 2:08:06 PM","shortDate":"Mar 18, 2014","textHtml":"Thanks in advance!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 18, 2014, 2:26:01 PM","shortDate":"Mar 18, 2014","textHtml":"ok&nbsp;v4.0.15 just finished deploying.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 18, 2014, 2:32:32 PM","shortDate":"Mar 18, 2014","textHtml":"Great, will check first thing tomorrow, thanks again!﻿"}],"date":"Mar 18, 2014, 9:39:03 AM\n(edited Mar 18, 2014, 11:21:01 AM)","shortDate":"Mar 18, 2014"},{"userId":"113226573417239111945","userName":"Bruce Cowan","textHtml":"If I were to write optimistic concurrency support in OrmLite for Oracle and SQL Server using system change number and RowVersion respectively and of course including tests, would you be likely to accept that into the standard version? I would also add some kind of support for SqLite because I use it for tests, but it would, of course, not actually use a special column since there is no such capability in SqLite (unless I've missed something in SqLite).﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 2:16:04 PM\n(edited Mar 17, 2014, 2:16:20 PM)","shortDate":"Mar 17, 2014","textHtml":"Yeah we do accept external features via pull-requests. They have a high chance of being accepted if they're not disruptive or cause confusion to the existing code-base.<br><br>Although you may want to run the proposal by me, by creating a new ticket on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br>So I can see what the proposed new API's would look like?﻿"}],"date":"Mar 17, 2014, 2:11:18 PM","shortDate":"Mar 17, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"What is the correct way to \"teach\" ServiceStack about unserializing IHtmlString (and MvcHtmlString)?<br><br>Adding \"JsConfig&lt;HtmlString&gt;.RawDeserializeFn = c =&gt; new HtmlString(c);\" would work only for JSON and not form submits, for instance.<br><br>Is there a central place to hook into?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 1:12:15 PM","shortDate":"Mar 17, 2014","textHtml":"There can't be any, each serializer have their own impl specific behavior.<br>I personally wouldn't be putting C# classes like HtmlString on any DTO's.﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 17, 2014, 3:33:22 PM","shortDate":"Mar 17, 2014","textHtml":"Can you point me towards the serializer for form-data ? I don't mind (much) implementing custom serializers for this type.&nbsp;<br><br>I'm considering using HtmlString on the DTO as a clear signal that such fields have HTML content and will be sanitized, in opposition to regular strings that will always be encoded. It would also simplify sanitization, which could happen on fields of that type, while other strings are always encoded.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 3:47:44 PM","shortDate":"Mar 17, 2014","textHtml":"There's no \"serializer\" for FormData, it's executed as part of the request binding, these lines read and populate from the FormData:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/RestHandler.cs#L143-L144\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/RestHandler.cs#L143-L144</a><br><br>You can override this behavior using a custom request binder:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#create-a-custom-request-dto-binder\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#create-a-custom-request-dto-binder</a>﻿"}],"date":"Mar 17, 2014, 1:01:34 PM","shortDate":"Mar 17, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"During serialization, will SS ignore properties having a private setter or missing a setter altogether? &nbsp;Could've sworn I read this somewhere but I cannot seem to find it.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 16, 2014, 3:13:54 PM","shortDate":"Mar 16, 2014","textHtml":"It doesn't serialize without a public getter and doesn't deserialize without a public setter.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 19, 2014, 3:02:43 AM","shortDate":"Mar 19, 2014","textHtml":"This has bitten me a few times, since we have automatic properties it's all too easy to mistake public Whatever; as public Whatever { get; set; }... It's a great feature though, with a minimum of ceremony you get desired behavior, just like the rest of ServiceStack.﻿"}],"date":"Mar 16, 2014, 11:31:59 AM","shortDate":"Mar 16, 2014"},{"userId":"113071203639930389569","userName":"Constantinos Eraleous","textHtml":"Has anyone an example of using servicestack and <a rel=\"nofollow\" target=\"_blank\" href=\"http://xsockets.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">xsockets.net</a>.﻿","comments":[],"date":"Mar 15, 2014, 7:18:50 AM","shortDate":"Mar 15, 2014"},{"userId":"112152447358910256831","userName":"Sebastian Nemeth","textHtml":"Just posted a Q on StackOverflow about a pure SS4/Razor + AngularDart project, if anyone's experienced this problem before I'd appreciate any advice:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22356596/nested-dart-project-prevents-servicestack-razor-views-from-rendering\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22356596/nested-dart-project-prevents-servicestack-razor-views-from-rendering</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 12:36:00 PM","shortDate":"Mar 12, 2014","textHtml":"Hi Sebastian, left a comment looking to see if there were any StartupErrors in ?debug=requestinfo﻿"},{"userId":"112152447358910256831","userName":"Sebastian Nemeth","date":"Mar 12, 2014, 1:04:12 PM","shortDate":"Mar 12, 2014","textHtml":"Hi Demis, thanks for the unreasonably speedy response, I've updated the question with the spoils.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 1:11:59 PM","shortDate":"Mar 12, 2014","textHtml":"ok cool, it looks like attempting to scan the directory throws an error, I'll see if I can repro locally and prevent the exception from bubbling﻿"},{"userId":"112152447358910256831","userName":"Sebastian Nemeth","date":"Mar 12, 2014, 2:02:35 PM","shortDate":"Mar 12, 2014","textHtml":"Cheers that'd be fantastic, I don't want to have to copy the dart build folder into the project every save if I can avoid it.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 4:08:07 PM\n(edited Mar 12, 2014, 4:08:49 PM)","shortDate":"Mar 12, 2014","textHtml":"ok cool, this should be resolved in the latest release published on MyGet:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>Where these exceptions are now just Logging Warnings. &nbsp;<br><br>Funnily enough the Windows GitHub UI also wouldn't let me check-in a dart project with sym links in the repo, so they seem to cause havoc in windows in general.﻿"},{"userId":"112152447358910256831","userName":"Sebastian Nemeth","date":"Mar 12, 2014, 4:46:28 PM","shortDate":"Mar 12, 2014","textHtml":"I read that the recommended way to deal with symlinks and junction points was to just catch the exception and continue, to do anything else required interop :-/ not cool...<br><br>Thanks so much for sorting this out so quickly - very impressed with ServiceStack, and with the community in general.﻿"}],"date":"Mar 12, 2014, 11:59:20 AM","shortDate":"Mar 12, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"In SSv4, hosts with custom paths seem to have a bug in how the default redirect path to the metadata page is composed.<br><br>For a site hosted at {root}, with a {customPath}, when the {root}/{customPath} page is requested, SSv3 correctly redirects to {root}/{customPath}/metadata.<br><br>In SSv4, the redirect URL is {customPath}/{root}/metadata, which borks.<br><br>Looking at the code, I can't quite find where the redirect URL is composed. Any ideas?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 3:28:26 AM","shortDate":"Mar 11, 2014","textHtml":"Not sure what you mean by: {customPath}/{root}/metadata<br><br>What's an example url of what it is vs what it should be?&nbsp;﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Mar 11, 2014, 8:13:26 AM","shortDate":"Mar 11, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103098793536210174759\" oid=\"103098793536210174759\">Doug Schmidt</a></span>&nbsp;I have a similar problem with this. Mine shows up when I use swagger and is around hosting the site somewhere other than root. I worked with <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;on it quite a bit and we never solved (basically because it was on me to try to create a repo for him). &nbsp; Here is the repo site, if you want to modify this so it breaks for your situation? &nbsp;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Templates/tree/master/src/Mvc4.VirtualPath\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Templates/tree/master/src/Mvc4.VirtualPath</a>&nbsp;﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Mar 11, 2014, 11:57:09 AM","shortDate":"Mar 11, 2014","textHtml":"For my deployment:<br>{root} = \"AQUARIUS\"<br>{customPath} = \"apps/v1\"<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/AQUARIUS/apps/v1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/AQUARIUS/apps/v1</a> redirects correctly to&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/AQUARIUS/apps/v1/metadata\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/AQUARIUS/apps/v1/metadata</a> using SSv3, but incorrectly to&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/apps/v1/AQUARIUS/metadata\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/apps/v1/AQUARIUS/metadata</a> using SSv4.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 12:55:16 PM","shortDate":"Mar 11, 2014","textHtml":"By {root} do you mean that \"AQUARIUS\" is the ServiceStack root HandlerPath? and \"apps/v1\" the custom route for a service?&nbsp;<br><br>Also there is some configuration where you want to strip the virtual path, can you see this helps:<br>SetConfig(new HostConfig {&nbsp;StripApplicationVirtualPath = true })&nbsp;﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Mar 11, 2014, 1:16:38 PM","shortDate":"Mar 11, 2014","textHtml":"\"AQUARIUS\" is the root path of the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> app, whose Web.config contains a top-level&nbsp;&nbsp;&lt;location path=\"apps/v1\"&gt; node to set the ServiceStack root HandlerPath.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 11, 2014, 1:19:49 PM","shortDate":"Mar 11, 2014","textHtml":"ok so \"AQUARIUS\" is the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> VirtualPath and \"apps/v1\" is the ServiceStack handler path. Can you see if&nbsp;&nbsp;StripApplicationVirtualPath = true helps?﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Mar 11, 2014, 2:27:15 PM","shortDate":"Mar 11, 2014","textHtml":"Setting StripApplicationVirtualPath = true has no effect.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 3:33:17 AM","shortDate":"Mar 12, 2014","textHtml":"Hi Doug,<br><br>Can you try again using the version on MyGet:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Mar 12, 2014, 2:29:10 PM","shortDate":"Mar 12, 2014","textHtml":"Yep. The code fix in MyGet works.﻿"}],"date":"Mar 11, 2014, 3:19:26 AM","shortDate":"Mar 11, 2014"},{"userId":"113745366051337727908","userName":"Mike Mertsock","textHtml":"We've been using the Markdown Razor feature for a while. This week we're upgrading from ServiceStack 3 to 4. When we deployed the upgraded app to our server, we got errors on our markdown page:<br><br>System.IO.FileNotFoundException: Could not infer .NET Reference Assemblies path, e.g 'C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.0\\'.<br><br>To fix the above exception, and some other related exceptions after that one, we added System.Core.dll and mscorlib.dll to the v4.5 reference assemblies folder on the server, and recycled the app pool.<br><br>We're wondering if this is a known change in behavior with ServiceStack 4. Looking through the history for Env.cs in ServiceStack.Text and some of the Markdown code in ServiceStack, it wasn't obvious what might have changed.<br><br>Also we found what appears to be a bug with the if/else logic preceeding the throw statement here: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/Env.cs#L88\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/Env.cs#L88</a> - note what happens if the v4.0 directory exists but v4.5 directory does not.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 7, 2014, 8:25:53 PM","shortDate":"Mar 7, 2014","textHtml":"Yeah it's annoying requirement in .NET 4.0+, as the c# CodeDom provider used in Markdown Evaluator needs a reference to the ReferenceAssemblyPath of System.Core.dll to compile .NET 4.0 code in .NET.﻿"}],"date":"Mar 7, 2014, 12:13:39 PM","shortDate":"Mar 7, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Has anyone crafted (or knows a library) for a JsonServiceClient that adds to it resilient oAuth token caching? In other words, a Json REST client that requests access_tokens from an oAuth2 server, and then caches those tokens and handles token_refresh automatically before making call to REST service?﻿","comments":[],"date":"Mar 5, 2014, 4:31:34 PM","shortDate":"Mar 5, 2014"},{"userId":"104253490514790796110","userName":"Robert van Drunen","textHtml":"Just a short question:<br><br>We have a couple of IServiceStackHandler implementations and I am wondering what the difference is between the ProcessRequest and ProcessRequestAsync methods. We are running from a console application so I can imagine that it has something to do with <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> support? In our situation I have never had a direct call to ProcessRequest but I need to implement it as an empty method anyway.<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 12:19:21 PM","shortDate":"Mar 5, 2014","textHtml":"In v4 it was changed to be able to execute handlers both sync and async where we now our handlers implement IHttpAsyncHandler.<br><br>If your handler implementation is sync, then can get by only implementing the sync ProcessRequest() by inheriting from the convenient HttpAsyncTaskHandler base class, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/Handlers/CustomResponseHandler.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/Handlers/CustomResponseHandler.cs</a>﻿"},{"userId":"104253490514790796110","userName":"Robert van Drunen","date":"Mar 17, 2014, 1:43:19 PM","shortDate":"Mar 17, 2014","textHtml":"Thanks for the quick reply (I totally forgot to respond)﻿"}],"date":"Mar 5, 2014, 11:39:43 AM","shortDate":"Mar 5, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"I find myself implementing a oAuth2 AuthZServer very similar to @DylanBeatties example, except that I am creating a SS REST service to handle the requests, and creation of access_tokens. In the implementation I am using the DotNetOpenAuth library to handle the request AuthorizationServer.HandleTokenRequest(). But that method &nbsp;expects a FormUrlEncoded request with a bunch of form fields populated with things like: grant_type, username, password, scope etc. Which are included in my JSON request DTO.<br><br>In my ServiceStack service, how can create the FormUrlEncoded request that this library requires to work from my JSON request DTO before calling the DNOA method?<br><br>Am I going down a long rathole here? This does not feel right. But I can't alter the functions in DotNetOpenAuth has that does the heavy lifting for me. I can't add the necessary form fields to the existing request (readonly!). Perhaps SS can help me in some built-in way, or someone has some guidance for me for a different approach?<br><br>My goal is to have a SS REST service endpoint that creates oAuth2.0 Access tokens, and that uses the DNOA library to help me do that.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 2, 2014, 8:21:55 AM","shortDate":"Mar 2, 2014","textHtml":"Not sure what you mean by:<br><br>\"how can create the FormUrlEncoded request that this library requires to work from my JSON request DTO before calling the DNOA method?\"<br><br>Do you have some&nbsp;example code of what you're trying to do?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 2, 2014, 1:34:37 PM","shortDate":"Mar 2, 2014","textHtml":"Sure, it looks like this at the moment:<br><br>&nbsp; &nbsp; public class MyService : Service<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public CreateAccessTokenResponse Post(CreateAccessToken body)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var authZServer = new AuthorizationServer(new MyOAuthZServer(.....));<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Convert the request if send from Json client.&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = authZServer.HandleTokenRequest((HttpRequestBase)this.Request.OriginalRequest);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var responseBody = response.Body.FromJson&lt;Dictionary&lt;string, string&gt;&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (response.Status != HttpStatusCode.OK)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var error = (responseBody.ContainsKey(\"error\")) ? responseBody[@\"error\"]: string.Empty;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var message = (responseBody.ContainsKey(\"error_description\")) ? responseBody[@\"error_description\"]: error;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw LogicErrorThrower.RuleViolation(message);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var accessToken = new CreateAccessTokenResponse<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AccessToken = responseBody[@\"access_token\"],<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RefreshToken = responseBody[@\"refresh_token\"],<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ExpiresIn = responseBody[@\"expires_in\"],<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TokenType = responseBody[@\"token_type\"],<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Scope = responseBody[@\"scope\"]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.SetResponseCode(HttpStatusCode.Created);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return accessToken;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 2, 2014, 1:42:25 PM","shortDate":"Mar 2, 2014","textHtml":"The problem child is the HandleTokenRequest() method that under the covers expects an 'application/x-www-form-urlencoded' request,and to be able to read: Form[\"grant_type\"], Form[\"username\"], Form[\"password\"] and other fields, from the request object passed to it. Problem is that the request is JSON, has not the right form fields (if any), and so the HandleTokenRequest() method fails with BadRequest.&nbsp;<br><br>I believe what I need to do (at least notionally) for this request alone, is to somehow convert or mimic the request it is expecting.<br><br>I did find an overload for HandleTokenrequest that takes a HttpRequestMessage that I can create and populate manually with the form fields. So I took this path for now. But was hoping someone else would be able to offer some wisdom on a better way to use the framework for these cases - if there is one.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 2, 2014, 2:26:00 PM","shortDate":"Mar 2, 2014","textHtml":"A couple of things that may help, you can deserialize the JSON directly into a C# DTO by convention using the&nbsp;propertyConvention=PropertyConvention.Lenient which you can localize its behavior in using (JsConfig.With(...){ ... } block, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/commit/376f1ffd1d70cc898380421841785b510607a18f\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/commit/376f1ffd1d70cc898380421841785b510607a18f</a><br><br>You can also create a mutable HttpRequestBase by overriding it and providing your own impl with mutable properties, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/5a6dc72edcd1cadd1335b8638f3b69c2021cf38e\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/5a6dc72edcd1cadd1335b8638f3b69c2021cf38e</a><br><br>Does this help?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Mar 2, 2014, 5:18:25 PM","shortDate":"Mar 2, 2014","textHtml":"Thanks again Demis.&nbsp;<br>OK, regarding the HttpRequestBase thing, looks like this appraoch is very similar to populating a HttpRequestMessage of my own that can be accepted by the HandleTokenRequest() method. So I think I'll stick with that for now.&nbsp;<br><br>You gave me the affirmation i really wanted which was that my approach is not really that off the wall, and that there was not another common way to solve this particular problem in the framework. Perhaps its a real out-lier scenario after all.<br>Thanks for the tip on the JsConfig thing, great to find these kinds of gems.<br>cheers﻿"}],"date":"Mar 1, 2014, 10:10:34 PM","shortDate":"Mar 1, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"How do override the DateTime column formatting for the Sqlite provider?<br><br>What I want written to the Sqlite column is:&nbsp;dateTime.ToString(DateTimeSerializer.DateTimeFormatTicksUtcOffset);<br><br>I know that Sqlite doesn't support DateTime natively, so OrmLite converts DateTimes to string values. But the default string formatting of DateTimes from OrmLite does not appear to be consistent, even though all my DateTimes are Kind=Utc. Sometimes it formats my DateTimes with a space between the date and time (which is wrong for UTC), and sometimes it formats them with a 'T' between the date and time (which is correct).<br><br>I've tried overriding&nbsp;SqliteOrmLiteDialectProvider.GetQuotedValue(), but that doesn't seem to do it.<br><br>What's the right way to use my own customer formatter for all DateTime values written to a Sqlite DB?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 27, 2014, 7:53:37 PM","shortDate":"Feb 27, 2014","textHtml":"There isn't an easier way, you'd have to inherit from&nbsp;SqliteOrmLiteDialectProviderBase and override the&nbsp;GetQuotedValue /&nbsp;GetValueOrDbNull methods to intercept the field conversions.&nbsp;<br><br>Then you would use this custom provider instead in your OrmLiteDbFactory.<br><br>But if you have some failing tests we could fix it in master.﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Feb 27, 2014, 8:11:52 PM","shortDate":"Feb 27, 2014","textHtml":"Yeah. I've actually had to override three methods:<br>GetQuotedValue() - for non-parameterized DB writes<br>SetParameterValue() - for parameterized DB writes<br>SetDbValue() - for DB reads<br><br>Almost working. I still need to figure out nullable DateTime support tho.﻿"}],"date":"Feb 27, 2014, 4:02:27 PM","shortDate":"Feb 27, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Do the ServiceStack client libraries send a gzip header through?<br>Accept-Encoding: gzip, deflate<br><br>Just wondering as IIS does do some lovely dynamic compression on json and xml responses if setup correctly. If any is interested in setting this up in IIS I highly recommend reading the following:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/QLpgvt\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://goo.gl/QLpgvt</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 27, 2014, 10:55:53 AM","shortDate":"Feb 27, 2014","textHtml":"Yeah it adds compression headers by default, can be turned off with client.DisableAutoCompression = false;﻿"}],"date":"Feb 27, 2014, 4:39:31 AM","shortDate":"Feb 27, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I'm using ORMLite to retrieve data from different DB, on a particular old one I've some columns that are char(512) and I've a lot of white spaces at the end of a string...is there a way of telling to ORMLite during the ConvertToList to trim them? Thanks﻿","comments":[{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Feb 25, 2014, 6:05:29 AM","shortDate":"Feb 25, 2014","textHtml":"Shouldn't that be something you would do yourself instead of the framework?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 25, 2014, 6:07:21 AM","shortDate":"Feb 25, 2014","textHtml":"If I've to do myself I've for each DTO Created to trim the string again... I was wondering if there was something pluggable on ORMLite﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 10:33:07 AM","shortDate":"Feb 25, 2014","textHtml":"There isn't, you would have to trim them after you get them out of OrmLite.﻿"}],"date":"Feb 25, 2014, 5:42:14 AM","shortDate":"Feb 25, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"I'm having trouble creating my own 404 NotFound razer page. When I assign it to the&nbsp;CustomErrorHttpHandlers dictionary and try a page that doesn't exist I get a blank page. No errors and no service is called. I've checked for exceptions in my custom service runner and I've also tried&nbsp;ServiceExceptionHandlers and&nbsp;UncaughtExceptionHandlers too. I looked at the razor rockstar example and the only real difference is I have NotFound request/response models (with /errors/notfound route attribute).﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 10:38:07 AM","shortDate":"Feb 24, 2014","textHtml":"Hmmm. this should work, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/non-existant-route\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/non-existant-route</a><br>So we'd need to work out what's happening here, can you create a new issue on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> and add some details we can diagnose the issue, e.g:<br><br>&nbsp; - Full HTTP Request / HTTP Response headers (Can use fiddler or Chrome WebInspector)<br>&nbsp; - Show the debug requestinfo output, e.g ?debug=requestinfo<br>&nbsp; - Include details of any Request Filters that you're using﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 24, 2014, 2:09:09 PM\n(edited Feb 24, 2014, 3:02:08 PM)","shortDate":"Feb 24, 2014","textHtml":"Thanks Demis. I'll make a demo app to reproduce the error and include it in the new issue.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 24, 2014, 3:01:50 PM","shortDate":"Feb 24, 2014","textHtml":"Demis, Issue has been created...<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/39\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/39</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 3:09:56 PM","shortDate":"Feb 24, 2014","textHtml":"ok thanks will take a look.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 25, 2014, 12:46:49 AM","shortDate":"Feb 25, 2014","textHtml":"Hi Demis, I saw your comment on the ticket. Please take a look at my reply. I tried everything you suggested and nothing worked.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 25, 2014, 12:57:36 AM","shortDate":"Feb 25, 2014","textHtml":"Putting it under /Views was the issue. It's working now. Thanks Demis as always!﻿"}],"date":"Feb 24, 2014, 12:15:11 AM","shortDate":"Feb 24, 2014"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"[4.0 UPGRADE ISSUE] I am an error \"operand type clash bigint is incompatible with time\" when i try to insert an object with a timespan column to table with corresponding time datatype column.&nbsp;<br><br>Did a bit of digging, looks like SqlServerOrmLiteDialectProvider in 3.0 uses TIME dbtype and in 4.0 it is changed to INTEGER <del>-</del>&gt; I think this breaks stuff!!<br><br>Has anyone had issues similar to this? Solutions ? Workarounds?&nbsp;<br>Appreciate your help - Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 22, 2014, 12:00:02 PM","shortDate":"Feb 22, 2014","textHtml":"Yeah TIME work very inconsistently across DB's and as a result TimeSpan was supported poorly. It was changed to use ticks for all db providers.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 22, 2014, 12:02:54 PM","shortDate":"Feb 22, 2014","textHtml":"Is there a way to workaround my error?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 22, 2014, 12:19:30 PM","shortDate":"Feb 22, 2014","textHtml":"So you'd want to change the column data type to be INT...<br><br>The way I would do it is create a new INT column in SqlServer, then use the low-level <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> API to read the original column as a TimeSpan, then for each row create a manual update statement to populate the new column with the&nbsp;(TimeSpan).Ticks value. If that all ran smoothly, delete the old TIME column and rename the new INT column with the old ones name.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 22, 2014, 12:22:09 PM","shortDate":"Feb 22, 2014","textHtml":"I was afraid you were going to say this (that was my hail mary pass ;)<br>Thanks anyway.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 22, 2014, 12:47:25 PM\n(edited Feb 22, 2014, 12:52:49 PM)","shortDate":"Feb 22, 2014","textHtml":"FYI, created a simple example of what I meant in code:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/af59d266248740d495617826b637aa9d3b124ede\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/af59d266248740d495617826b637aa9d3b124ede</a><br><br>As seen in the example, you can create a POCO in OrmLite that's only a subset of the Table definition and OrmLite will be able to happily work with the subset, so you can keep the old SqlServer column around if you exclude it from OrmLite's POCO data model.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 22, 2014, 12:58:35 PM","shortDate":"Feb 22, 2014","textHtml":"Thank you!﻿"}],"date":"Feb 22, 2014, 11:57:08 AM","shortDate":"Feb 22, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"How do I make XML not be case sensitive?&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 11:04:13 AM","shortDate":"Feb 21, 2014","textHtml":"You can't, XML is case sensitive.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 21, 2014, 11:16:20 AM\n(edited Feb 21, 2014, 11:16:37 AM)","shortDate":"Feb 21, 2014","textHtml":"Roger, I should know that﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 21, 2014, 12:08:31 PM","shortDate":"Feb 21, 2014","textHtml":"A common (and often abused) technique is to have two attributes... one for display purposes and one for searching. &nbsp;For example, if you were to log your file system using XML, you might have a node, called \"File\", with two separate attributes for the name:<br><br>&lt;file id=\"123\" name=\"windows\" name_display=\"Windows\" /&gt;﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 21, 2014, 1:12:01 PM","shortDate":"Feb 21, 2014","textHtml":"Demis is right, you can't make xml case insensitive... Though you can query the xml in the DOM using xpath and force a case insensitive xpath query. It's messy but here's a forum post on how to do it...&nbsp;<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://forums.asp.net/t/1214767.aspx?Using+XPath+translate+to+ignore+case+in+xPath+query\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://forums.asp.net/t/1214767.aspx?Using+XPath+translate+to+ignore+case+in+xPath+query</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 21, 2014, 4:27:06 PM","shortDate":"Feb 21, 2014","textHtml":"Thanks guys, I left it as is and documented it﻿"}],"date":"Feb 21, 2014, 11:03:15 AM","shortDate":"Feb 21, 2014"},{"userId":"109809828280117788271","userName":"Petr Babička","textHtml":"Hi, passed this test?&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/SqlServerExpressionsTest/Program.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/SqlServerExpressionsTest/Program.cs</a><br><br>because this:<br>var q = db.SqlExpression&lt;Poco&gt;().Select(r =&gt; new { ... }).Where(r =&gt; (...) &amp;&amp; (...));<br><br>for (int i = 0; i &lt; 10; ++i)&nbsp;<br>{<br>q.Where(r =&gt; r.Count &gt; i);<br>db.Select(q);<br>}<br><br>generate strange sql:<br>... WHERE (Count &gt; 0)&nbsp;<br>... WHERE ((Count &gt; 0) AND (Count &gt; 1))<br>... WHERE (((Count &gt; 0) AND (Count &gt; 1)) AND (Count &gt; 2))<br><br>instead of:<br>... WHERE (Count &gt; 0)&nbsp;<br>... WHERE (Count &gt; 1)&nbsp;<br>... WHERE (Count &gt; 2)&nbsp;<br>&nbsp;I know, with And it's same, but exists some option to have base query and changing only part of it?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 9:18:22 AM\n(edited Feb 21, 2014, 9:21:41 AM)","shortDate":"Feb 21, 2014","textHtml":"Note sure what the question is but the behavior you're seeing is because the Sql expression builder mutates when you add new expressions on it.<br><br>You would have to apply your mutation to a new instance to use part of the query.﻿"},{"userId":"109809828280117788271","userName":"Petr Babička","date":"Feb 21, 2014, 10:09:26 AM","shortDate":"Feb 21, 2014","textHtml":"In that test is:<br>SqlExpression&lt;Author&gt; ev = OrmLiteConfig.DialectProvider.SqlExpression&lt;Author&gt;();<br><br>// select authors from London, Berlin and Madrid : 6<br>\t\t\t\tev.Where(rn =&gt; Sql.In(rn.City, new object[] { \"London\", \"Madrid\", \"Berlin\" }));<br>db.Select(ev);<br><br>// select authors from Bogota and Cartagena : 7<br>\t\t\t\tev.Where(rn =&gt; Sql.In(rn.City, new object[] { \"Bogota\", \"Cartagena\" }));<br>db.Select(ev);<br><br>but when i'm trying do that i get:<br>[OK] // select authors from London, Berlin&nbsp;<br><br>[FAIL] // Madrid &nbsp;and from Bogota and Cartagena<br>because a get:<br>// select authors from London, Berlin and from Madrid &nbsp;and from Bogota and Cartagena﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:14:36 AM","shortDate":"Feb 21, 2014","textHtml":"Right because of exactly what I was saying, the SQL Expression mutates.<br><br>You would have to create ot from 2 new expresions:<br>db.SqlExpression&lt;Author&gt;().Where(m =&gt; )<br><br>Although I could add a sqlExpr.Clone() method to copy the snapshot of the expression.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 6:05:58 PM","shortDate":"Feb 21, 2014","textHtml":"I've just added cloning support to SQL expressions which you can use like:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/Expression/ExpressionChainingUseCase.cs#L192\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/Expression/ExpressionChainingUseCase.cs#L192</a><br><br>Will be available in the next release.﻿"}],"date":"Feb 21, 2014, 6:08:26 AM","shortDate":"Feb 21, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Does a RestFiles example for v4 exist? &nbsp;If so, what is the URL? &nbsp;If not, would anyone have pity on a SS noob to convert the v3 version?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 5:32:26 PM\n(edited Feb 19, 2014, 5:33:05 PM)","shortDate":"Feb 19, 2014","textHtml":"ok just upgraded it to v4 in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Examples/commit/100d7963a4764f80f8bafc89f351d2e1aa3f938f\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Examples/commit/100d7963a4764f80f8bafc89f351d2e1aa3f938f</a><br><br>All Sync/Async tests pass, whilst the new await calls in the async tests look much nicer :)﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 19, 2014, 6:09:31 PM","shortDate":"Feb 19, 2014","textHtml":"You RAWK! &nbsp;Thanks, Demis. &nbsp;=)﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 20, 2014, 1:19:46 PM","shortDate":"Feb 20, 2014","textHtml":"Nice to have him full time on this now!﻿"}],"date":"Feb 19, 2014, 4:34:58 PM","shortDate":"Feb 19, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Excuse me how do I get the SQL Exception thrown in a call using the ExecuteNonQuery....what I get on the client is SqlException \"Input string was an incorrect format\" but in the deep it's a costraint exception...<br><br>Consider this call<br>&nbsp;&nbsp; var section = (NameValueCollection)ConfigurationManager.GetSection(\"storedProcedure\");<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string storedProcedure = section.Get(\"someSP\");<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var res = Db.Exec(dbCmd =&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.CommandType = CommandType.StoredProcedure;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.CommandText = storedProcedure;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dbCmd.Parameters.Add(new SqlParameter(\"xxx\", request.IDxxx));<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return dbCmd.ExecuteNonQuery();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 10:54:45 AM","shortDate":"Feb 18, 2014","textHtml":"That is the raw Exception is thrown by the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> provider and OrmLite doesn't add any wrappers to it. Check to see if the InnerException has more info.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 19, 2014, 2:36:03 AM","shortDate":"Feb 19, 2014","textHtml":"Excuse me Demis, I've checked with fiddler...and I think the problem is during the SS client processing...my json is<br><br>{\"responseStatus\":{\"errorCode\":\"SqlException\",\"message\":\"The INSERT statement conflicted with the CHECK constraint \\\"CK_SOME_CONSTRAINT\\\". The conflict occurred in database \\\"TEST_XXX\\\", table \\\"dbo.SOME_TABLE\\\".\\r\\nThe statement has been terminated.\",\"stackTrace\":\"[MyDTORequest: 19/02/2014 07:29:11]:\\n[REQUEST: {idIstituto:xx,codice:cod,descrizione:c,flaG_F_O:F,iD_MERCATO:0,iD_TIPOLOGIA_PRODOTTO:101,iD_DIVISA:AED,iD_TIPO_REGOLAMENTO:0,iD_MARGIN_STYLE:0,iD_TIPO_RAPPRESENTAZIONE_PREZZO:0,iD_UTENTE:185560,iD_MACROCATEGORIA_COMMERCIALE:0,divisorE_PREZZO:0}]\\nSystem.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the CHECK constraint \\\"CK_CONSTRAINT\\\". The conflict occurred in database \\\"TEST_XXX\\\", table \\\"dbo.SOME_TABLE\\\".\\r\\nThe statement has been terminated.\\r\\n&nbsp;&nbsp; at MYNamespace.service.Any(MYDTORequest request) in cxxx.cs:line 163\\r\\n&nbsp;&nbsp; at ServiceStack.Host.ServiceRunner`1.Execute(IRequest request, Object instance, TRequest requestDto)\\r\\nClientConnectionId:53921837-e741-4a96-bd7e-5763b648b1b6\",\"errors\":[]}}.<br><br>And what I got on the Error(x=&gt; is SQLException and as innerexception \"Input string was not in a correct format\")﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 19, 2014, 5:26:31 AM","shortDate":"Feb 19, 2014","textHtml":"I've checked the stack trace...it seems to be an exception with the deserializer<br><br>&nbsp;&nbsp; at System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer&amp; number, NumberFormatInfo info, Boolean parseDecimal)<br>&nbsp;&nbsp; at System.Number.ParseInt32(String s, NumberStyles style, NumberFormatInfo info)<br>&nbsp;&nbsp; at System.Int32.Parse(String s, IFormatProvider provider)<br>&nbsp;&nbsp; at ServiceStack.Text.Common.DeserializeBuiltin`1.&lt;GetParseFn&gt;b__5(String value)<br>&nbsp;&nbsp; at ServiceStack.Text.Common.JsReader`1.&lt;&gt;c__DisplayClassb`1.&lt;GetCoreParseFn&gt;b__7(String value)<br>&nbsp;&nbsp; at ServiceStack.Text.Json.JsonReader`1.Parse(String value)<br>&nbsp;&nbsp; at ServiceStack.Text.JsonSerializer.DeserializeFromString[T](String value)<br>&nbsp;&nbsp; at ServiceStack.Text.JsonSerializer.DeserializeFromStream[T](Stream stream)<br>&nbsp;&nbsp; at ServiceStack.Serialization.JsonDataContractSerializer.DeserializeFromStream[T](Stream stream)<br>&nbsp;&nbsp; at ServiceStack.JsonServiceClient.DeserializeFromStream[T](Stream stream)<br>&nbsp;&nbsp; at ServiceStack.ServiceClientBase.HandleResponse[TResponse](WebResponse webResponse)<br>&nbsp;&nbsp; at ServiceStack.ServiceClientBase.Send[TResponse](String httpMethod, String relativeOrAbsoluteUrl, Object request)<br>&nbsp;&nbsp; at ServiceStack.ServiceClientBase.Post[TResponse](String relativeOrAbsoluteUrl, Object requestDto)<br>&nbsp;&nbsp; at ServiceStack.ServiceClientBase.Post[TResponse](Object requestDto)<br>&nbsp;&nbsp; at myRepo.InsertProdottoFromScratchAsync(Int32 idIstituto, Int32 idUtente, String codice, String descrizione, String flagFO, Int32 idMercato, Int32 idTipologiaProdotto, String idDivisa, Int32 idTipoRegolamento, Int32 idMarginStyle, Int32 idTipoRappresentazionePrezzo, Nullable`1 durataNozioanle, Nullable`1 tassoNozionale, Nullable`1 idTipologiaMerci, Nullable`1 codProvinciaEmittente, Nullable`1 idTipoContrattoRischiMercato, String underIsin, String underProd, Nullable`1 underGGValuta, Nullable`1 [...]﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 10:49:09 AM\n(edited Feb 19, 2014, 10:50:41 AM)","shortDate":"Feb 19, 2014","textHtml":"That JSON deserializes correct for me, e.g:<br><br>var json = \"...\";<br>var dto = json.FromJson&lt;ErrorResponse&gt;();<br>dto.PrintDump();<br><br>I've even tried it with an Italian Culture set, see commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/commit/cf8f57e9600f8ee013e534eb631c548942e35a18\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/commit/cf8f57e9600f8ee013e534eb631c548942e35a18</a><br><br>Can you post an issue on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> that shows a repro including the C# call you're making and DTO's you're using and the Fiddler responses.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 19, 2014, 10:51:28 AM","shortDate":"Feb 19, 2014","textHtml":"Hello Demis,<br>I've managed right now to get the exception...it's inside the ResponseStatus...that's ok<br>((ServiceStack.WebServiceException)ex).ResponseStatus.Message ... I was thinking of finding it inside ex.InnerException﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 10:56:08 AM","shortDate":"Feb 19, 2014","textHtml":"ok great.﻿"}],"date":"Feb 18, 2014, 10:51:44 AM","shortDate":"Feb 18, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Just posted a video of some ServiceStack developer tooling we are considering making into an open source project that helps create ServiceStack REST services. <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.youtube.com/watch?v=ejTyvKba_vo\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.youtube.com/watch?v=ejTyvKba_vo</a><br><br>Looking for people's feedback on whether this kind of thing has any value to the community.﻿","comments":[{"userId":"108846010543763885463","userName":"John Watson","date":"Feb 18, 2014, 4:42:42 AM","shortDate":"Feb 18, 2014","textHtml":"Hi Jezz, the YT video is marked as 'private' and can't be watched.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 18, 2014, 4:47:07 AM","shortDate":"Feb 18, 2014","textHtml":"Oh boy!, sorry my mistake, should be public now﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 1:53:25 PM","shortDate":"Feb 18, 2014","textHtml":"First of all I would like to say that this looks absolutely fantastic. &nbsp;I think this is a terrific tool and that <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;should call you right away and get this as part of SS. &nbsp;I think the HARDEST part of servicestack is 'getting it all wired up and going'. &nbsp;Many people struggle with that. &nbsp;You have automated all of that and helped people implement best practices. &nbsp;While watching I made some notes, thoughts, questions and I wanted to share them with you.<br><br>What if I wanted to add AccessRestrictions Attributes?<br>What if I wanted to add certain roles for authorization?<br>What if I wanted to add the Swagger attrigutes?<br>On your generated service classes, seems like you can shared method that takes a lambda, call it with the actual code in the service and elimiate the try/catch and all associated code..<br>Also seems like the organziation of source files in things like validators could be better. &nbsp;If you have 10 services, you will have a mess in there with 40+ files.<br>Wonder about a /Services/User/{Validators, Workflow} type of structure<br><br>Unit Tests - these unit tests appear to be testing your services - but what it is testing is completely code generated, meaning it is correct.<br>I think these generated unit tests are good for testing that your solution builder is working correctly, but serve little purpose in the final tests?<br>I mean I cannot modify the service class can I, as it is generated code and just users the manager to call my real code anyway?<br><br>What if I dont want to use MOQ? &nbsp;I like SubstituteFor.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 18, 2014, 3:28:14 PM","shortDate":"Feb 18, 2014","textHtml":"Thanks Wayne, everything you are asking about is absolutely modifiable or can be added easily. You are right about the unit tests from a purest perspective, but we haven't got to the point yet where we can absolutely undeniably say that the generated code and our solution is <b>right</b> yet. Part of the reason we wanted to get feedback here, was to see if there was an appetite from the community to share what has been learned in the form of a toolkit (rather than sharing contextual-free code samples) :)<br><br>We use several code-gen patterns, and I tried to illustrate many to you in the video. All generated code is extensible through the use of either partial classes, partial methods or double derived, or some combination thereof where we think you may want to modify or enhance the generated code. Its simply a case of using the right pattern for accommodating what generated code you think people will want to extend using hand crafted code files.<br><br>There is nothing set in stone here, and there are few constraints to begin with out of the gate - its just a demo at this point.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 18, 2014, 3:42:45 PM","shortDate":"Feb 18, 2014","textHtml":"Well, again - it looks really great.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Feb 18, 2014, 8:19:16 PM\n(edited Feb 18, 2014, 8:21:08 PM)","shortDate":"Feb 18, 2014","textHtml":"great stuff Jezz - thank you for sharing.<br><br>I'd be interested to take a look under the hood, should you decide to release the source, and fork the code with my own contributions. The tooling can only benefit from community scrutiny and contribution...<br><br>I especially liked the idea of dragging the projects onto the NuPattern nodes to \"link them up\" - much better than trying to preempt project locations within the solution tree and generate artifacts in the correct folders statically... &nbsp;﻿"},{"userId":"108973381980808040983","userName":"Rudy Scott","date":"Feb 21, 2014, 1:14:49 AM","shortDate":"Feb 21, 2014","textHtml":"This looks really handy for getting started.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 21, 2014, 10:50:10 AM","shortDate":"Feb 21, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/108973381980808040983\" oid=\"108973381980808040983\">Rudy Scott</a></span>&nbsp;not only for 'getting started', but anytime you need to add a new resource,etc.﻿"},{"userId":"108973381980808040983","userName":"Rudy Scott","date":"Feb 21, 2014, 11:50:32 AM","shortDate":"Feb 21, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span> yep yep -- good stuff!﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Feb 26, 2014, 4:25:18 AM","shortDate":"Feb 26, 2014","textHtml":"See this post&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/112627746644624669199/posts/gc1f3PsWbeH\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/112627746644624669199/posts/gc1f3PsWbeH</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 26, 2014, 8:42:39 AM","shortDate":"Feb 26, 2014","textHtml":"Great news, I think this could be great.﻿"}],"date":"Feb 18, 2014, 4:21:05 AM","shortDate":"Feb 18, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>excuse me , I've a request DTO that return nothing (it implements IReturnVoid) how do I threat it with client PostAsync? have I to use client.SendOneWay ? but in that way I don't have visibility that the call ended...Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 9:15:07 AM","shortDate":"Feb 17, 2014","textHtml":"Just trying it out, doesn't look like its supported for async yet, use the sync version until I add support for it.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:16:03 AM","shortDate":"Feb 17, 2014","textHtml":"ok I've just added support for async IReturnVoid requests in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/4f5bd6d4901a8fedf8c5b617023c239a6333d687\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/4f5bd6d4901a8fedf8c5b617023c239a6333d687</a><br><br>It's being pushed to MyGet now (available in 30mins), available with:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 18, 2014, 9:44:39 AM","shortDate":"Feb 18, 2014","textHtml":"Hello Demis, I've tried that feature you've implemented... I've to be honest..it doesn't work as expected... I'm under 4.0 so I've to use the Success/Error extension methods... they don't appear when I return a Task... also I've tried using the Task's ContinueWith but I got the same problem I'm experiencing under the Task.WaitAll... at the second call it remains locked at if the current thread hasn't finished﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 9:54:35 AM","shortDate":"Feb 18, 2014","textHtml":"Do you have any code that shows these issues I can look at?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 10:04:53 AM","shortDate":"Feb 18, 2014","textHtml":"Can I get you to create a new issue for this at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><br>Please also include sample code that reproduces the issue.﻿"}],"date":"Feb 17, 2014, 3:31:28 AM","shortDate":"Feb 17, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Any way to force the SqlServer provider in OrmLite to init a column using char instead of varchar? &nbsp;Maybe something like a FixedLength attribute?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 15, 2014, 10:55:00 PM","shortDate":"Feb 15, 2014","textHtml":"You can use the [StringLength] Attribute, a list of all of ServiceStack's supported DataAnnotation attributes can be found on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces/DataAnnotations\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces/DataAnnotations</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 15, 2014, 11:28:15 PM","shortDate":"Feb 15, 2014","textHtml":"Yeah, I found this earlier and attempted to set both the min and max lengths. &nbsp;No luck. &nbsp;Regardless of the combination, any string field is always created as a varchar when the table is created.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 16, 2014, 7:35:33 AM","shortDate":"Feb 16, 2014","textHtml":"ok yeah, I meant that's how you define variable sized varchars. Will look at what I can add to support this.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 7:04:15 PM","shortDate":"Feb 17, 2014","textHtml":"FYI, v4.0.11 on MyGet allows you to specify a Custom SQL definition so you can use this for specifying a CHAR(N) column, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/CustomSqlTests.cs#L65\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/CustomSqlTests.cs#L65</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 18, 2014, 8:56:38 AM","shortDate":"Feb 18, 2014","textHtml":"Thanks for following up. &nbsp;I'll go this route if I get desperate. &nbsp;Any chance you could add this? &nbsp;At least on SQL Server, the char data type can be faster and consume less space than the same size varchar.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 9:03:10 AM","shortDate":"Feb 18, 2014","textHtml":"The Custom SQL works fine for alternate definitions, added an example in today's the release notes:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-custom-field-declarations\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes#wiki-custom-field-declarations</a><br>Wont be adding individual attributes for non-default field definitions.﻿"}],"date":"Feb 15, 2014, 7:08:42 PM","shortDate":"Feb 15, 2014"},{"userId":"103339008257197658179","userName":"matt tagliaferri","textHtml":"Wondering if anyone has written a SQLServerCacheClient yet.&nbsp; I tried to start but didn't get very far.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 5:17:50 PM","shortDate":"Feb 13, 2014","textHtml":"Nope, but the place to suggest it is on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a> :)﻿"}],"date":"Feb 13, 2014, 5:07:55 PM","shortDate":"Feb 13, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"Suppose you have a Guid type exposed and a client sends a malformed Guid value to the service. The service is unable to cast this and the property remains null. Is this correct?<br><br>Is there a way to capture this process and return validation in the responseStatus as short circut? Otherwise, the property gets set to null and my other lower level validation is being fired and i'm not sure if the object was null because the client sent it as null or there was an invalid cast and it got set to null. This would change how the message is presented back to the client as to what is happening.﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 12, 2014, 3:50:25 PM","shortDate":"Feb 12, 2014","textHtml":"I think the only way to know would be to look at the raw request data and inspect to see if that GUID was sent...if it was sent and it is null, it is because of an invalid cast...?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 12, 2014, 3:58:50 PM","shortDate":"Feb 12, 2014","textHtml":"Another option (I'll admit not the greatest) is to declare it as a string on your request model and then do your validation in the service call.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 4:25:21 PM","shortDate":"Feb 12, 2014","textHtml":"You can register your own request binder:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#wiki-create-a-custom-request-dto-binder\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#wiki-create-a-custom-request-dto-binder</a><br>But that would mean you would have to take care of the deserialization yourself.<br><br>Like Stephen says you can specifying a string and convert it to a Guid yourself.&nbsp;<br><br>You could also buffer the Request body and inspect it yourself using JsonObject.Parse(json)[\"Id\"] for JSON.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 13, 2014, 11:42:49 AM","shortDate":"Feb 13, 2014","textHtml":"Thanks guys!﻿"}],"date":"Feb 12, 2014, 3:46:51 PM","shortDate":"Feb 12, 2014"},{"userId":"102693392715257470047","userName":"Dan Mueller","textHtml":"Is there a way to use an updated version of Npgsql with ServiceStack.OrmLite.PostgreSQL? ServiceStack seems to require Npgsql 2.0.11 which has a significant bug (latest is now 2.0.14.3).<br><br>See here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21620386\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21620386</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 11, 2014, 6:55:01 PM","shortDate":"Feb 11, 2014","textHtml":"Yeah the updated OrmLite packages using the latest dependencies have been deployed to MyGet, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://www.myget.org/feed/servicestack/package/ServiceStack.OrmLite.PostgreSQL\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.myget.org/feed/servicestack/package/ServiceStack.OrmLite.PostgreSQL</a><br><br>You can add ServiceStack's MyGet feed by following these intructions:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>We'll deploy this to NuGet either tonight or tomorrow.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 3:36:26 AM","shortDate":"Feb 12, 2014","textHtml":"FYI v4.0.10 is now deployed to NuGet.﻿"},{"userId":"102693392715257470047","userName":"Dan Mueller","date":"Feb 13, 2014, 9:11:56 PM\n(edited Feb 13, 2014, 9:12:45 PM)","shortDate":"Feb 13, 2014","textHtml":"Thanks! Works great using ServiceStack v4.0.10 and Npgsql 2.0.14.3 — my unit tests are passing now.﻿"}],"date":"Feb 11, 2014, 6:38:37 PM","shortDate":"Feb 11, 2014"},{"userId":"106787359118990653189","userName":"Demis Bellot","textHtml":"Hey All,<br><br>I'm just about to head to Perth to catch a plane to start my long journey back to NYC, so I'll mostly be in-between airports and in the air so out of action for the next couple of days. Should be back in action on Sunday/Monday.﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 7, 2014, 9:02:29 AM","shortDate":"Feb 7, 2014","textHtml":"Then you have to recover from the time change...it will kick your tail..﻿"}],"date":"Feb 6, 2014, 10:59:35 PM","shortDate":"Feb 6, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I try to serialize a Dictionary&lt;string, object&gt; as&nbsp; a&nbsp; member of Response or Request. &nbsp;<br>JsonSerializer returns the&nbsp; dictionary,&nbsp; but the values are&nbsp; returned as strings, and the DateTime&nbsp; string is&nbsp; formatted as&nbsp; ticks (it seems like that).&nbsp;&nbsp; &nbsp;<br>The \"JsConfig.TryToParsePrimitiveTypeValues = true;\"&nbsp; does not change anything.<br>Using the ProtoBufServiceClient,&nbsp; also&nbsp; throws&nbsp; an exception (from protobuf-net)&nbsp; that \"serializer for system.object is not defined\".<br>Newton.Json&nbsp; serializes the dictionary&nbsp; in their types (tested string,&nbsp; DateTime, decimal, boolean)<br>So, in order to transfer a&nbsp; dynamic&nbsp; column-store as&nbsp; a&nbsp; member of the&nbsp; Request/Response&nbsp; DTO,&nbsp;<br>&nbsp;my workaround&nbsp; is to&nbsp; serialize/deserialize the dictionary, using Newton.Json and transfer it as a simple string.<br><br>Is this possible to change with ServiceStack or it is&nbsp; a purposeful design decision&nbsp; ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 6, 2014, 1:17:04 PM","shortDate":"Feb 6, 2014","textHtml":"No we don't have support for dynamic dictionaries containing late-bound object value types, consider just using a string dictionary. &nbsp;You can also use a JsonObject which also inherits Dictionary&lt;string,string&gt; but provides convenience overloads for parsing values if you know their types, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/21603948/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/21603948/85785</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 6, 2014, 1:23:46 PM\n(edited Feb 6, 2014, 1:24:45 PM)","shortDate":"Feb 6, 2014","textHtml":"In such case, I will continue what I do right now. &nbsp; Serialize - deserialize&nbsp; in a simple string field, member of the Response , using the Newton.Json&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/3744505\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/3744505</a>﻿"},{"userId":"104253490514790796110","userName":"Robert van Drunen","date":"Mar 17, 2014, 1:59:13 PM","shortDate":"Mar 17, 2014","textHtml":"We're running into the same issue: a property with type Object which holds different datatypes. We had a custom JsConfig RawDeserializeFn handler to handle deserialization of DateTime values but JsConfig requires ServiceStack.Text which is excluded from the \"free usage\" part of ServiceStack v4. Since this handler is/was the only ServiceStack functionality we use in our client toolkit (besides JsonServiceClient) we would like to keep the licensed bits limited to our server code. Does this mean we have to implement deserialization &nbsp;on each DTO that uses Object typed properties, or is there possibly a way around this?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 2:07:45 PM","shortDate":"Mar 17, 2014","textHtml":"Not sure what the question is, object properties (whilst a bad idea on DTOs) are still supported (they're not supported in dictionaries), they do require SS.Text to emit verbose __type info on the wire to be able to support it.﻿"},{"userId":"104253490514790796110","userName":"Robert van Drunen","date":"Mar 17, 2014, 2:44:16 PM","shortDate":"Mar 17, 2014","textHtml":"In short: we have classes with object properties which in practice also hold DateTime values (while a bad idea there is no way around it) Deserialization back to DateTime values does not happen because of the object property type. Our client toolkit only uses the service clients (which are free to use) and one function to handle deserialization of datetime value (using JsConfig, not free) This means we have to extend our license plan dramatically if we want our datetime values deserialized client side. It would be great if there was some way to get datetime values deserialized properly in these situations without the need to add a license for each client.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 3:13:43 PM","shortDate":"Mar 17, 2014","textHtml":"You can still use JsConfig to configure JSON serialization on ServiceClients?&nbsp;<br>I would like to have a better understanding of what doesn't work or what you're trying to do, are you trying to use the JSON serializer outside of the service clients? Would you be better off using a string instead?<br>Otherwise can you post a failing test / code sample of what doesn't work on: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"104253490514790796110","userName":"Robert van Drunen","date":"Mar 17, 2014, 3:33:17 PM","shortDate":"Mar 17, 2014","textHtml":"Functionally everything is working, nothing but praise for the software. Thing is that we have to reference ServiceStack.Text in our client project to be able to use JsConfig. This in turn causes a licensing message when that client exceeds the \"free usage\" limitations (10 operations, 20 types, 6000 requests, ...) which we would not get if we only use JsonServiceClient. And since we only need the custom deserializer for datetime values in object properties it would be excessive to include SS.Text for just that single reason.﻿"}],"date":"Feb 6, 2014, 1:00:07 PM\n(edited Feb 6, 2014, 1:13:17 PM)","shortDate":"Feb 6, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"The new \"plugins\" section of the metadata page does not show a link for the RequestLogsFeature() plug in.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 9:11:29 PM\n(edited Feb 3, 2014, 9:13:05 PM)","shortDate":"Feb 3, 2014","textHtml":"Ok yeah that was a new feature to show where the hard to find SS entry point of swagger-ui was. You're right, I should start adding them for the other plugins with Web UI's as well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2014, 1:41:18 AM","shortDate":"Feb 4, 2014","textHtml":"ok added a new section for \"Debug Links\" for Debug Info UI's that are available when in DebugMode which appear in the bottom of the metadata pages, i.e:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://imgur.com/OqeE1op\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://imgur.com/OqeE1op</a><br><br>Added in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/5bf5abd1669d2db761cb4284e3e2dcf241704136\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/5bf5abd1669d2db761cb4284e3e2dcf241704136</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 4, 2014, 10:02:58 AM","shortDate":"Feb 4, 2014","textHtml":"Perfect﻿"}],"date":"Feb 3, 2014, 4:37:18 PM","shortDate":"Feb 3, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"What is the best way to mimic the Error Response given by servicestack, from the Applicaiton_Error within the Global.asax when the ServiceStack.HostContext is unavailable.<br><br>Can I get there from starting off like so within the Applicaiton_Error().<br><br>Server.ClearError(); // this is the secret to not returning the CustomError HTML!!! &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>var httpContextBase = HttpContext.Current.ToHttpContextBase();﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 1:31:54 PM","shortDate":"Feb 3, 2014","textHtml":"You could serialize a generic ErrorResponse:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ErrorResponse.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/ErrorResponse.cs</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 1:37:13 PM","shortDate":"Feb 3, 2014","textHtml":"Agreed, I did that like so.&nbsp;<br><br>var responseContent = new Exception(\"Internal Server Error\").ToResponseStatus();<br><br>However, I find my self writting logic to determine the response format to return to the client by &nbsp;doing responseContent. ToJson() or responseConent.ToXml().<br><br>Is there something exposed to easily get the return format expected ? I see in HttpRequestExtensions.cs , but need IRequest to get at it.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 1:43:27 PM","shortDate":"Feb 3, 2014","textHtml":"I'd like to call HttpRequestExtentions.GetResponseContentType<br><br>However, I would need to IRequest and ServiceStack.HostContext (&lt;-- Instance available)<br><br>I could just mimic this function and remove what I don't need to get close, just thought I would ask if there is an easier way or even this might be useful to add to ServiceStack.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 1:43:49 PM","shortDate":"Feb 3, 2014","textHtml":"You should be able to get an IRequest with the ToRequest() extension method, i.e:<br><br>var req =&nbsp;HttpContext.Current.ToRequest();<br><br>You can get to ServiceStack's AppHost ContentType serializers with:<br><br>var str = HostContext.ContentTypes.SerializeToString(req, errorDto);﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 1:54:47 PM","shortDate":"Feb 3, 2014","textHtml":"The above can't work as in my situation the HostContext failed to Init(), but the site is still up and returning responses back to the client.&nbsp;<br><br>[System.Configuration.ConfigurationErrorsException] = {\"ServiceStack: AppHost does not exist or has not been initialized. Make sure you have created an AppHost and started it with 'new AppHost().Init();' &nbsp;in your Global.asax Application_Start() or alternative Application StartUp\"}<br><br>If there was a generic way to get at this information from ServiceStack Api without the need for HostContext. It could benefit other developers.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 1:58:03 PM","shortDate":"Feb 3, 2014","textHtml":"you can create the instance yourself, e.g:<br><br>var contentTypes = new&nbsp;ContentTypes();<br><br>But it only comes with Xml, JSON, JSV and SOAP by default, you'd have to use the Register() api to register more contentTypes.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 2:02:41 PM\n(edited Feb 3, 2014, 2:03:03 PM)","shortDate":"Feb 3, 2014","textHtml":"Otherwise you can create your own empty AppHost instance with:<br><br>using (var appHost = new BasicAppHost().Init())&nbsp;<br>{<br>&nbsp; var a = appHost.ContentTypes...<br>}﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 2:04:29 PM","shortDate":"Feb 3, 2014","textHtml":"Anyway I'm off to sleep now, 3am where I'm at. Will check back in tomorrow morning.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 2:21:34 PM","shortDate":"Feb 3, 2014","textHtml":"That's what I was thinking of doing. Thanks for responding and gooo to bed! lol﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 4:07:00 PM\n(edited Feb 3, 2014, 4:08:02 PM)","shortDate":"Feb 3, 2014","textHtml":"Thanks! This is the solution.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Server.ClearError(); // this is the secret to not returning the CustomError HTML!!! &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HttpContext.Current.Response.StatusCode = (int)HttpStatusCode.InternalServerError; // 500<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HttpContext.Current.Response.Clear();&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using (var tempAppHost = new BasicAppHost().Init())<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var req = HttpContext.Current.ToRequest();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var res = new ErrorResponse<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ResponseStatus = new Exception(\"Internal Server Error\").ToResponseStatus()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var i = req.ResponseContentType;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var result = tempAppHost.ContentTypes.SerializeToString(req, res);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HttpContext.Current.Response.Write(result);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 3, 2014, 4:09:28 PM","shortDate":"Feb 3, 2014","textHtml":"When there is a hard crash we do not want to send back the Exception information, just that there has been an error, but not what it actually was for security reasons. We log everything.<br><br>Thanks again.﻿"}],"date":"Feb 3, 2014, 1:25:19 PM","shortDate":"Feb 3, 2014"},{"userId":"109472812508027296154","userName":"David A. Sjøen","textHtml":"Html.Partial doesn't seem to work in ServiceStack.Razor sections. Any thoughts? <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/18466839/servicestack-razor-how-do-i-render-a-html-partial-view-inside-a-section\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/18466839/servicestack-razor-how-do-i-render-a-html-partial-view-inside-a-section</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2014, 9:58:13 PM","shortDate":"Feb 2, 2014","textHtml":"ok can you post a link to a new Issie on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> so we can track its progress, thx.﻿"}],"date":"Feb 2, 2014, 6:42:47 AM","shortDate":"Feb 2, 2014"},{"userId":"107448356427818679798","userName":"Michael Daly","textHtml":"We are using AWS SWF and SQS, for passing data, SS.Text is used to serialize objects to string.<br><br>Some of the same POCO's are exposed through our public web service.<br><br>I need SS.Text to serialize all properties (for internal use), but, I only want the SS web service to serialise some of the properties in the response.<br><br>If I wanted SS.Text to exclude properties, it would be simple (JsConfig&lt;ClassName&gt;.ExcludePropertyNames), but how do I get the SS web service to exclude properties while my usage of SS.Text serializes all properties?﻿","comments":[{"userId":"112525207644398889655","userName":"Dan Barua","date":"Jan 31, 2014, 6:33:38 AM\n(edited Jan 31, 2014, 6:35:00 AM)","shortDate":"Jan 31, 2014","textHtml":"I would have different POCO DTOs for internal and public facing and use internal.TranslateTo&lt;ExternalDto&gt;()<br><br>If that's not to your taste you could take a look at this project here that implements partial responses (returning a limited subset of fields):&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/AnthonyCarl/ServiceStack.PartialResponse\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/AnthonyCarl/ServiceStack.PartialResponse</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 31, 2014, 10:57:23 AM","shortDate":"Jan 31, 2014","textHtml":"You can also use a JsConfig config block to scope changes that only apply within that scope, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/tests/ServiceStack.Text.Tests/AdhocModelTests.cs#L358-L369\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/tests/ServiceStack.Text.Tests/AdhocModelTests.cs#L358-L369</a>﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 31, 2014, 2:36:36 PM","shortDate":"Jan 31, 2014","textHtml":"Thanks. Will have a look tomorrow.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jan 31, 2014, 2:37:25 PM","shortDate":"Jan 31, 2014","textHtml":"I had a similar situation here and what we did is wrapped the SS.Text serializer in our own serializer by extending it via the JsonObject in SS.Text. Our need was to provide a way for our end users to add properties dynamically even though they were not on the typed DTOs.﻿"}],"date":"Jan 31, 2014, 6:26:14 AM","shortDate":"Jan 31, 2014"},{"userId":"112912023223668381449","userName":"Kyle Gobel","textHtml":"Anyone know if that Redis AdminUI still works/still around?, just found a rando blog post about it most the links are dead and the repo is gone or missing. &nbsp;Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 10:48:15 AM\n(edited Jan 30, 2014, 11:00:10 AM)","shortDate":"Jan 30, 2014","textHtml":"The source code is still available and has been moved to the ServiceStack v3 repo:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackV3/ServiceStack.RedisWebServices\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackV3/ServiceStack.RedisWebServices</a><br><br>Whilst the code is still available as BSD/OSS, I've stopped supporting it over a year ago.﻿"}],"date":"Jan 30, 2014, 10:26:03 AM","shortDate":"Jan 30, 2014"},{"userId":"109809828280117788271","userName":"Petr Babička","textHtml":"Hi,<br>why OrmLite CRUD operations don't take Type argument?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 29, 2014, 10:45:55 AM","shortDate":"Jan 29, 2014","textHtml":"? can you be more specific with an example?﻿"},{"userId":"109809828280117788271","userName":"Petr Babička","date":"Jan 29, 2014, 10:52:21 AM","shortDate":"Jan 29, 2014","textHtml":"object obj = Activator.CreateInstance(type);<br>BaseClass bc = (BaseClass) obj;<br>...<br>db.Insert(bc); // same&nbsp;UpdateNonDefaults, etc.<br>// &lt;- Trying insert into BaseClass table instead of table from type﻿"},{"userId":"109809828280117788271","userName":"Petr Babička","date":"Jan 29, 2014, 10:53:25 AM","shortDate":"Jan 29, 2014","textHtml":"And i can't find Insert method with Type argument.<br>using ServiceStack.OrmLite;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 29, 2014, 11:12:19 AM","shortDate":"Jan 29, 2014","textHtml":"Well it's because it's a generic type argument so it uses the type of the POCO as expected. Also a lot of API's requires a generic type in order to provide a typed expression and most of the use-cases you're working directly with the POCO so it's not ideal to unnecessarily pollute the API with partially equivalent untyped API's where its possible.<br><br>Anyway I do have an API I'm using for untyped access, I'll see if I can create a test showing it with the example above.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 29, 2014, 11:40:24 AM","shortDate":"Jan 29, 2014","textHtml":"FYI here's an example using an untyped api:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/bc9ccc122477c198acd91c247aaacbc3d6e500bf\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/bc9ccc122477c198acd91c247aaacbc3d6e500bf</a><br><br>It was only for internal use so it only contains Apis for Save' and 'SaveAll', but I'll extend them now and make them more usable.﻿"},{"userId":"109809828280117788271","userName":"Petr Babička","date":"Jan 29, 2014, 11:57:50 AM","shortDate":"Jan 29, 2014","textHtml":"It looks like we have same results. But I found limit of this. When we need call Select (or methods with expression) then i don't know how to put expression into argument (because is typed).<br><br>My tests:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/babcca/fb12695dfee0049d70e7\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/babcca/fb12695dfee0049d70e7</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 29, 2014, 12:36:39 PM","shortDate":"Jan 29, 2014","textHtml":"That's what I was saying when when I said: \"a lot of API's requires a generic type in order to provide a typed expression\"<br><br>Anyway I've re-factored the untyped API to be more user-friendly and include more CRUD methods at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/UntypedApiTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/UntypedApiTests.cs</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 29, 2014, 12:55:38 PM","shortDate":"Jan 29, 2014","textHtml":"These changes are now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"109809828280117788271","userName":"Petr Babička","date":"Jan 29, 2014, 2:06:32 PM","shortDate":"Jan 29, 2014","textHtml":"Thank you very much :)﻿"}],"date":"Jan 29, 2014, 10:43:14 AM","shortDate":"Jan 29, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"I was trying to persist some custom data on a subclass on AuthUserSession (in particular the reference to the current user id for our custom User object), but found that apparently the session instance is stored in cache before the OnAuthenticated method is called.<br><br>From what I could see from the docs (here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#caching--sessions---the-icacheclient\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#caching--sessions---the-icacheclient</a> ), that's the method where I'm supposed to store the data on the session fields.<br><br>I've worked around it by calling \" authService.SaveSession(this, SessionFeature.DefaultSessionExpiry); \" after doing all changes, but it looks a bit odd.&nbsp;<br><br>Another option might be to implement our own&nbsp;IUserAuthRepository which would return our user directly, but even then I think I might want to extend the session with other data.<br><br>What am I missing? Is there any way to signal that the user session needs to be re-cached?<br><br>Thanks,<br>Bruno﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 22, 2014, 9:30:19 PM","shortDate":"Jan 22, 2014","textHtml":"Not sure what you mean by looks odd? If you change the model that's retrieved from the Session, it needs to be persisted in order for the changes to be available in the next time the session is retrieved.﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Jan 23, 2014, 10:01:30 AM","shortDate":"Jan 23, 2014","textHtml":"I apologize for not being clearer.<br><br>I mention that it looks odd because I expected the save to be after calling \"OnAuthenticated\", since once of the scenarios for a custom UserSession is to have extra fields.<br>Also, I believe that the expiry is \"owned\" by the AuthProvider, which made me think that I was not going the right way about it when I went for the default expiry.<br><br>If the call to \"authService.SaveSession(session, SessionExpiry);\" were to happen after \"session.OnAuthenticated(authService, session, tokens, authInfo);\", then any changes to the session made during OnAuthenticated would<br>be persisted, instead of my current solution of calling \"authService.SaveSession(this, SessionFeature.DefaultSessionExpiry);\" inside OnAuthenticated. Also, this means that the session is persisted twice to cache.<br><br>I've put the code up at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/brunomlopes/8579920\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/brunomlopes/8579920</a> if it helps in understanding my question.<br><br>Thanks,<br>Bruno﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 23, 2014, 11:01:39 AM","shortDate":"Jan 23, 2014","textHtml":"The Session is saved in a cache, you don't need to provide a default expiry as it should just use the default SessionExpiry in AuthFeature or SessionFeature (2 weeks).<br>I've changed it to save the session after the call to OnAuthenticated() in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/ce416debb747815f2d5478b065b9cec28e723a70\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/ce416debb747815f2d5478b065b9cec28e723a70</a> which I agree is likely to be the expected behavior that any changes to the session would be automatically persisted.<br><br>All the tests pass so it should be safe, though it does mean if you make use of a provider within&nbsp;OnAuthenticated() that tries to access the session they'll get the old one, not the new one -&nbsp;but that should hopefully be rare.<br>I've just started deploying the latest release to MyGet should be finished in 15 minutes. Instructions for using the pre-release packages on MyGet are at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Jan 24, 2014, 6:03:33 AM","shortDate":"Jan 24, 2014","textHtml":"About the expire, right, sorry. I didn't see it was optional.<br><br>Thanks for the change and help.﻿"}],"date":"Jan 22, 2014, 8:19:53 PM","shortDate":"Jan 22, 2014"},{"userId":"109809828280117788271","userName":"Petr Babička","textHtml":"Hi,<br>i'm trying get debug symbols for servicestack from symbolsource server. I configure everything how describe in SS release note, but i can't load symbols. It looks like on symbolsource issue (because DownloadCount is zero [ <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack/4.0.8\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack/4.0.8</a> ]).<br><br>Am i doing something wrong or get this issue someone else? I'm running on MSVS 2013 Pro.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://srv.symbolsource.org/pdb/Public/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F29/ServiceStack.pdb\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://srv.symbolsource.org/pdb/Public/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F29/ServiceStack.pdb</a> not found<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://srv.symbolsource.org/pdb/MyGet/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F29/ServiceStack.pdb\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://srv.symbolsource.org/pdb/MyGet/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F29/ServiceStack.pdb</a> not found﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 21, 2014, 7:17:49 AM","shortDate":"Jan 21, 2014","textHtml":"Yeah I just noticed that it doesn't debug source code in ServiceStack.dll for me either, unfortunately I can't tell what the issue is, I just checked the deployed ServiceStack.4.08.symbols.nupkg and it looks like all the source code is in /src which is all it should need.<br><br>One way around it is to download the source code from:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack</a> build ServiceStack.dll and change the reference of your project to use that so it can debug the dll using the repo source code.﻿"}],"date":"Jan 21, 2014, 6:22:53 AM\n(edited Jan 21, 2014, 6:25:11 AM)","shortDate":"Jan 21, 2014"},{"userId":"107448356427818679798","userName":"Michael Daly","textHtml":"I wanted to contribute some code which required adding to ServiceStack.Interfaces. As I don't have the pfx file for code signing, I can't just swap in and out the updated dll for testing as my test project and the whole ServiceStack project won't build. It looks like quite a bit of messing about to get this to work.<br><br>Demis, is there a better way you can organise the project for people who don't have the pfx, or, are there any nice instructions on how I can reorganise the project?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 18, 2014, 10:11:33 AM","shortDate":"Jan 18, 2014","textHtml":"I don't think there is, in order for signed and non-signed projects to be able to share DTO's they both need to use the signed ServiceStack.Interfaces.dll.&nbsp;<br><br>I would avoid trying to add things to SS.Interfaces and add it to your own projects that you have full control over instead.﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 18, 2014, 11:16:26 AM","shortDate":"Jan 18, 2014","textHtml":"I was going to make a small enhancement to the Swagger plugin, which would require either a new attribute or a change to an existing attribute in SS.Interfaces, plus some new logic in SS.Api.Swagger for building the JSON model.<br><br>As it's a core part of SS, I couldn't see any other way of improving the built in support for Swagger. It's not a big deal, just thought the change looked simple an obvious to implement.<br><br>Are you still accepting contributions or veering away from outside contributions now?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 18, 2014, 11:26:28 AM\n(edited Jan 18, 2014, 11:29:26 AM)","shortDate":"Jan 18, 2014","textHtml":"Yep, still taking Contributions with a CLA, published some Contributing guidelines at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Contributing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Contributing</a><br>Yeah adding changes to SS.Interfaces via a pull-request would be the least disruptive way to get it in there.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Jan 18, 2014, 1:47:14 PM","shortDate":"Jan 18, 2014","textHtml":"Yes Michael, share your enhancements so we can all benefit! &nbsp;:-)﻿"}],"date":"Jan 18, 2014, 9:39:35 AM","shortDate":"Jan 18, 2014"},{"userId":"112912023223668381449","userName":"Kyle Gobel","textHtml":"I have no clue how unsubscribe from the Pub/Sub Redis Database after I've started subscribing (on a different thread). &nbsp;Does anyone know the proper way to do this?<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21204839/redis-pub-sub-servicestack-cancelling-the-thread\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21204839/redis-pub-sub-servicestack-cancelling-the-thread</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 18, 2014, 8:57:31 AM","shortDate":"Jan 18, 2014","textHtml":"I've just added an answer.﻿"}],"date":"Jan 18, 2014, 8:36:39 AM","shortDate":"Jan 18, 2014"},{"userId":"105026620667838155163","userName":"Samuel Loup","textHtml":"Hi Batman,<br><br>Mono &amp; SSv4 is planned ?<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/20487596/is-servicestack-v4-beta-ready-for-mono\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/20487596/is-servicestack-v4-beta-ready-for-mono</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 13, 2014, 11:19:09 AM","shortDate":"Jan 13, 2014","textHtml":"Yeah can you try with the latest v4.06 of ServiceStack that was just released:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Release-Notes</a>﻿"},{"userId":"105026620667838155163","userName":"Samuel Loup","date":"Jan 14, 2014, 12:29:37 AM","shortDate":"Jan 14, 2014","textHtml":"Awesome! Just added a Pcl Stub for my DTO, changing ref's in client, and ...<br>it's just working!<br>Thx Demis (+team) kudos!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2014, 12:37:17 AM","shortDate":"Jan 14, 2014","textHtml":"Awesome, glad to hear it!﻿"}],"date":"Jan 13, 2014, 10:15:32 AM","shortDate":"Jan 13, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"I have a working ss service on my local machine that authorizes fine using both SQl and raven auth plugin.<br><br>when I try to test auth on the azure app by going to /auth/twitter I just end up in an authentication loop.<br><br>this is the exact same code (except for the callback and redirect url is pointed to the azure app)<br><br>Should this work o Azure? Is there any way of knowing why the redirect ends up in a loop? Is there any debugging output on twitter?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 8, 2014, 10:26:51 AM\n(edited Jan 8, 2014, 10:27:06 AM)","shortDate":"Jan 8, 2014","textHtml":"HI Wayne, if you deploy with Config.DebugMode=true enabled, we will be able to see the request info variables with:<br>?debug=requestinfo.<br><br>Also if you enable the Request Logs feature with:<br>Plugins.Add(new RequestLogsFeature());<br><br>Then we'll be able to see a log of the requests made at /requestlogs﻿"}],"date":"Jan 8, 2014, 8:43:00 AM","shortDate":"Jan 8, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello, In a silverlight application I got a StackOverflow exception when deserializing a 39MB XML File... is there a limit on SL component?<br>Thanks﻿","comments":[{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 7, 2014, 10:58:17 AM","shortDate":"Jan 7, 2014","textHtml":"Erm I've noticed that if I run it without the debugger it runs....with Visual studio in debugging I got that exception.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2014, 11:00:59 AM","shortDate":"Jan 7, 2014","textHtml":"There's no built-in limit/restrictions in ServiceStack libraries. You can try increasing the buffer size to see if that helps, e.g:<br><br>AsyncServiceClient.BufferSize = 1024 * 16; //16kb, default is 8kb﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 7, 2014, 11:04:40 AM","shortDate":"Jan 7, 2014","textHtml":"This applies also to 3.9.7x?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2014, 11:16:55 AM","shortDate":"Jan 7, 2014","textHtml":"The property exists:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/v3/src/ServiceStack.Common/ServiceClient.Web/AsyncServiceClient.cs#L47\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/v3/src/ServiceStack.Common/ServiceClient.Web/AsyncServiceClient.cs#L47</a>&nbsp;<br><br>so it should, but I'm not sure if that's the cause of this issue, but it may help.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 7, 2014, 11:19:05 AM","shortDate":"Jan 7, 2014","textHtml":"Hello Demis, in SL I use<br><br>&nbsp;private&nbsp;static&nbsp;volatile&nbsp;ServiceStack.ServiceClient.Web.JsonServiceClient client; is this wrong?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2014, 11:32:24 AM","shortDate":"Jan 7, 2014","textHtml":"not sure why you're using volatile here﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jan 7, 2014, 11:35:24 AM","shortDate":"Jan 7, 2014","textHtml":"On the demo I've made I use a signeton for the client and following the double-check locking I've to use volatile﻿"}],"date":"Jan 7, 2014, 10:28:34 AM","shortDate":"Jan 7, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"I have a quick question regarding SOAP 1.2 integration via the \"Add Service Reference\" dialog in Visual Studio. I can access the service in question without any issues using the JsonClient, but when I try to forgo the client and integrate directly using the VS proxy generator I get the following error :<br><br>Warning\t49\tCustom tool warning: Cannot import wsdl:port<br>Detail: There was an error importing a wsdl:binding that the wsdl:port is dependent on.<br>XPath to wsdl:binding: //wsdl:definitions[@targetNamespace='<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/types%27%5D/wsdl:binding%5B@name=%27WSHttpBinding_IMosaicApi\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/types']/wsdl:binding[@name='WSHttpBinding_IMosaicApi</a>']<br>XPath to Error Source: //wsdl:definitions[@targetNamespace='<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/types%27%5D/wsdl:service%5B@name=%27MosaicApiSyncReply%27%5D/wsdl:port%5B@name=%27WSHttpBinding_IMosaicApi\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/types']/wsdl:service[@name='MosaicApiSyncReply']/wsdl:port[@name='WSHttpBinding_IMosaicApi</a>']<br><br>I have read the article on SOAP support on GitHub (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/SOAP-support</a>) and changed the WSDL namespace as described in this article, then applied correctly namespaced DataContract and DataMember attributes to all of my DTOs and entities - but I am still getting this error.<br><br>I've published a temporary, reduced version of my service to&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/</a> where you can see the WSDL.<br><br>Any assistance would be greatly appreciated.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 5:32:51 AM\n(edited Jan 3, 2014, 5:33:24 AM)","shortDate":"Jan 3, 2014","textHtml":"Can we see a copy of the DTO's? Also the&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/</a> link doesn't work from here.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Jan 3, 2014, 5:45:32 AM\n(edited Jan 3, 2014, 5:46:42 AM)","shortDate":"Jan 3, 2014","textHtml":"&nbsp;here you go. I've included the base classes as well.&nbsp;<br><br>&nbsp;--------------------------------------------------------------<br>&nbsp; [Route(\"/induction/shipmentandparcels\", \"POST\")]<br>&nbsp; &nbsp; [Api(\"induct a shipment and all of its associated parcels\")]<br>&nbsp; &nbsp; [DataContract(Namespace = \"<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/types</a>\")]<br>&nbsp; &nbsp; public class InductShipmentAndParcels : InductShipmentAndParcelsCommand, IReturn&lt;InductShipmentAndParcelsResponse&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; }<br>--------------------------------------------------------------<br>&nbsp; &nbsp; [DataContract]<br>&nbsp; &nbsp; public class InductShipmentAndParcelsResponse : InductShipmentAndParcelsCommandResult<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; }<br>&nbsp; --------------------------------------------------------------<br>[DataContract(Namespace=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/types</a>\")]<br>&nbsp; &nbsp; public class InductShipmentAndParcelsCommand : ICommand&lt;InductShipmentAndParcelsCommandResult&gt;<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public string ImportBatchIdentifier { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public ShipmentInfo ShipmentInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public InsuranceInfo InsuranceInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public ContactInfo SenderInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public ContactInfo RecipientInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public AddressInfo DeliveryAddressInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public AddressInfo CollectionAddressInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public List&lt;ParcelInfo&gt; ParcelsInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public WaybillInfo WaybillInfo { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public string AccountCode { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public string ServiceCode { get; set; }<br>&nbsp; &nbsp; }<br>&nbsp;--------------------------------------------------------------<br>&nbsp; &nbsp; [DataContract(Namespace=\"<a rel=\"nofollow\" target=\"_blank\" href=\"http://api.fnf.co.za/types\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://api.fnf.co.za/types</a>\")]<br>&nbsp; &nbsp; public class InductShipmentAndParcelsCommandResult : ICommandResult<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public string WaybillNumber { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; [DataMember]<br>&nbsp; &nbsp; &nbsp; &nbsp; public bool WasDuplicate { get; set; }<br>&nbsp; &nbsp; }<br>--------------------------------------------------------------﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 3, 2014, 5:53:38 AM","shortDate":"Jan 3, 2014","textHtml":"An issue might be trying to use inheritance in SOAP, it's very brittle and you would need to use the [KnownType] markers on each base class so the WCF serializer can find all the impls, but I'd recommend against using inheritance at all.&nbsp;﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Jan 3, 2014, 6:04:04 AM","shortDate":"Jan 3, 2014","textHtml":"ok - thanks Demis. I'll encapsulate the command rather than inheriting from it and see if that works....﻿"},{"userId":"112525207644398889655","userName":"Dan Barua","date":"Jan 3, 2014, 1:39:35 PM","shortDate":"Jan 3, 2014","textHtml":"It seems counterintuitive but it's ok to violate DRY when designing messaging DTOs. <a rel=\"nofollow\" target=\"_blank\" href=\"http://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented/</a> ﻿"}],"date":"Jan 3, 2014, 5:22:52 AM","shortDate":"Jan 3, 2014"},{"userId":"115460373904393870459","userName":"Keith Platter","textHtml":"After deploying SSv4 to a Windows IIS hosted environment with Medium Security, I am receiving an error during the Application_Start, I may be out of luck with deploying to this environment but wanted to see if there was anything I could do to avoid the error:<br><br>Server Error in '/' Application.<br><br>Security Exception<br><br>Description: The application attempted to perform an operation not allowed by the security policy. To grant this application the required permission please contact your system administrator or change the application's trust level in the configuration file.<br><br>Exception Details: System.Security.SecurityException: Request failed.<br><br>Source Error:<br><br>An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.<br><br>Stack Trace:<br><br>[SecurityException: Request failed.]<br>ServiceStack.PlatformExtensions.AddAttributes(Type type, Attribute[] attrs) +0<br>ServiceStack.Host.ServiceController.AfterInit() +219<br>ServiceStack.ServiceStackHost.AfterPluginsLoaded(String specifiedContentType) +102<br>ServiceStack.ServiceStackHost.OnAfterInit() +1556<br>ServiceStack.ServiceStackHost.Init() +428<br>Global.Application_Start(Object sender, EventArgs e) in Global.asax.cs:521<br><br>Version Information: Microsoft .NET Framework Version:4.0.30319; <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Version:4.0.30319.18055<br><br><b>***</b><br><br>From what I have been able to determine it looks like this<br><br>Add Code-first Attributes at runtime, de-coupled from POCO's<br><br>Inspection of all Metadata attributes in ServiceStack now uses ServiceStack.Text's attribute reflection API's which support adding of type and property metadata attributes dynamically. This now lets you add the same behavior normally only available via attributes, dynamically at StartUp. Some benefits of this include: being able to keep unattributed data model POCOs in OrmLite or to extend built-in and external Request DTOs and Services with enhanced functionality that was previously only available using attributes.<br><br>Is using reflection which is not supported by Medium Trust......﻿","comments":[{"userId":"115460373904393870459","userName":"Keith Platter","date":"Dec 31, 2013, 9:52:35 AM","shortDate":"Dec 31, 2013","textHtml":"After further testing, it appears to be caused by loading Plugins related to Authentication, Loading plugins in general does not cause the problem as I am able to load the Razor plugin successfully like so:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Plugins.Add(new RazorFormat());<br><br>But loading either of these<br><br>Plugins.Add(new AuthFeature(() =&gt; new AuthUserSession(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new IAuthProvider[] {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new BasicAuthProvider()<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }));<br><br><br>Plugins.Add(new RegistrationFeature());<br><br>Causes the error...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 1, 2014, 9:09:09 AM","shortDate":"Jan 1, 2014","textHtml":"It sounds like a medium trust issue as we never throw a&nbsp;SecurityException in the ServiceStack code-base. &nbsp;﻿"},{"userId":"115460373904393870459","userName":"Keith Platter","date":"Jan 1, 2014, 11:43:39 AM","shortDate":"Jan 1, 2014","textHtml":"I believe so, but is it something that I should be able to disable or fix with a patch or should I assume that SSv4 does not work in medium trust and find a new environment?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 1, 2014, 12:07:03 PM","shortDate":"Jan 1, 2014","textHtml":"Best to assume medium trust is not supported given medium trust is obsolete and being removed in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> web frameworks:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/17218344/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/17218344/85785</a>﻿"},{"userId":"102009037555060074960","userName":"Nabil Alhusail","date":"Jan 9, 2014, 7:23:52 AM","shortDate":"Jan 9, 2014","textHtml":"is there a way to run SS under medium trust ?<br>I don't really need to add attributes at runtime, so is there a configuration or something that change the trust level along with the functionality provided ?﻿"}],"date":"Dec 31, 2013, 6:51:14 AM\n(edited Dec 31, 2013, 6:52:50 AM)","shortDate":"Dec 31, 2013"},{"userId":"111767280318417443947","userName":"aylmer carson","textHtml":"Custom ResponseFilters &amp; RequestFilters<br><br>Hi - in v3 I had set up some response filters in apphost config:<br><br>this.ResponseFilters.Add((req, res, dto) =&gt;<br>{}<br><br>however in v4 ResponseFilters doesn't appear to exist and I cannot find it. could anyone please say where it has gone and how to use it? I have searched the docs but can't find any reference to it.<br><br>thanks﻿","comments":[{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 22, 2013, 6:31:22 AM","shortDate":"Dec 22, 2013","textHtml":"GlobalResponseFilters !!!! :)﻿"}],"date":"Dec 22, 2013, 6:04:41 AM","shortDate":"Dec 22, 2013"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","textHtml":"I am using IRedisTypedClient. When I use it to add a string to Redis which contains double quotes the quotes are stripped off when I read the value.<br><br>For example I set:<br><br>\"Abc\",\"xyz\"<br><br>It is then stored correctly in Redis, ie with the quotes, however when I use Get, it returns:<br><br>Abc,xyz<br><br>Is there an option/setting I can set to preserve the quotes on the Get?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 20, 2013, 8:28:35 PM","shortDate":"Dec 20, 2013","textHtml":"If you're just storing a string you'd want to use the string IRedisClient APIs and not the IRedisTypedClient APIs. If it's still an issue can you post the sample code you're using.﻿"}],"date":"Dec 20, 2013, 2:24:20 PM","shortDate":"Dec 20, 2013"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I suspect there's a memory leak with ServiceStack.EmptyCtorDelegate... I attach you the screens since I can't save the JustTrace trace..I've just called a service and those items&nbsp; persist even after app finalize ... HTH﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 19, 2013, 8:45:10 AM","shortDate":"Dec 19, 2013","textHtml":"The EmptyCtorDelegate are used in static delegate caches, like most caches they're primed once on first use and retained so they're used for subsequent use, so they're not recycled.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Dec 19, 2013, 8:50:37 AM","shortDate":"Dec 19, 2013","textHtml":"Ok so it's not a leak! Thanks﻿"}],"date":"Dec 19, 2013, 4:13:19 AM","shortDate":"Dec 19, 2013"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I try to upgrade a self-hosted service in v4. but almost everything in AppHost have changed. I corrected a lot but not all. Where&nbsp; are the Request filters?&nbsp; How I will access the IHttpRequest.HttpMethod?&nbsp; the AppHost is based to AppHostHttpListenerBase&nbsp; or to ServiceStackHost ? &nbsp; IF it is in ServiceStackHost, then&nbsp; where is the Stop method?&nbsp; is there an updated&nbsp; self-hosted service example with a relatively complex configure&nbsp; ?<br>thanks﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 15, 2013, 7:20:59 PM","shortDate":"Dec 15, 2013","textHtml":"IRequest is what you have. &nbsp;If you cast that to IHttpRequest, you will find the HttpMethod. &nbsp; &nbsp;I believe it is AppHostHttpListenerBase if you want to listen to standard Http requests. &nbsp;The ServiceStackHost I think is a more generic implementation. &nbsp;Hope that helps!﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2013, 8:22:14 PM\n(edited Dec 15, 2013, 9:01:34 PM)","shortDate":"Dec 15, 2013","textHtml":"Yes,&nbsp; about IHttpMethod, IRequest resolves to ListenerRequest which implement the interface IHttpRequest. As for the AppHost,&nbsp;&nbsp; Demis wrote in Release notes that \"all AppHost's share the same ServiceStackHost base class\".&nbsp; Really, as you say, that AppHost inherits AppHostHttpListenerBase=&gt;HttpListenerBase =&gt;ServiceStackHost .<br>But where are the RequestFilters, I cannot find them. I suppose&nbsp; now&nbsp; is the GlobalRequestFilters ?&nbsp; but I am not sure. For this reason, I was confused with AppHost.<br>thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 15, 2013, 10:06:10 PM\n(edited Dec 15, 2013, 10:10:02 PM)","shortDate":"Dec 15, 2013","textHtml":"Note: you can also get the HttpMethod from IRequest.Verb. Yes RequestFilters were renamed to GlobalRequestFilters to better match what they are and to have consistent naming with the Client GlobalRequestFilter (I've just added this change to release notes, thx). To Stop you can just use AppHostHttpListenerBase.Stop() which is on the&nbsp;HttpListenerBase base class.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2013, 10:14:20 PM","shortDate":"Dec 15, 2013","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;thanks.&nbsp; I suppose this code for CORS it is still needed, in GlobalRequestFilters&nbsp;<br>&nbsp;if&nbsp; ( httpReq.Verb == HttpMethods.Options)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; httpRes.EndRequest();<br>Only in Routes the Options added automatically.<br>BTW, about the Stop,&nbsp; I asked yesterday in SO about \"gracefully shutdown\",&nbsp; Scott answered and we found an interesting solution. Can you review it, or find better ?<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/20579952/is-it-possible-to-gracefully-shutdown-a-self-hosted-servicestack-service\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/20579952/is-it-possible-to-gracefully-shutdown-a-self-hosted-servicestack-service</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 15, 2013, 10:39:30 PM","shortDate":"Dec 15, 2013","textHtml":"Yeah it looks quite good for waiting until all pending requests have finished before stopping the HttpListener.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 15, 2013, 10:41:15 PM\n(edited Dec 15, 2013, 11:02:18 PM)","shortDate":"Dec 15, 2013","textHtml":"Note: the CorsFeature already includes code to handle all OPTIONS request by default (which replaces your own if you have any):&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CorsFeature.cs#L73\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CorsFeature.cs#L73</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 3:09:30 PM\n(edited Dec 18, 2013, 3:43:32 PM)","shortDate":"Dec 18, 2013","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;The ContentTypeFilters are needed or not ?<br>They are missed in v4. I used them to register protobuf.&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Protobuf-format#registering-protobuf-manually\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Protobuf-format#registering-protobuf-manually</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 4:12:49 PM","shortDate":"Dec 18, 2013","textHtml":"&nbsp; Maybe??&nbsp; I should write only this<br>&nbsp; container.Register&lt;IProtoBufPlugin&gt;(new ProtoBufFormat());&nbsp;<br><br>Instead of this in v3.<br><br>&nbsp;Plugins.Add(new ProtoBufFormat() );&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ContentTypeFilters.Register(ContentType.ProtoBuf,&nbsp;&nbsp;&nbsp;&nbsp; (reqCtx, res, stream) =&gt; ProtoBuf.Serializer.NonGeneric.Serialize(stream, res),&nbsp;&nbsp;&nbsp;&nbsp; ProtoBuf.Serializer.NonGeneric.Deserialize);﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 7:18:15 PM","shortDate":"Dec 18, 2013","textHtml":"ContentTypeFilters has been renamed to ContentTypes now, I'll add it to the release notes.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 8:36:05 PM","shortDate":"Dec 18, 2013","textHtml":"and the ContentType.Protobuf is now&nbsp; the class MimeTypes.Protobuf, probably.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 8:38:08 PM","shortDate":"Dec 18, 2013","textHtml":"Question: What is the correct&nbsp; or preferable&nbsp; now, or both are equivalent.&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; container.Register&lt;IProtoBufPlugin&gt;(new ProtoBufFormat());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OR<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Plugins.Add(new ProtoBufFormat();&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 8:42:32 PM\n(edited Dec 18, 2013, 8:42:51 PM)","shortDate":"Dec 18, 2013","textHtml":"They're not equivalent, always use the Plugin API when its available.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 9:55:54 PM\n(edited Dec 19, 2013, 2:05:18 PM)","shortDate":"Dec 18, 2013","textHtml":"Is there any change in authentication ? I add&nbsp; AuthFeature with custom session and BasicAuthProvider. It is registered but never call&nbsp; the&nbsp; TryAuthenticate﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 10:03:46 PM","shortDate":"Dec 18, 2013","textHtml":"Not that I know of.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 10:48:02 PM\n(edited Dec 19, 2013, 2:07:30 PM)","shortDate":"Dec 18, 2013","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; sorry, my question maybe is naive.&nbsp; But&nbsp; as I can see , creating only a CustomAuthenticateAttribure<br>&nbsp;( without providers )<br>&nbsp;I can handle in the&nbsp; Execute the authorization. Can you confirm me, please&nbsp; if my thought is not viable ? thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 11:38:34 PM\n(edited Dec 18, 2013, 11:39:33 PM)","shortDate":"Dec 18, 2013","textHtml":"I'm not sure what's being asked, if you're asking can I implement my own authentication with filters without needing to use the built-in authentication then yes, that's possible. You still need to register the SessionFeature to use ServiceStack's cookies/session which you can get with IRequest.GetSessionId() extension method, otherwise you can avoid the SessionFeature and use your own cookies.&nbsp;﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 19, 2013, 12:26:17 AM\n(edited Dec 19, 2013, 2:21:18 AM)","shortDate":"Dec 19, 2013","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>thx.&nbsp; yes &nbsp; the&nbsp; AuthFeature should be&nbsp; enabled. It enables the session too .<br>&nbsp;It seems&nbsp; then that&nbsp; it works&nbsp; using&nbsp; the CustomAuthenticateAttribute without providers, writing code in Execute.<br>&nbsp;I use the HttpRequestAuthentication to get&nbsp; user and password and the SessionFeature .AddSessionIdToRequestFilter. I&nbsp; save also in &nbsp; in memory&nbsp; credentials and&nbsp; session-id pid&nbsp; for subsequent calls.&nbsp;&nbsp; Next call,&nbsp; I check at first if&nbsp; the request.GetSessionId&nbsp; is stored in memory<br>It seems correct to me.&nbsp; Is this a viable way ?&nbsp;<br>I can end the request from there easily , but I have not find way to send an exception or message. if I throw an exception it does not pass from the ServiceRunner as the others&nbsp; from service body.<br>Another&nbsp; problem I cannot understand.&nbsp; is why&nbsp; in&nbsp; the&nbsp; first&nbsp; user call,&nbsp; the&nbsp; CustomAuthenticate Execute fired&nbsp; twice (first time the keypair of user/pwd&nbsp; is null).<br>thx again﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 19, 2013, 8:53:30 AM","shortDate":"Dec 19, 2013","textHtml":"Still unsure what's being asked. Is it viable to store and use sessionIds in memory? yes, tho when your AppDomain recycles the memory resets itself so you'll lose the session. Is the next problem how to write a response in a filter? You can just write it to the response stream, here's an example:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Validation/ValidationFilters.cs#L32\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Validation/ValidationFilters.cs#L32</a>﻿"}],"date":"Dec 15, 2013, 5:58:36 PM\n(edited Dec 15, 2013, 6:25:50 PM)","shortDate":"Dec 15, 2013"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello to everybody... I was wondering how to use the&nbsp; dbConn.SqlProcedure item... in v3 I was using<br><br>&nbsp;&nbsp; string sp = \"SOME_SP\"<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var dataTable = dbConn.StoredProcedureList&lt;myPOCO&gt;(sp,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; new<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /<b>params</b>/<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br><br>Now with&nbsp; dbConn.SqlProcedure I only have an anon ...no SP name to call... I don't use T4 class file...what have I to do? Thanks﻿","comments":[{"userId":"118159905303479277275","userName":"Joe Kampschmidt","date":"Dec 13, 2013, 9:51:19 AM","shortDate":"Dec 13, 2013","textHtml":"have you tried creating a class that has an alias attribute like&nbsp;[Alias(\"usp_sproc\")] and provide that as your object to SqlProcedure?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Dec 13, 2013, 10:00:52 AM","shortDate":"Dec 13, 2013","textHtml":"Hello Joe,<br>my class has the alias defined for the coumns ...<br><br>&nbsp;&nbsp; internal class myPOCO<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Alias(\"ID_A\")]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int id_a { get; set; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [Alias(\"ID_B\")]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int id_b { get; set; }<br>&nbsp;&nbsp;&nbsp; }<br><br>where should I put it? on the class?<br>Thanks﻿"},{"userId":"118159905303479277275","userName":"Joe Kampschmidt","date":"Dec 13, 2013, 10:04:31 AM","shortDate":"Dec 13, 2013","textHtml":"Sounds like in your case you should have a class to represent the procedure and its parameters. Then another to represent the DTO or results returned. Try putting the alias attribute on the procedure class.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Dec 16, 2013, 3:15:02 AM","shortDate":"Dec 16, 2013","textHtml":"I don't like this approach a lot (to be sincere), I currently retrieve the sp name from a xml file(this for switching the sp name without recompile the whole app) and I can't do this anymore putting it on the top... can I ask for a request to add an overload?﻿"}],"date":"Dec 13, 2013, 9:37:47 AM","shortDate":"Dec 13, 2013"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"One question, please,&nbsp; as I don't&nbsp; work yet with ver.4.<br>&nbsp; I would like to be sure about&nbsp; the use of IReturn,<br>It&nbsp; is optional as it was still now, correct ?<br>because the&nbsp; requirements in my work,&nbsp; is&nbsp; for dependency&nbsp; free model.<br>&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 12, 2013, 11:06:49 PM\n(edited Dec 12, 2013, 11:36:17 PM)","shortDate":"Dec 12, 2013","textHtml":"Yep IReturn&lt;T&gt; is optional, but recommended since it adds additional metadata on your DTO's that is useful for your clients.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 12, 2013, 11:15:39 PM\n(edited Dec 12, 2013, 11:20:24 PM)","shortDate":"Dec 12, 2013","textHtml":"thank you,<br>I understand the&nbsp; reason , but for us it is necessary to give to customers,&nbsp; only one dll, for the model, for&nbsp; further integration with their systems.&nbsp;&nbsp; There is another one dll, with client.requests ( simplified wrapper of actual calls with validation and error handling) . With the second dll,&nbsp; of course ,we distribute and the&nbsp; servicestack client library . But they use our client.requests&nbsp; only in their&nbsp; front end.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 12, 2013, 11:43:38 PM\n(edited Dec 13, 2013, 12:48:49 AM)","shortDate":"Dec 12, 2013","textHtml":"Another approach is to keep the Request DTO's in a separate dll away from your models. The Operation&nbsp;Request DTO's really shouldn't be used for anything else but defining your service contract with.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 13, 2013, 12:19:31 AM\n(edited Dec 13, 2013, 12:33:27 AM)","shortDate":"Dec 13, 2013","textHtml":"It is very difficult practically.&nbsp; The Request DTO's (and the URIs) are negotiated&nbsp; between the Customer, our front-end analyst and me. It is&nbsp; part of the specs in a detailed form. These specs are often changed,&nbsp; and we have very fast reactions. This is the beauty of service API development &nbsp; If I use internal requests, it&nbsp; will be much more difficult and error-prone.﻿"}],"date":"Dec 12, 2013, 10:58:15 PM\n(edited Dec 12, 2013, 11:04:05 PM)","shortDate":"Dec 12, 2013"},{"userId":"111767280318417443947","userName":"aylmer carson","textHtml":"Recently upgraded a large project to ss 4. largely a success, but i'n having problems in a couple of areas.<br><br>for example, in a CustomCredentialsAuthProvider, I have:<br><br>&nbsp;public override bool TryAuthenticate(IServiceBase authService, string userName, string password){<br>...<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (authRepo.TryAuthenticate(userName, password, out userAuth))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session.PopulateWith(userAuth);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session.IsAuthenticated = true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session.UserAuthId = userAuth.Id.ToString(CultureInfo.InvariantCulture);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session.ProviderOAuthAccess = authRepo.GetUserOAuthProviders(session.UserAuthId)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ConvertAll(x =&gt; (IAuthTokens)x);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cache.Remove(cacheKey);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>...<br>}<br><br>the line:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; session.ProviderOAuthAccess = authRepo.GetUserOAuthProviders(session.UserAuthId)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .ConvertAll(x =&gt; (IAuthTokens)x);<br><br>fails with error: no definition for GetUserOAuthProviders<br><br>can anyone help with this?<br><br>thanks﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 10, 2013, 10:30:46 AM","shortDate":"Dec 10, 2013","textHtml":"Looks like it is now \"LoadUserOAuthProvider\" ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 12:34:16 PM","shortDate":"Dec 10, 2013","textHtml":"Yeah a lot of 'OAuth' was renamed to 'Auth' when it made sense to do so.﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 10, 2013, 2:30:09 PM","shortDate":"Dec 10, 2013","textHtml":"nope, can't see that﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 10, 2013, 2:30:36 PM","shortDate":"Dec 10, 2013","textHtml":"authRepo is defined as:<br><br>var authRepo = authService.TryResolve&lt;IUserAuthRepository&gt;();﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 3:24:42 PM","shortDate":"Dec 10, 2013","textHtml":"ok here's the new definition of IAuthRepository:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs</a>&nbsp;<br><br>So you're probably after IAuthRepository.GetUserAuthDetails as UserOAuthProvider models was renamed to&nbsp;UserAuthDetails&nbsp;﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 10, 2013, 3:29:59 PM","shortDate":"Dec 10, 2013","textHtml":"yes I saw that but how does it help me get the provider? or am I missing it again?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 3:38:48 PM\n(edited Dec 10, 2013, 3:39:04 PM)","shortDate":"Dec 10, 2013","textHtml":"It's the provider model, i.e. info about the auth provider that's filled in with what info is available, here's the complete model:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs#L117\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs#L117</a>﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 10, 2013, 5:34:30 PM","shortDate":"Dec 10, 2013","textHtml":"yes saw that too...but what is wrong with that line? how do I populate the authtokens?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 10, 2013, 8:15:33 PM","shortDate":"Dec 10, 2013","textHtml":"IAuthUserDetails implement IAuthTokens so it should just be a matter of updating the name, e.g:<br><br>session.ProviderOAuthAccess = authRepo.GetUserAuthDetails(session.UserAuthId).ConvertAll(x =&gt; (IAuthTokens)x);﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 11, 2013, 2:32:43 AM","shortDate":"Dec 11, 2013","textHtml":"thanks. but that is the problem. GetUserAuthDetails doesn't exist!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 2:40:07 AM","shortDate":"Dec 11, 2013","textHtml":"Are you sure you're not referencing an old dll? it's here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs#L9\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/IAuthRepository.cs#L9</a>﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 11, 2013, 2:54:25 AM","shortDate":"Dec 11, 2013","textHtml":"is GetUserAuthDetails&nbsp; replacing GetUserOAuthProviders?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 2:59:43 AM\n(edited Dec 11, 2013, 2:59:57 AM)","shortDate":"Dec 11, 2013","textHtml":"Yeah I provided the source code in the last comment:&nbsp;<br>session.ProviderOAuthAccess = authRepo.GetUserAuthDetails(session.UserAuthId).ConvertAll(x =&gt; (IAuthTokens)x);﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 11, 2013, 3:00:23 AM","shortDate":"Dec 11, 2013","textHtml":"yes I saw that. sorry for all the hassle. :)﻿"},{"userId":"111767280318417443947","userName":"aylmer carson","date":"Dec 11, 2013, 3:00:42 AM","shortDate":"Dec 11, 2013","textHtml":"and thanks for all the help!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 11, 2013, 3:01:06 AM","shortDate":"Dec 11, 2013","textHtml":"ok cool, glad its working now.﻿"}],"date":"Dec 10, 2013, 7:55:13 AM","shortDate":"Dec 10, 2013"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","textHtml":"I have recently upgraded to ServiceStack 4 (purchased a licence) and have a question.<br><br>I am using the Redis Typed Client (IRedisTypedClient) and noticed that it is no longer implementing iDisposable so I cannot use a \"using\" pattern to use and dispose the client.<br><br>How do you suggest I properly dispose of the client once I have called&nbsp;GetClient and used it? I have searched the documentation but cannot find an answer.<br><br>Thanks in advance.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 3:43:10 PM","shortDate":"Dec 9, 2013","textHtml":"It was removed because it was misleading, the typed client is just a wrapper around the parent IRedisClient connection, i.e. it doesn't have a connection that needs to be disposed, so doesn't need disposing.﻿"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","date":"Dec 9, 2013, 3:58:45 PM","shortDate":"Dec 9, 2013","textHtml":"Do I still need to dispose of the parent IRedisClient after using the IRedisTypedClient? And if so can you show me some example code? Thanks.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 4:06:01 PM","shortDate":"Dec 9, 2013","textHtml":"just need to dispose of the parent client when you've finished using it, e.g:<br><br>using (var redis = redisManager.GetClient())<br>{<br>&nbsp; var redisUsers = redis.As&lt;User&gt;();<br>&nbsp; var user = redisUsers.GetById(1);<br>}<br><br>i.e. the typed client (redisUsers) doesn't need disposing and the using statement just disposes the default redis client as normal.﻿"},{"userId":"117240757909835332659","userName":"Andrew Sinclair","date":"Dec 9, 2013, 6:11:06 PM","shortDate":"Dec 9, 2013","textHtml":"Thanks for your help Demis, all working well now.﻿"}],"date":"Dec 9, 2013, 3:35:50 PM\n(edited Dec 9, 2013, 3:36:07 PM)","shortDate":"Dec 9, 2013"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi there, I'm trying out v4 and one of the changes from 4.0.17 is that we no longer can get a custom type session as this is no longer possible from a Razor View (that inherits from ViewPage):<br><br>GetSession&lt;CustomAuthSessionType&gt;()<br><br>Is there a new way of accessing it from a Razor View?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 3, 2013, 3:08:00 PM","shortDate":"Dec 3, 2013","textHtml":"Hi Carlos, this was renamed to `base.SessionAs&lt;CustomAuthSession&gt;()` so it matches the same API on Service base class.﻿"}],"date":"Dec 3, 2013, 1:32:22 PM","shortDate":"Dec 3, 2013"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"Hey, how can I reproduce this command in the Redis client:<br><br>ZINTERSTORE dest 2 some_zset some_other_set WEIGHTS 1 0 AGGREGATE MAX<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2015, 9:24:11 AM","shortDate":"Yesterday 9:24 AM","textHtml":"We only have the basic API for&nbsp;StoreIntersectFromSortedSets:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis/blob/master/tests/ServiceStack.Redis.Tests/RedisClientSortedSetTests.cs#L175\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis/blob/master/tests/ServiceStack.Redis.Tests/RedisClientSortedSetTests.cs#L175</a><br>or its underling RedisNativeClient.ZInterStore() API but that doesn't accept command modifiers.&nbsp;<br><br>You can try using the generic Custom Redis API's for this:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis#new-generic-apis-for-calling-custom-redis-commands\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis#new-generic-apis-for-calling-custom-redis-commands</a>﻿"}],"date":"Feb 24, 2015, 6:04:44 AM","shortDate":"Yesterday 6:04 AM"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","textHtml":"Demis, Our stripe integration is broken in production!!&nbsp;Anything changed recently? Ver 4.0.36 - Please help!<br><br>TEST<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var customer = gateway.Post(new CreateStripeCustomer<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AccountBalance = 10000,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Card = new StripeCard<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Name = \"Test Card\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Number = \"4242424242424242\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cvc = \"123\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ExpMonth = 1,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ExpYear = 2016,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddressLine1 = \"1 Address Road\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddressLine2 = \"12345\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddressZip = \"City\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddressState = \"NY\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddressCountry = \"US\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Description = \"Description\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Email = \"test@email.com\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>This test, now return error - details below:<br>'Unknown' is not a supported source object.<br><br>&nbsp; &nbsp;at ServiceStack.Stripe.StripeGateway.Send(String relativeUrl, String method, String body)<br>&nbsp; &nbsp;at ServiceStack.Stripe.StripeGateway.Send[T](IReturn`1 request, String method, Boolean sendRequestBody)<br>&nbsp; &nbsp;at ServiceStack.Stripe.StripeGateway.Post[T](IReturn`1 request)<br>&nbsp; &nbsp;at Nepris.Subscription.Stripe.Tests.TestsBase.CreateCustomer() in c:\\Project-Nepris-v2\\nepris-solution\\Nepris.Subscription.Stripe.Tests\\TestsBase.cs:line 23<br>&nbsp; &nbsp;at Nepris.Subscription.Stripe.Tests.StripeGatewayChargeTests.Can_Charge_Customer() in c:\\Project-Nepris-v2\\nepris-solution\\Nepris.Subscription.Stripe.Tests\\StripeGatewayChargeTests.cs:line 22﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 3:21:50 PM","shortDate":"Feb 23, 2015","textHtml":"Yeah it looks like Stripe turned on extra validation which broke some existing requests. It should work with the latest v4.0.38 of ServiceStack.Stripe that was just released.﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 23, 2015, 3:23:10 PM","shortDate":"Feb 23, 2015","textHtml":"Can I just update ServiceStack.Stripe to v4.0.38 ? Any other dependencies?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 3:25:28 PM","shortDate":"Feb 23, 2015","textHtml":"You don't want to mix package versions but since its only a single file you can just drop in the source code and use that instead:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs</a>﻿"},{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 23, 2015, 3:26:32 PM","shortDate":"Feb 23, 2015","textHtml":"good idea :) Thanks﻿"}],"date":"Feb 23, 2015, 3:16:10 PM","shortDate":"Feb 23, 2015"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"Hi Demis,<br><br>our license has expired but I cannot renew because the purchase site does not work, I'm getting the following error:<br><br>\"Timeout while getting a connection from pool\"﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 5:23:13 AM\n(edited Feb 23, 2015, 5:23:46 AM)","shortDate":"Feb 23, 2015","textHtml":"yep already on it, for some reason <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.net</a> can't connect to its AWS RDS instance even though it's up. Will let you know when it's sorted, thx.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 23, 2015, 5:32:52 AM","shortDate":"Feb 23, 2015","textHtml":"ok it appears it was load related, not enough available db connections, guessing the micro db instance needs an upgrade! Should be back up now.﻿"}],"date":"Feb 23, 2015, 5:00:27 AM","shortDate":"Feb 23, 2015"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Anyone have an example SS project they feel would be a good candidate for a generated model-first CRUD project? &nbsp;I've been trying to use Telerik's ORM and it's brutal. &nbsp;Every request to their Support team yields the same response; \"You'll have to extend the generated project.\" &nbsp;So, since it makes no sense to write that much code AND be dependent on a third-party product, it looks like I'm gonna build a template or three. &nbsp;I'd love as much input as possible before I begin. &nbsp;Hopefully it'll be useful to others as well.﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 21, 2015, 3:21:51 PM","shortDate":"Feb 21, 2015","textHtml":"When you say generated model first? What would the generator generate from? I might be able to help given more info.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 22, 2015, 9:03:43 AM","shortDate":"Feb 22, 2015","textHtml":"Initially I intended on using a design tool to create the model. &nbsp;Now I'm thinking of pulling directly from the database. &nbsp;At the moment I'm trying to find more simple / extensible SS projects. &nbsp;The patterns I've been using work well, but they're a bit more verbose.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 24, 2015, 11:10:58 PM","shortDate":"Yesterday 11:10 PM","textHtml":"Ah schema first is what your looking for. Unfortunately I'm not aware of such a generator for ServiceStack. It wouldn't be too terribly hard to query sys.schemas, sys.tables, sys.columns, etc (SQL Server). But obviously that doesn't help you much.&nbsp;<br><br>The way I would tackle this is to perhaps make a common Service class to handle simple CRUD calls (i.e. GET/PUT(Update)/POST(Add)/DELETE) that takes the models automatically and persists them to the db through a single generic Db service or repo. Then I would write a C# generator (a console app would do here) to create your Models and Services. The services you generate would inherit from the common service class to minimize code duplication.<br><br>For templating C# quickly there is T4 Text Templates which is popular but I haven't used it myself. There is another one that I've used called DotLiquid that works well for this.<br><br>If you want to go the NHibernate route for ORM I have a few wrapper &amp; infrastructure classes that integrate with Servicestack I can probably share if you'd like.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2015, 4:09:10 PM","shortDate":"4:09 PM","textHtml":"Sorry for the confusion. &nbsp;Building templates for SS is a snap... been doing it for years. &nbsp;I was trying to find an example SS web service project to compare with mine before beginning.<br><br>As far as existing schema-first examples, the only one I know of is Telerik's ORM product. &nbsp;It will generate a CRUD web service, however it's quite limiting.﻿"}],"date":"Feb 20, 2015, 10:18:46 AM","shortDate":"Feb 20, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I've got some problem with AuthenticationProvider and a jquery Ajax call...<br><br>I've got a javascrip that at login button click does<br><br>&lt;script&gt;<br>&nbsp; &nbsp; $(document).ready(function () {<br>&nbsp; &nbsp; &nbsp; &nbsp; var formObj = $(\".login-form\");<br>&nbsp; &nbsp; &nbsp; &nbsp; formObj.submit(function (event) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; event.preventDefault();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; validator = formObj.validate();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (validator.checkForm()) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var formData = {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; userName: $(\"form input[name=username]\").val(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; password: $(\"form input[name=password]\").val(),<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; remember: $(\"input:checkbox[name=remember]:checked\").val() ? true : false<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; func = $.ajax({<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; url: \"@Url.Content(\"~/api/auth\")\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data: formData,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; type: \"POST\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }).done(function (data, textStatus, jqXHR) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; alert(jqXHR.status);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (jqXHR.status == 200 &amp;&amp; \"success\" == textStatus) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@if(Request.Params.Get(\"redirect\")!= null) &nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;text&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window.location = \"@Request.Params.Get(\"redirect\")\";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/text&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;text&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; window.location = '@Url.Content(System.Configuration.ConfigurationManager.AppSettings.Get(\"tmrclient.login.landing\"))'<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/text&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; console.log('error');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; });<br>&nbsp; &nbsp; });<br>&lt;/script&gt;<br><br>and in my AuthProvider I do<br><br>&nbsp;public override object Authenticate(IServiceBase authService, IAuthSession session, Authenticate request)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; [omiss]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw HttpError.Unauthorized(ErrorMessages.InvalidUsernameOrPassword);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>The problem I've is that Servicestack's authentication responds me with the whole HTML content of the redirect action (I see a 302 in net tracing) but I expected a json response since the call was made in ajax...any suggestion on this?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2015, 8:31:52 AM\n(edited Feb 19, 2015, 8:32:21 AM)","shortDate":"Feb 19, 2015","textHtml":"The correct url to POST to is &nbsp;`/api/auth/credentials`﻿"}],"date":"Feb 19, 2015, 5:40:23 AM","shortDate":"Feb 19, 2015"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"Hey, we're using the Redis driver and we recently noticed very strange behavior where connections would spike from 500 to around 1,500 for no apparent reason (Same requests amount, same load, will run for days without any problems) - we're hosted on AWS if that makes any difference. Also, if we cap the max connections on the driver, what is a recommended amount?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 16, 2015, 9:16:29 AM\n(edited Feb 16, 2015, 9:18:50 AM)","shortDate":"Feb 16, 2015","textHtml":"I'd make sure all RedisClients are being properly disposed. If you want cap number of connections you should use PooledRedisClientsManager as it will block when it runs out of connections instead of RedisManagerPool which will create overflow connections outside of the pool. Details about pooling behavior of each manager is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis#redis-client-managers\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis#redis-client-managers</a><br><br>We don't have a recommended pool size limit,&nbsp;PooledRedisClientsManager defaults with a conservative about of 10 x each host provided, whilst&nbsp;RedisManagerPool defaults to 40, but they can be tweaked depending on your environment.﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Feb 16, 2015, 9:25:56 AM","shortDate":"Feb 16, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Hey thanks for the reply.<br><br>We're using&nbsp;RedisManagerPool running on around 25 servers, and we've wrapped all of our functions with using()<br><br>Here is a snippet showing our average usage:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://gist.github.com/rejwan/48ae36bc57b5a2deae32\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://gist.github.com/rejwan/48ae36bc57b5a2deae32</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 16, 2015, 9:42:06 AM\n(edited Feb 16, 2015, 9:51:33 AM)","shortDate":"Feb 16, 2015","textHtml":"you shouldn't share the redis client instance across threads (i.e. passed into Task.Run), instead retrieve/release it from the pool within the same thread. But other than that I wouldn't be able to tell what the issue is from here without a repro.&nbsp;﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Feb 16, 2015, 10:33:10 AM","shortDate":"Feb 16, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;- OK we'll remove all Task.Run, regarding using&nbsp;PooledRedisClientsManager, is there a best practice on using it (ie specifying a limit, etc?) or should we just use the default ctor with the URL to our Redis server?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 16, 2015, 10:58:29 AM","shortDate":"Feb 16, 2015","textHtml":"I'd try going with the defaults first, then avoid hang onto clients for too long to return them into the pool quicker ready for others to use.﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Feb 16, 2015, 10:59:38 AM","shortDate":"Feb 16, 2015","textHtml":"We use Redis access as a caching layer to get/set - we store the pool itself statically in a static class. Does that sound good enough?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 16, 2015, 11:03:15 AM","shortDate":"Feb 16, 2015","textHtml":"Yep, the pools/client managers are supposed to be used as singletons.&nbsp;﻿"}],"date":"Feb 16, 2015, 9:05:52 AM","shortDate":"Feb 16, 2015"},{"userId":"104121399259269516795","userName":"Tobias Zürcher","textHtml":"Hi demis,<br>we are building an api with ss. the client are mobile apps and a webbrowser app based on angularjs. we don't want to use cookies. after reading the documentation <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions#use-http-headers-to-send-session-cookies\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions#use-http-headers-to-send-session-cookies</a> I expect to be able to login and then send in the future calls the ss-id in the http-header (X-ss-id). somehow i couldn't manage to get it work.&nbsp;<br>i'm not sure if this is a bug or if i misunderstood your documentation.<br><br>anyway, i've writte a test to simulate what i want to do:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/tobiaszuercher/ServiceStack/commit/d3ba20c0e38735cd00a147f2388b99cad8ca8776\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/tobiaszuercher/ServiceStack/commit/d3ba20c0e38735cd00a147f2388b99cad8ca8776</a><br><br>I think the expectation i've from the documentation can't work because it will add a TemporarySession if there is no ss-id found in the cookie in <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionFeature.cs#L35-40\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionFeature.cs#L35-40</a>.<br><br>Thanks for any help in advance!<br>tobi﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2015, 5:04:36 AM","shortDate":"Feb 12, 2015","textHtml":"Yeah this was an issue that's been resolved in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/8a479eed76ec54effe5c186345465c501a6366e7\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/8a479eed76ec54effe5c186345465c501a6366e7</a><br><br>It's resolved in the v4.0.37 pre-release version that's now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"104121399259269516795","userName":"Tobias Zürcher","date":"Feb 16, 2015, 5:01:46 AM","shortDate":"Feb 16, 2015","textHtml":"thank you demis. we are using the preview version now and everything is ok! hope this is pushed to the official nuget repo soon! thx for your fast response, apprechiated!﻿"}],"date":"Feb 12, 2015, 4:49:13 AM","shortDate":"Feb 12, 2015"},{"userId":"106953515973464470098","userName":"Chris Gilligan","textHtml":"I am having some issues configuring Servicestack redis message queues so that messages don't get lost if a request processor dies mid process when processing a request.<br><br>I am looking at distributing work via a redis queue for many processors in a cloud environment where 1 or more processors could be terminated without any notice meaning anything it was processing at the time needs to be picked up by another processor. Doing some basic tests on my pc i have found that while the queue itself will stay and work correctly the messages that were being processed at the time are lost.<br><br>Is there anything like AWS's queue service where if a message is not successfully processed after x time it was taken from the queue it will be re-added to the queue to be attempted again?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 8, 2015, 7:28:40 PM","shortDate":"Feb 8, 2015","textHtml":"Redis doesn't have support for Acks/Naks so there's a potential that the current message being processed could be lost if the AppDomain process gets killed in the middle of processing a message. You can use Rabbit MQ for durable messaging with Ack/Nak support.&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ</a><br>For RedisMQ we maintained a DateStamped DB column of when the record/message was processed and had a hourly task to just re-send any messages that weren't flagged as completed, which took care of processing any lost messages (if any).﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 8, 2015, 9:28:45 PM","shortDate":"Feb 8, 2015","textHtml":"Demis any chance of being able to make that configurable based on message/class so you can set the time it waits instead of an hour?<br><br>If I change to Rabbit-MQ do you still get to set the number of threads for processors etc? &nbsp;Remember something said that was redis only but it could have been old.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 8, 2015, 9:32:17 PM","shortDate":"Feb 8, 2015","textHtml":"ignore the part about multi threads on Rabbit as i just read that you can do that﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 8, 2015, 9:58:59 PM\n(edited Feb 8, 2015, 11:01:49 PM)","shortDate":"Feb 8, 2015","textHtml":"This is not something that's in the framework - it's part of of your System/App DB. i.e. Whenever I have an back-office task I'm processing via MQ, I'd also have a column to maintain the date when the task was successfully performed. The MQ Task itself would update the appropriate column for that Request.&nbsp;<br><br>Then I'd have a HTTP Route (essentially a web cron job) that's called at any desired interval (e.g. 5-60mins) that would go through all things we have MQ tasks for and check for any that hasn't been processed within a given time interval, if they haven't just send a new message.<br><br>I'd generally do this for any offline tasks (i.e.&nbsp;even if using RabbitMQ) as it maintains state when the task was successfully processed, which can come in handy at other times, e.g. if for any reason I wanted to re-run the task for a particular item I'd just clear the completed field and hit the HTTP Route again, which gets picked up and re-sent as normal.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 9, 2015, 12:18:05 AM","shortDate":"Feb 9, 2015","textHtml":"thanks for the info. &nbsp;With the queues is there a way to say process the normal and priority queue with 10 threads where if there is items in the priority queue then it uses the 10 threads and the normal queue stops and then then once some of the threads are free again they go back to the normal queue.<br><br>The reason is my process is resource intensive so i will have a max the server can handle and was hoping to put more transactional though one queue and batch through the other.<br><br>We do a lot of this in memory before but i want to move to a proper queue that can save state instead.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 9, 2015, 12:36:37 AM\n(edited Feb 9, 2015, 1:43:20 AM)","shortDate":"Feb 9, 2015","textHtml":"The threads are tied to each MQ and aren't sharable. But the Priority Queue's can be disabled if you just want to have all threads working off the same InQ.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 9, 2015, 4:09:16 PM","shortDate":"Feb 9, 2015","textHtml":"in my case i need to limit my service to processing X concurrent requests but i need multiple queues where it will process the priority items first. Ideally i would need more than 2 priority levels so i assume this will be custom stuff i need to write but would you have any suggestions on the best way to go about it while taking advantage of as much of servicestack as possible?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 9, 2015, 11:25:58 PM","shortDate":"Feb 9, 2015","textHtml":"You could create multiple Request DTO's that all share the same interface and just send a different DTO, e.g: `PublishMessage(request.Convert&lt;PriorityTask2&gt;())` and have their server impls delegate to a single impl that handles that interface/base class. This will let you have a multiple PriorityQ/InQ's.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 10, 2015, 4:55:07 PM","shortDate":"Feb 10, 2015","textHtml":"i get how i can have multiple queues but my issue is about the order of processing and limiting concurrency over all queues. In my case realistically i would have at least 4 priority levels and about 20 threads per worker per server and hopefully 2 servers to start with.&nbsp;<br><br>Expected queue sizes for the priority levels are<br>Priority 1 - 0-10 items in MQ but mostly 0-2<br>Priority 2 - 0-100 items in MQ but mostly either 0 or 10-20<br>Priority 3 - 0-10,000 items in MQ but mostly either 0 or 1,000-10,000<br>Priority 4 - 0-1,000,000 items in MQ but mostly either 0 or 10,000-1,000,000<br><br>Priority 1 would be more our urgent realtime suff.<br>Priority 2 would be non urgent realtime<br>Priority 3 small batch stuff<br>Priority 4 large batch stuff.<br><br>It is not quite like that but gives a rough idea. Basically we want to tweak our works to put our servers under a ~85% CPU load which will be a max of X amount of concurrent request processing which is assumed to be 20 above. We then want to process items available int he highest priority before any others and cascade down to processing lower priorities as there is no work in the higher priorities.<br><br>I thought of using something similar the answer on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/2510975/c-sharp-object-pooling-pattern-implementation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/2510975/c-sharp-object-pooling-pattern-implementation</a> for controlling the concurrency but that would not handle the priority part. &nbsp;My issue is more with the mqHost.RegisterHandler&lt;Hello&gt;(this.ServiceController.ExecuteMessage, 3); i think i need to investigate the RegisterHandler and find a better way to get items from multiple queues using my own threads.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 10, 2015, 6:23:11 PM","shortDate":"Feb 10, 2015","textHtml":"Sounds like you might want to execute messages in your own threadpool.<br><br>You can extract the Request DTO in the handler like:<br><br>mqHost.RegisterHandler&lt;Hello&gt;(msg =&gt; {<br>&nbsp; var dto = msg.GetBody();<br>&nbsp; if (dto.Priority == 1) { ...&nbsp;}<br>&nbsp; return this.ServiceController.ExecuteMessage(msg);<br>});<br><br>The handler is synchronous so needs to return the result in the handler like:<br>&nbsp; return&nbsp;this.ServiceController.ExecuteMessage(msg);<br><br>But I'd first be try the default worker threadpool to see if this is even necessary, when threads are not processing messages they're just sitting waiting idle on a lock.﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 10, 2015, 8:35:24 PM","shortDate":"Feb 10, 2015","textHtml":"yea i know about idle threads hence why i would have prefered to just say x threads over a group of queues. &nbsp;Are there methods to get an item from the queue if there are any or return null right away if no items on the queue so i could run my own threads but i guess if i go that way i then need to manage putting results on queues as well and i loose even more of what servicestack offers. I guess i will just need to keep playing to find a good working solution. don't really want a large number of idle threads if i can help it﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 18, 2015, 4:06:50 PM","shortDate":"Feb 18, 2015","textHtml":"Finally worked this one out Dennis. &nbsp;There is a priority queue plugin for RabbitMQ that will be automatically integrated and no longer a plugin in version 3.5.0. &nbsp;I have enabled that plugin and done some manual tests and it works great. &nbsp;not i just need to work out what classes i need to extend in servicestack to use this functionality instead of the multiple queues and to enable the priorities and pass the command in when creating the queue﻿"},{"userId":"106953515973464470098","userName":"Chris Gilligan","date":"Feb 24, 2015, 4:01:37 PM","shortDate":"Yesterday 4:01 PM","textHtml":"This turned out to be harder than expected. &nbsp;I took a copy of the RabbitMQ implementation and manipulated it quite a but but hit 2 main issues i could not resolve. 1 i could not work out how to remove the built in way priority works for queues in servicestack and get all the messages on the one queue and 2 unless i stop the consume and restarted it then it would not care about priority but if stopped and started then priority worked. No idea why this is the case but for now i am just doing my own RabbitMQ wrapper from scratch based loosely on servicestack liked the way you did most things and wanted to still use a lot of the classes so it would be possible to switch back later once it is implemented in servicestack﻿"}],"date":"Feb 8, 2015, 7:20:31 PM","shortDate":"Feb 8, 2015"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello again,<br>I've got on an mvc application a class that automatically compose the WHERE clause based on filters that arrives from a Telerik Kendo Grid. I use an extension method to check SQL Injection but sometimes it generates an exception of type<br><br>ArgumentException<br><br>Potential illegal fragment detected&nbsp;<br><br>This one generates the exception&nbsp;<br><br>var field = \"INTESTAZIONE\";<br>var value = \"nicastro\"; //a colleague of mine<br>\"{0} LIKE '%{1}%'\".Fmt(field, (value ?? \"\").Replace(\"'\", \"''\").SqlVerifyFragment());<br><br>This one not<br><br>var field = \"INTESTAZIONE\";<br>var value = \"ponzano\";<br>\"{0} LIKE '%{1}%'\".Fmt(field, (value ?? \"\").Replace(\"'\", \"''\").SqlVerifyFragment());<br><br>I think it's a bug.. or maybe servicestack hates my colleague nicastro a lot!<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2015, 5:14:11 PM","shortDate":"Feb 4, 2015","textHtml":"This is tripping up OrmLite's built-in raw sql verification.<br><br>You can control what tokens are considered illegal by modifying the `OrmLiteUtils.IllegalSqlFragmentTokens` collection:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteUtils.cs#L184\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteUtils.cs#L184</a><br><br>Or in the latest v4.0.37+ on MyGet you can by-pass verification with the new Unsafe* API's, e.g:<br><br>q.UnsafeWhere(\"cast(IntCol as varchar) LIKE '%2065%'\");<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 5, 2015, 2:50:39 AM","shortDate":"Feb 5, 2015","textHtml":"Hello Demis,<br>I don't understand why nicastro string fails ... try it yourself<br><br>string res1 = \"ponzano\".SqlVerifyFragment(); //works<br>string res2 = \"nicastro\".SqlVerifyFragment(); //exception<br><br>if you try with&nbsp;<br><br>string res2 = \"niastro\".SqlVerifyFragment(); // without C it works<br><br>BTW I want an explicit validation on those strings so I &nbsp;won't bypass the verification<br><br>Thanks﻿"},{"userId":"107626086154455841933","userName":"Sergej Loch","date":"Feb 5, 2015, 6:20:26 AM","shortDate":"Feb 5, 2015","textHtml":"I'm not 100% sure but with \"c\" you will get \"cast\" and \"cast\" is a reserved keyword in most rdbms.&nbsp;﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Feb 5, 2015, 8:38:00 AM","shortDate":"Feb 5, 2015","textHtml":"I've checked your sources ...<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/4290229cd50ae6475a3edffc198bbdc87cc54539/src/ServiceStack.OrmLite/OrmLiteUtils.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/4290229cd50ae6475a3edffc198bbdc87cc54539/src/ServiceStack.OrmLite/OrmLiteUtils.cs</a><br><br>it falls on \"cast\" illegal sqlfragment&nbsp;<br><br>&nbsp; public static string[] IllegalSqlFragmentTokens = {&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"-<del>\", \";-</del>\", \";\", \"%\", \"/<b>\", \"</b>/\", \"@@\",\"@\",&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"char\", \"nchar\", \"varchar\", \"nvarchar\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"alter\", \"begin\", \"cast\", \"create\", \"cursor\", \"declare\", \"delete\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"drop\", \"end\", \"exec\", \"execute\", \"fetch\", \"insert\", \"kill\",<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"open\", \"select\", \"sys\", \"sysobjects\", \"syscolumns\", \"table\", \"update\" };<br><br>niCASTro .... so also with \"fidel CASTro\" will fail....<br><br>can this be fixed in some way?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 5, 2015, 1:04:23 PM\n(edited Feb 5, 2015, 1:45:39 PM)","shortDate":"Feb 5, 2015","textHtml":"yes it's a public writable property so you can just assign a new array that doesn't contain \"cast\".﻿"}],"date":"Feb 4, 2015, 4:57:42 PM","shortDate":"Feb 4, 2015"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","textHtml":"Hi,<br><br>I need to log validation errors, with complete request DTO.<br><br>I've setup ValidationFeature with&nbsp;ErrorResponseFilter in which I do the logging, which works just fine.<br>The problem is, that I can't find the way to get hold of the current IRequest in my ErrorResponseFilter.<br>I tried&nbsp;HttpContext.Current.ToRequest();, but this \"recreates\" the request, without resolving dto and of course with empty IRequest.Items (which I also need to get some info from previous filters).<br><br>Is there a way to get current IRequest instance?&nbsp;<br><br>Thanks, Blaž﻿","comments":[{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Feb 3, 2015, 12:11:50 PM","shortDate":"Feb 3, 2015","textHtml":"I didn't see an obvious way to do it, so maybe there's a better way, but here's what we do (assumes ServiceStack is hosted in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> application):<br><br>&nbsp; &nbsp; GlobalRequestFilters.Add((request, res, dto) =&gt; {<br>&nbsp; &nbsp; &nbsp; &nbsp; HttpContext.Current.Items[\"CurrentIRequest\"] = request;<br>&nbsp; &nbsp; &nbsp; &nbsp; HttpContext.Current.Items[\"CurrentDTO\"] = dto;<br>&nbsp; &nbsp; });<br><br>Then in your validation filter you can access HttpContext.Current.Items[\"...\"] to retrieve these objects.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2015, 5:29:46 PM","shortDate":"Feb 3, 2015","textHtml":"Yep using the RequestContext is the only realy way since the validators are resolved directly from the IOC which doesn't have access to the current Request.﻿"},{"userId":"107127969598720626865","userName":"Blaž Miheljak","date":"Feb 4, 2015, 3:50:35 AM","shortDate":"Feb 4, 2015","textHtml":"Thank you both!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2015, 3:30:50 PM","shortDate":"Feb 4, 2015","textHtml":"Actually it looks like we already inject the current request context for validators that implement IRequiresRequest: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Validation/ValidationFilters.cs#L15\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Validation/ValidationFilters.cs#L15</a><br><br>This would be the preferred approach.﻿"}],"date":"Feb 3, 2015, 12:05:17 PM","shortDate":"Feb 3, 2015"},{"userId":"113071203639930389569","userName":"Constantinos Eraleous","textHtml":"Hi,<br><br>I have a custom authentication provider which authenticates the user in external systems and returns a dto with some status code.<br>&nbsp;If the user password is expired I want to be able to communicate it to the user, but if I return false from the&nbsp;TryAuthenticate method then I get an exception in&nbsp;Authenticate method, ending up in my OnServiceException hander. I want to be able to return my dto with the status I will set as expired/invalid etc.<br><br>Any ideas?<br>thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2015, 5:42:29 AM","shortDate":"Feb 3, 2015","textHtml":"You can throw your own custom exception or HttpError instead of returning false, which will just throws a default `HttpError.Unauthorized(...);` instead.﻿"},{"userId":"113071203639930389569","userName":"Constantinos Eraleous","date":"Feb 3, 2015, 11:10:06 AM","shortDate":"Feb 3, 2015","textHtml":"I will try that, thanks﻿"}],"date":"Feb 3, 2015, 5:25:06 AM","shortDate":"Feb 3, 2015"},{"userId":"115683278813749836094","userName":"Daniel Halan","textHtml":"Hi, does the String.Extensions use a Client Connection Pool? Thinking from a Resource perspective in a Xamarin App, should one use one Client vs using StringExt to initiate REST calls?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2015, 3:53:08 AM\n(edited Feb 2, 2015, 4:04:07 AM)","shortDate":"Feb 2, 2015","textHtml":"Do you mean HttpUtils?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Http-Utils\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Http-Utils</a><br><br>It uses HttpWebRequest which already enabled connection pooling by default.<br><br>It's unlikely you need to change the defaults but the pooling behavior can be configured with: ServicePoint /&nbsp;ServicePointManager classes:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/system.net.servicepoint.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://msdn.microsoft.com/en-us/library/system.net.servicepoint.aspx</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.aspx</a>﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Feb 2, 2015, 4:17:59 AM\n(edited Feb 2, 2015, 4:31:40 AM)","shortDate":"Feb 2, 2015","textHtml":"was thinking about&nbsp;JsonServiceClient, what (if any) resource gains is it to only create one \"JsonServiceClient\" vs using \"http://....\".GetJsonFromUrl() &nbsp;for multiple calls... this in Context of a Mobile app, where resource efficiency is still a high priority.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2015, 4:42:42 AM\n(edited Feb 2, 2015, 4:43:51 AM)","shortDate":"Feb 2, 2015","textHtml":"They both create new instances of HttpWebRequest, but that doesn't really matter as all connections are managed/pooled by the underlying connection manager. So it's unlikely it'll have any difference - but if in doubt, measure.﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Feb 2, 2015, 6:17:59 AM","shortDate":"Feb 2, 2015","textHtml":"Ok, so assuming that&nbsp;JsonServiceClient is a very lightweight object, nothing worth reusing? :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 2, 2015, 1:58:01 PM","shortDate":"Feb 2, 2015","textHtml":"I still re-use the JsonServiceClient out of convenience, as you'll also need to do this for authenticated requests where the session cookies are populated on the client. But either way, each new request with the JsonServiceClient uses a new HttpWebRequest.﻿"}],"date":"Feb 2, 2015, 3:45:17 AM","shortDate":"Feb 2, 2015"},{"userId":"101343502369048661517","userName":"Charles Wyandt","textHtml":"A licensing question- We are aimed to deploy servers onto client systems under one of our projects, does the license agreement permit this? If so, will we need to replace the registration key on said systems when renewing our subscription?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 28, 2015, 2:24:31 PM\n(edited Jan 28, 2015, 2:24:48 PM)","shortDate":"Jan 28, 2015","textHtml":"Yes the per-developer licenses are royalty-free and allows unlimited deployments. No, you wont need to replace the license key as it only looks at the release date of the software packages, not the current date so you wont need to update existing apps running older versions of ServiceStack.﻿"},{"userId":"101343502369048661517","userName":"Charles Wyandt","date":"Jan 28, 2015, 2:27:32 PM","shortDate":"Jan 28, 2015","textHtml":"Thanks, I'll get to it then.<br><br>P.S. Amazing response time!﻿"}],"date":"Jan 28, 2015, 2:20:36 PM","shortDate":"Jan 28, 2015"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","textHtml":"Can I please have some help with:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/28137860/how-can-servicestack-redismqserver-registerhandler-call-a-service\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/28137860/how-can-servicestack-redismqserver-registerhandler-call-a-service</a><br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 1:55:12 PM\n(edited Jan 26, 2015, 1:55:31 PM)","shortDate":"Jan 26, 2015","textHtml":"Can you break this into more specific questions. &nbsp;It's unclear what the question is and how to best answer. There are no Cookies in an MQ Request so you wont have access to the Users Session. You would need to explicitly pass the UserId or Users sessionId and retrieve it from the ICacheClient.<br><br>MQ Services are generally \"internal\" Services, i.e. they don't travel through the normal Global RequestFilters:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Architecture-overview\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Architecture-overview</a>\nI'd treat them as internal/trusted services. You can restrict Services using the [Restrict] attribute:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services</a>﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 26, 2015, 2:19:02 PM\n(edited Jan 26, 2015, 2:19:39 PM)","shortDate":"Jan 26, 2015","textHtml":"Thanks for the quick reply.<br><br>My first question would be how do I ideally (servicestack best practice-wise) setup an async version of an existing http service that would run in its own threadpool? &nbsp;The goal is to offload long running requests...<br><br>I think you answered my second question, which was \"why is session context not being passed to the long running http service when called from the mq handler?\". &nbsp;I understand your reply as needing to send the sessionId as part of the request and look it up before executing session and authId dependent logic.<br><br>Third question is why doesn't the mq handler actually call the LongRunnigService in:<br>mqHost.RegisterHandler&lt;LongRunningRequest&gt;(m =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return this.ServiceController.ExecuteMessage(m);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br><br>but this calls the service successfully (but misses the session related stuff):<br>mqHost.RegisterHandler&lt;LongRunningRequest&gt;(m =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.ResolveService&lt;LongRunningService&gt;().Any(m.getBody());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br><br>Thanks again.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 2:40:39 PM\n(edited Jan 26, 2015, 2:50:58 PM)","shortDate":"Jan 26, 2015","textHtml":"Weird, the Service should run, is it throwing an exception or otherwise short-circuiting? Can you debug it and let me know what &nbsp;`this.ServiceController.ExecuteMessage(m);` is returning?﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 26, 2015, 4:16:54 PM\n(edited Jan 26, 2015, 4:17:48 PM)","shortDate":"Jan 26, 2015","textHtml":"I am getting a Value cannot be null. &nbsp;Parameter name: key...<br>It's a 400, Bad Request...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 4:25:07 PM","shortDate":"Jan 26, 2015","textHtml":"Do you have some custom validation that's causing this? Is there a StackTrace? You can turn on DebugMode:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#debugmode\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#debugmode</a>﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 26, 2015, 5:45:54 PM","shortDate":"Jan 26, 2015","textHtml":"Is there a place where I can get symbols for servicestack? &nbsp;Following the debug steps I only am able to step in to the Microsoft stack.<br>I am able to circumvent this issue by using&nbsp;this.ResolveService&lt;LongRunningService&gt;().Any(m.getBody()); so that part is not that urgent.<br><br>But I guess my real roadblock question is, once my mq handler is able to call my \"real\" http service which relies on session and session.GetOAuthTokens, how do I go about getting the session from the userAuthId that I am going to pass in from the original async wrapper service?<br><br>I don't see anything in ICacheClient that is something like GetSessionFromAuthId(...).<br><br>I am basically calling linkedin api functions and thus need to have access to UserAuthDetails - that's what all the hoopla is about.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 26, 2015, 6:31:48 PM","shortDate":"Jan 26, 2015","textHtml":"The symbols for ServiceStack should be published on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.symbolsource.org/Public/Wiki/Using\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.symbolsource.org/Public/Wiki/Using</a><br><br>MQ Requests aren't executed inside any HTTP Context, so there's no Cookies or other HTTP Request Context Info like Headers, FormData, etc. This also means there's no Session available which is based on the ss-id/ss-pid Cookies.<br><br>But you should be able to inject a session with:<br><br>var req = new BasicRequest();<br>req.Items[ServiceExtensions.RequestItemsSessionKey] = new AuthUserSession { ... }; // i.e. req.Items[\"__session\"]<br><br>Or pass the Session Cookie Ids in the HTTP Headers:&nbsp;<br><br>req.Headers[\"X-ss-id\"] = sessionId;<br><br>And then Execute your Service with this custom Request Context, e.g:<br><br>return this.ServiceController.ExecuteMessage(m, req);<br><br>Otherwise you can just access the Users Session from the CacheClient directly, e.g:<br><br>var sessionKey = SessionFeature.GetSessionKey(sessionId); //i.e. urn:iauthsession:{sessionId}<br>var usersSession &nbsp;= HostContext.TryResolve&lt;ICacheClient&gt;().Get&lt;IAuthUserSession&gt;(sessionKey);<br><br>More info about Sessions in ServiceStack is in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions</a>﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 26, 2015, 6:35:18 PM","shortDate":"Jan 26, 2015","textHtml":"Thank you Demis!﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 26, 2015, 6:49:20 PM","shortDate":"Jan 26, 2015","textHtml":"Just want to say that this information was perfect! &nbsp;Thanks again...﻿"},{"userId":"102757002269813337540","userName":"Tolga Erdogus","date":"Jan 27, 2015, 11:36:57 AM","shortDate":"Jan 27, 2015","textHtml":"In regards to the debugging and why the ExecuteMessage wasn't working - it happens here:<br><br>&nbsp; &nbsp;public void RegisterServiceExecutor(Type requestType, Type serviceType, ITypeFactory serviceFactoryFn)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ResetServiceExecCachesIfNeeded(serviceType, requestType);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var serviceExecDef = typeof(ServiceRequestExec&lt;,&gt;).MakeGenericType(serviceType, requestType);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var iserviceExec = (IServiceExec)serviceExecDef.CreateInstance();<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceExecFn handlerFn = (requestContext, dto) =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var service = serviceFactoryFn.CreateInstance(serviceType);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceExecFn serviceExec = (reqCtx, req) =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; iserviceExec.Execute(reqCtx, service, req); &nbsp;/// HAPPENS ON THIS LINE - I CAN'T STEP IN TO THIS and it returns&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return ManagedServiceExec(serviceExec, (IService)service, requestContext, dto);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AddToRequestExecMap(requestType, serviceType, handlerFn);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>This probably happens because the service is [Authenticate] protected.<br><br>Unfortunately turning my code to the following still doesn't seem to work for the carrying over the session and auto-authenticating the service:<br>&nbsp;mqHost.RegisterHandler&lt;LongRunningRequest&gt;(m =&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var req = new BasicRequest();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; req.Headers[\"X-ss-id\"] = m.GetBody().SessionId; //I send the SessionId from the async version of the service from the this.GetSession().Id<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var res = this.ServiceController.ExecuteMessage(m, req);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return res;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });<br><br>Shouldn't this theoretically make [Authenticate] happy and set up all the session info inside the service?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 27, 2015, 4:07:55 PM","shortDate":"Jan 27, 2015","textHtml":"I've just added a MqAuthOnly example mimicking what you're trying to do here in this commit;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/514a2de12d7aad9706f4074b167e3e3241a58166\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/514a2de12d7aad9706f4074b167e3e3241a58166</a><br><br>The above error was due to BasicRequest not having a Verb set which you can do with:&nbsp;<br><br>var req = new BasicRequest { Verb = HttpMethods.Post };<br><br>I've also added POST as the default Verb for BasicRequest which will be available in the next release.<br><br>Also I wanted to highlight a difference between HTTP vs MQ services mentioned earlier on about MQ being internal/trusted services which don't execute Global Request filters, illustrated with the architecture diagram:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Architecture-overview\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Architecture-overview</a><br><br>In practice this means to only have [Authenticate] Request Filter attribute executed in HTTP Services you can add it to the Service class, e.g:<br><br>[Authenticate]<br>public class MqAuthOnlyService : Service&nbsp;<br>{<br>&nbsp; &nbsp; public object Any(MqAuthOnly request)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; var session = base.SessionAs&lt;AuthUserSession&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; return new MqAuthOnlyResponse {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result = \"Hello, {0}! Your UserName is {1}\"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .Fmt(request.Name, session.UserAuthName)<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; }<br>}<br><br>To have it executed for both MQ and HTTP Requests add it on the method (i.e Action Filter Attribute), e.g:<br><br>public class MqAuthOnlyService : Service&nbsp;<br>{<br>&nbsp; &nbsp; [Authenticate]<br>&nbsp; &nbsp; public object Any(MqAuthOnly request)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; var session = base.SessionAs&lt;AuthUserSession&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; return new MqAuthOnlyResponse {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Result = \"Hello, {0}! Your UserName is {1}\"<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .Fmt(request.Name, session.UserAuthName)<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; }<br>}﻿"}],"date":"Jan 26, 2015, 1:40:25 PM","shortDate":"Jan 26, 2015"},{"userId":"107626086154455841933","userName":"Sergej Loch","textHtml":"Hello,<br><br>I'm using ServiceStack as self-hosted console application with Razor. Now I'm facing a problem with&nbsp;@Html.RenderAction(\"/dev\",\"_Dev\"). In this method I need the current session but I get always a new one and Request.Cookies is empty<br><br>&nbsp; &nbsp; public class DevService : Service<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public object Any(Dev request)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Debug.WriteLine(\"current: \" + IsAuthenticated+\" - \"+this.Request.Cookies);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new BaseContentViewModel();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br><br>I know I can workaround this with RequestContext or is there a better way?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 25, 2015, 12:30:43 PM","shortDate":"Jan 25, 2015","textHtml":"The existing request can't be modified so a new Request is created for the new Action. I've just added a commit that will copy over the current request context when making a new request which will be available in next release.<br><br>In the meantime you can call the Service directly and render the returned viewModelin a partial, e.g:<br><br>var viewModel =&nbsp;base.ExecuteService&lt;DevService&gt;(s =&gt; s.Any(new Dev &nbsp;{ Id = 1 }));<br>@Html.Partial(\"_Dev\", viewModel);﻿"},{"userId":"107626086154455841933","userName":"Sergej Loch","date":"Jan 25, 2015, 3:45:43 PM","shortDate":"Jan 25, 2015","textHtml":"Awesome! - Thank you﻿"}],"date":"Jan 25, 2015, 9:59:12 AM","shortDate":"Jan 25, 2015"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi Demis,<br><br>is it possible to use the&nbsp;Auto Batched Requests in Javascript or is it only available in the .NET Service Client (SendAll)?<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 20, 2015, 4:32:02 PM","shortDate":"Jan 20, 2015","textHtml":"Yeah you'd just send an array of request DTO's to the predefined route:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Auto-Batched-Requests#request-execution-flow\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Auto-Batched-Requests#request-execution-flow</a>\ne.g:&nbsp;/json/reply/Request[]﻿"}],"date":"Jan 20, 2015, 2:15:07 PM","shortDate":"Jan 20, 2015"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Hi Demis<br><br>I'm just trying out your VS Add ServiceStack Reference plugin for the first time. Seriously awesome stuff! I'm using it to keep the DTOs in sync across my mobile projects.&nbsp;<br><br>On the whole it seems to work perfectly. However some things I'd like some clarity on:<br><br>1) How can I change the default namespace of the generated dtos.cs file? Could this be a MetadataTypesConfig setting? The namespaces on the mobile apps do not necessarily map to the namespaces from the web services projects.<br><br>2) In my DTOs I have enums. If the enum lives in the same namespace as the DTO object, the generated Enum names (in the metadata) are properly populated and the correct enum created in C# with it's values in code. However due to the structure of some of my projects, the enums are not necessarily defined in the same namespace at the DTO. In this situation (for enums and classes), the corresponding classes and enums do not seem to be generated in C#. I can provide you an example link privately to show you what I mean if you want.&nbsp;<br><br>Thanks for your help!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2015, 12:00:47 PM","shortDate":"Jan 19, 2015","textHtml":"Hi Dylan,<br><br>It's normal for namespaces of Server DTO's not to match up with the client project, i.e. the generated DTO's would mirror the sane C# namespaces as if you were sharing your Server DTO .dll instead.<br><br>Changing the global namespace is currently only possible in languages which have all DTO's under a single namespace which atm is only F# and TypeScript, I'll look at adding this feature to C# and <a rel=\"nofollow\" target=\"_blank\" href=\"http://VB.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VB.NET</a> as well although this will mean that every DTO will need to be uniquely named (a restriction not required with multiple namespaces).<br><br>Is the enum in the same Project as Server DTO dll? i.e. would the client have access to it if you shared your Server DTO .dll instead? In which case the recommended practice is to make sure that everything the client needs to communicate with your Service is in a separate stand-alone DTO project. You can also remove the dependency on internal system enums by changing the property on the DTO to be a string.﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jan 19, 2015, 1:23:40 PM","shortDate":"Jan 19, 2015","textHtml":"I understand about having a stand-alone DTO project with all the relevant communication items in, however this is not possible in my case due to the setup of the many client projects and dependencies.<br><br>Still in this case would it not be possible to generate the code for the required enums/classes regardless? The generated code would be independent from the server's implementation (and namespaces and project are actually irrelevant at this point) which I thought would be the aim. If it's not possible I'll take a look at the generation code to see what I can tweak, otherwise I can always keep on maintaining the files manually across the projects :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2015, 1:53:01 PM\n(edited Jan 19, 2015, 2:07:32 PM)","shortDate":"Jan 19, 2015","textHtml":"This is really something you should be striving for as otherwise you're headed down a slippery slope where it's no longer possible to call your Services with just a url and its self-contained DTO's (irrespective as to how big or complex or large the System gets). Once you break this contract it'll become harder to recover from the situation where you've now brought a tonne of extra complexity to your Services consumers who'll now have to research the cyclical dependencies of your Servers .dlls to determine whether it's feasible or not to call your services with its typed DTO's.&nbsp;<br><br>The problem with this heuristic of bringing it internal enums/types is that it makes it difficult to determine whether or not we're re-declaring already existing .NET enums/types will cause compilation errors. I can investigate offering custom server configuration to explicitly include external types, but as it's something I would like to discourage I don't want to add extra complexity to deal with it. IMO the best solution is you manually redeclare the internal enums on the client which as it's outside of the normal path shows that it's a code-smell (a bad one IMHO) and it's something that will let you keep track of how bad it gets and hopefully encourage refactoring it later on. Also as I mentioned earlier changing the DTO enum property to a string also breaks the explicit binary contract which is another option that's an easy workaround.﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Jan 19, 2015, 2:13:56 PM\n(edited Jan 19, 2015, 2:21:42 PM)","shortDate":"Jan 19, 2015","textHtml":"I get at what you're saying, but if you had to see the project structure you'd understand. Just to clarify, all Service classes and DTOs are contained within their respective projects/dlls. This goes to what you were saying with keeping them all in-check. It's just that the DTOs themselves sometimes contain enum fields or Lists of other DTO-like classes that do not exist in the main DTO dll - these are the items which are not being properly generated. I still believe that they should be. The reason these enums or DTO like classes are not contained in the primary DTO dll is due to other references or integrations.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2015, 2:33:52 PM\n(edited Jan 19, 2015, 2:35:33 PM)","shortDate":"Jan 19, 2015","textHtml":"\"It's just that the DTOs themselves sometimes contain enum fields or Lists of other DTO-like classes that do not exist in the main DTO dll... The reason these enums or DTO like classes are not contained in the primary DTO dll is due to other references or integrations. \"<br><br>This is the slippery slope I'm saying should be avoided - in order for this to be possible your services now rely on internal types outside of your DTO's, so now clients need knowledge of your internal types. Again I'd highly discourage this, you can also avoid this dependency with a copy of the enums in the DTO .dll and just use `ConvertTo` to translate between them.<br><br>If you want you can put together a small repro with empty/Mock Services and I can look at whether it's something that can be easily avoided without causing further regressions.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2015, 10:03:47 PM","shortDate":"Jan 19, 2015","textHtml":"I've added support for GlobalNamespace on C# and <a rel=\"nofollow\" target=\"_blank\" href=\"http://VB.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VB.NET</a> as well available from next v4.0.37+ that's now on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>You can play around with the deployed version on:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/types/csharp?GlobalNamespace=dtos\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/types/csharp?GlobalNamespace=dtos</a>﻿"}],"date":"Jan 19, 2015, 6:04:48 AM","shortDate":"Jan 19, 2015"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","textHtml":"Hi guys,<br><br>I've noticed that now we check if the username already exists when creating an UserAuth.<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d66e4b581f55bc78ddf1586ec910604a8e5555be#diff-5f3fac97801f1088108c4cc253e0e738R19\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d66e4b581f55bc78ddf1586ec910604a8e5555be#diff-5f3fac97801f1088108c4cc253e0e738R19</a><br><br>However, i have an use case where users are able to register through social accounts but they need to finish their registration where they provide a (unique) username. Therefore, since the same username might be used by different users in different social accounts (and in our application), i don't want to deny the user registration upfront.<br><br>Having said that, i think that&nbsp;ValidateUniqueUserNames should be customizable.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2015, 9:17:12 AM","shortDate":"Jan 14, 2015","textHtml":"It is customizable, i.e can be disabled with:<br><br>AuthProvider.ValidateUniqueUserNames = false;﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jan 14, 2015, 9:21:42 AM","shortDate":"Jan 14, 2015","textHtml":"Hi Demis,<br><br>Yes, i saw that. But you have added the following comment<br>\"//Temporary, remove later when no issues.\"<br>that led me to start this discussion. Are you planning to remove this possibility?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2015, 9:24:42 AM","shortDate":"Jan 14, 2015","textHtml":"Was for unique emails, but I can leave them both there knowing that it's being used.﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jan 14, 2015, 9:28:28 AM","shortDate":"Jan 14, 2015","textHtml":"Cool, thanks!<br><br>IMHO emails should be unique since they are directly related to one person and one person only. So i guess that there is no problem removing that.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2015, 9:46:02 AM","shortDate":"Jan 14, 2015","textHtml":"Cool, In that case I might switch the flags so they're both properties on AuthFeature so it's configurable like any other plugin.﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jan 14, 2015, 9:53:01 AM","shortDate":"Jan 14, 2015","textHtml":"Sounds great :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 14, 2015, 11:34:08 AM","shortDate":"Jan 14, 2015","textHtml":"FYI config moved to AuthFeature, available in next release:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/0499b4c31b3664363c05381e775785b9adc56028\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/0499b4c31b3664363c05381e775785b9adc56028</a>﻿"},{"userId":"113279835578491979931","userName":"Ricardo Brandão","date":"Jan 14, 2015, 12:23:02 PM","shortDate":"Jan 14, 2015","textHtml":"Thanks﻿"}],"date":"Jan 14, 2015, 6:55:46 AM","shortDate":"Jan 14, 2015"},{"userId":"105697912090045945773","userName":"Giacomo Tagliabue","textHtml":"Hi, new customer here. I will be using ServiceStack on a server which will be always disconnected form the internet (runs on a intranet). Does the license I added in the web.config needs an internet connection to be verified? Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 12, 2015, 5:33:17 PM\n(edited Jan 12, 2015, 5:35:18 PM)","shortDate":"Jan 12, 2015","textHtml":"Hi, nope the license verification is completely stand-alone and doesn't require any network calls. There's nothing else in ServiceStack that calls home either.﻿"},{"userId":"105697912090045945773","userName":"Giacomo Tagliabue","date":"Jan 12, 2015, 5:43:55 PM","shortDate":"Jan 12, 2015","textHtml":"thanks!﻿"}],"date":"Jan 12, 2015, 5:31:20 PM","shortDate":"Jan 12, 2015"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Would there be a savings in overhead if Services could be auto-registered as Reuse.Container instead of None? &nbsp;<br><br>I have several services that in-turn call other services to generate its response (eg: CarStatusService calls WheelService, EngineService, RadioService, etc.) &nbsp;If the CarStatusService was being called at very high frequency, each time CarStatusService is called it will ResolveService&lt;...&gt; which in-turn creates new instances each time.<br><br>How to have the services automatically register, but set as singleton reuse in the container? &nbsp;This way, each time CarStatusService is requested, its ResolveService&lt;...&gt; calls can re-use the same instance. &nbsp;If the service is called thousands of time, say every 100ms by several clients, then any time savings will compound.<br><br>Is this something that can be post-processed after the AppHost configure? &nbsp;Or am I barking up the wrong tree.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2015, 3:58:00 PM\n(edited Jan 7, 2015, 3:58:50 PM)","shortDate":"Jan 7, 2015","textHtml":"The default lifecycle is to re-use the same singleton instance, you would need to explicitly register the dep with Reuse.None in order to force creating a new instance each time.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jan 7, 2015, 4:05:50 PM","shortDate":"Jan 7, 2015","textHtml":"My understanding was that auto-registered services are set to Reuse.None and that a new instance is created on each ResolveService.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/24481853/servicestack-service-being-singleton-by-default-may-cause-its-request-context-to\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/24481853/servicestack-service-being-singleton-by-default-may-cause-its-request-context-to</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2015, 4:27:55 PM\n(edited Jan 7, 2015, 4:44:44 PM)","shortDate":"Jan 7, 2015","textHtml":"The default lifecycle for <b>your</b> dependencies is singleton scope. Services are always executed in a new instance and disposed of after each request.﻿"},{"userId":"112524062958930480770","userName":"Matt Cowan","date":"Jan 7, 2015, 5:39:20 PM","shortDate":"Jan 7, 2015","textHtml":"I've faced this on several projects, and personally, I've preferred to thin out the service methods to use intermediate objects to coordinate the work, instead of calling ResolveService everywhere. Thin out the service layers a little and abstract the 'work' inside those services into their own objects that can be re-used across services, and give those worker/dispatch/adapter objects whatever lifetime scope they need, maybe even pass the IRequest or IDbConnection as a method parameter as needed (and you can make the methods async too, or accept lambdas for downstream activity), and still take advantage of the built-in dispose functionality.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jan 8, 2015, 12:00:22 PM","shortDate":"Jan 8, 2015","textHtml":"Thanks Matt, interesting idea that can work in some of my cases. &nbsp;For now I am experimenting with a customized Resolve method that can optionally looked for a named instance and dynamically add them to the container. &nbsp;Haven't yet tested it under load though.﻿"}],"date":"Jan 7, 2015, 3:52:59 PM","shortDate":"Jan 7, 2015"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"Generalized request batching<br><br>Hi,<br>even though ServiceStack has recently implemented request batching, it only works for multiple requests of the same type.<br><br>We need to handle the case of batching several different requests together. The idea is to reduce the number of HTTP requests, not so much for performance reasons as much as to help us read the HTTP trace more easily (less requests to 'follow').<br><br>I've implemented this on the server side with a relatively simple extension method, but it boils down to splitting the 'container' batch request into constituents, then executing them <i>synchronously</i> in a simple foreach loop. Since most of our service calls are IO bound, I'd definitely want to run them in parallel.<br><br>I could run all of the constituent requests in parallel by running Task.Run for each of them then WaitAll, but this is ignoring a lot of threads already created for request dispatching (basically by <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> when in IIS or by ServiceStack when self hosting) and creating additional ones for the Task library.<br><br>I would like to simulate the behavior of normal request dispatcher, so I wonder where/how to do so? I'm guessing this should be doable with ServiceRunner but I'm not sure what is the best way to get/use this from inside a request handler? Differently put, it's almost as if I wanted to take the batching request, split it into actual requests, then re-put them back into execution pipeline so that they get executed, then when done re-assemble back into a batching response. I also don't want to repeat this code, it should be reusable across all services.<br><br>I hope I'm making sense, if not please let me know and I'll clarify.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2015, 9:59:54 AM","shortDate":"Jan 5, 2015","textHtml":"Right, Auto Batched requests does require every request to be of the same type.&nbsp;<br>If you want to create your own custom batched requests you should be able to execute each Request DTO individually with `base.ExecuteRequest(dto)` - which is just a wrapper around `HostContext.ServiceController.Execute(dto, Request)`.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jan 5, 2015, 10:04:51 AM","shortDate":"Jan 5, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;great info, thanks. If I want to execute individual requests 'in parallel' then wait for completion, should I just call ExecuteAsync for each of them (then WaitAll)? Will this or not introduce new threads when hosted in IIS?﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jan 5, 2015, 10:05:47 AM","shortDate":"Jan 5, 2015","textHtml":"When I say ExecuteAsync I mean of course the method of the ServiceController.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2015, 10:17:28 AM","shortDate":"Jan 5, 2015","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;Nope don't use ExecuteAsync, it's an unused internal API I'm experimenting with, currently it's just wrapping a sync service result in a Tast&lt;object&gt; response.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jan 5, 2015, 10:36:30 AM","shortDate":"Jan 5, 2015","textHtml":"Good to know, I noticed ExecuteAsync isn't in the IServiceController which hinted a bit to its usability.<br>If I did want to have request execution in parallel <i>without introducing new threads</i> especially in hosting environement which already handle thread pooling on their own, what would be the cleanest way?<br>Btw, in the 4.0.23 version base.ExecuteRequest isn't accessible, but I can get ahold of HostContext so I'm fine with that.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 5, 2015, 11:24:32 AM\n(edited Jan 5, 2015, 11:24:45 AM)","shortDate":"Jan 5, 2015","textHtml":"Don't see how you're going to avoid using new threads, for <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> hosts you wont have access to the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> worker thread pool so you'll either need to use the ThreadPool or manage your own threads. The&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Concurrency-model\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Concurrency-model</a> wiki describes the different concurrency model of the different self hosting AppHosts, which either uses the same I/O Thread (AppHostHttpListenerBase), .NET ThreadPool (AppHostHttpListenerPoolBase) or SmartThreadPool (AppHostHttpListenerBase) which uses SmartTheadPool to manage it's own threads.<br>Otherwise If you execute non-blocking async Services than ExecuteRequest() returns a Task which you can use Task.WhenAll() on.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jan 5, 2015, 12:19:21 PM\n(edited Jan 5, 2015, 12:20:15 PM)","shortDate":"Jan 5, 2015","textHtml":"I might have been imprecise: I want to avoid creating (accidentally) <i>additional</i> threads which would not have been created had the batched requested actually been split on the client side (which I don't want to do for reasons listed in the post).<br>If I make 3 different calls for 3 requests they will be dispatched by the hosting environment to 3 threads (assuming no congestion and reasonably multi-core host machine). If I batch manually (as I am doing now) my batch request will be executed on its own thread (like any other request DTO) but then my foreach loop will synchronously execute actual requests in sequence. Since our requests are (on the server) heavily IO bound, it might be faster to execute separate requests (from the client), which defeats somewhat the purpose of batching ;)<br>IOW, I'm just looking at dispatching the actual requests in the most efficient way, trying to reuse the existing mechanism (whether it's Smart Thread Pool or <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>'s thread pool, I don't really want to know, ServiceStack takes care of this at the moment just fine). FYI, the code at the moment, even if it executes synchronously, is fast enough not to cause us issues, but I have an itching feeling that it can be improved.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jan 5, 2015, 12:24:49 PM","shortDate":"Jan 5, 2015","textHtml":"Just looked at the wiki about concurrency model. I actually don't see a way to do this better except to simply make our requests async and then do WaitAll - <b>*as you've suggested*</b>. There's no need to run async code (rather IO bound code which can be made async) on multiple threads, gives me nothing. I focused too much on the old ways of doing things where we <i>needed</i> the thread pool because most of our IO was blocking and doing async wasn't as easy as it is today with async/await.<br><br>Thanks for your help!﻿"}],"date":"Jan 5, 2015, 6:18:04 AM\n(edited Jan 5, 2015, 6:19:30 AM)","shortDate":"Jan 5, 2015"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"I'm getting a&nbsp;NullReferenceException inside MiniProfiler's&nbsp;ProfiledDbCommand.&nbsp;Not sure if it's a bug or something I'm doing wrong.<br><br>I'm opening a named connection, then using SqlProc and ConvertToList to return results from a stored procedure (as described here: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#stored-procedures-with-output-params\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#stored-procedures-with-output-params</a>)<br><br>My connection is registered like this:<br>dbFactory.RegisterConnection(\"SomeNamedConnection\", new OrmLiteConnectionFactory(<br>ConfigurationManager.ConnectionStrings[\"SomeConnectionString\"].ConnectionString,<br>&nbsp; &nbsp; SqlServerDialect.Provider)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; ConnectionFilter = x =&gt; new ProfiledDbConnection(x, Profiler.Current)<br>&nbsp; &nbsp; });<br><br><br>Exception stack trace:<br>System.NullReferenceException: Object reference not set to an instance of an object.<br>&nbsp;at ServiceStack.MiniProfiler.Data.ProfiledDbCommand.get_CommandText()<br>&nbsp;at ServiceStack.OrmLite.OrmLiteCommand.get_CommandText()<br>&nbsp;at ServiceStack.OrmLite.OrmLiteResultsFilterExtensions.ConvertToList[T](IDbCommand dbCmd, String sql)<br>&nbsp;at UserRepository.GetUserIdsFromEmailAddresses(List`1 emailAddresses)<br>&nbsp;<br>public List&lt;int&gt; GetUserIdsFromEmailAddresses(List&lt;string&gt; emailAddresses)<br>{<br>&nbsp; &nbsp; using (var someDb = dbFactory.OpenDbConnection(\"SomeNamedConnection\"))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return someDb<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .SqlProc(\"GetUserIdsFromEmailAddresses\", new { EmailAddresses = emailAddresses.Join(\",\") })<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .ConvertToList&lt;int&gt;();<br>&nbsp; &nbsp; }<br>}﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 24, 2014, 12:37:05 AM","shortDate":"Dec 24, 2014","textHtml":"Yeah there was an issue with the IDbCommand being disposed before it was returned, it's now fixed in v4.0.35 on MyGet (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>). Also you should change it to wrap it in a using statement, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/Check.ServiceInterface/NamedConnectionService.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/Check.ServiceInterface/NamedConnectionService.cs</a>﻿"},{"userId":"111439384271395523193","userName":"Uri Hendler","date":"Dec 24, 2014, 3:01:39 AM","shortDate":"Dec 24, 2014","textHtml":"Great, thanks.﻿"}],"date":"Dec 23, 2014, 6:16:58 AM","shortDate":"Dec 23, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hi Demis,<br>I've an&nbsp;ASP.Net&nbsp;MVC 5 web application using ServiceStack.Mvc. I'm using the CredentialsAuthProvider (with OrmLiteCacheClient and OrmLiteAuthRepository).<br>In the db UserAuth table (SQL Server in my case) there is a user with \"ACME\" as the value for the field \"Company\".&nbsp;<br>What I would like to do is to have this value when I read the UserSession in my MVC Controller.<br><br>Can you help me, please?<br>﻿","comments":[{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Dec 19, 2014, 1:45:56 PM","shortDate":"Dec 19, 2014","textHtml":"Hi Paolo,<br>If I understand correctly, you want to populate custom field in the UserSession? If so you'd want to subclass AuthUserSession as mentioned here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions#using-typed-sessions-in-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions#using-typed-sessions-in-servicestack</a><br><br>Then override OnAuthenticated, populate the custom data in your custom typed session.﻿"}],"date":"Dec 19, 2014, 1:17:16 PM","shortDate":"Dec 19, 2014"},{"userId":"116739132677847302890","userName":"Ron Rejwan","textHtml":"We updated our ServiceStack Redis client to the newest one on Nuget, and we started getting <i>a lot</i> of these errors:<br>Index was out of range. Must be non-negative and less than the size of the collection.&nbsp;<br>Parameter name: index<br>at System.Collections.Generic.List`1.get_Item(Int32 index)&nbsp;<br>at ServiceStack.Redis.RedisManagerPool.GetClient()&nbsp;<br>at ServiceStack.Redis.RedisClientManagerCacheClient.Get[T](String key)&nbsp;<br><br>Any idea why are we getting this issue?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2014, 11:17:47 AM","shortDate":"Dec 17, 2014","textHtml":"Hi Ron, this should be resolved with the latest version on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Dec 17, 2014, 1:04:14 PM","shortDate":"Dec 17, 2014","textHtml":"Demis hey thanks for sharing, are there any other known issues we should be aware of? Also, how can I revert back to an older version of the RedisClient? Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2014, 1:10:41 PM","shortDate":"Dec 17, 2014","textHtml":"No that's the only known redis issue that was resolved since last release. You can also switch the&nbsp;PooledRedisClientManager.<br><br>You can use NuGet commands to uninstall a NuGet package with:<br><br>Uninstall-Package ServiceStack.Redis&nbsp;<br><br>or force uninstall with:<br><br>Uninstall-Package ServiceStack -Force﻿"},{"userId":"116739132677847302890","userName":"Ron Rejwan","date":"Dec 17, 2014, 3:12:14 PM","shortDate":"Dec 17, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;thanks, and how can I install a specific version afterwards?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2014, 4:00:17 PM\n(edited Dec 17, 2014, 4:01:33 PM)","shortDate":"Dec 17, 2014","textHtml":"Just use the standard nuget `-Version xxx` modifier.&nbsp;I wrote somes docs on installing, uninstalling and updating specific NuGet versions earlier at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackV3/ServiceStackV3#nuget\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackV3/ServiceStackV3#nuget</a>﻿"}],"date":"Dec 17, 2014, 9:06:28 AM","shortDate":"Dec 17, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I have a problem with&nbsp; ServiceStack.Swagger in last v.4.34 , I had not before. Either with the normal version or a customized that we used before,&nbsp; I get an error<br>&nbsp;500 : undefined <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:21091/resources\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:21091/resources</a>.<br>It is a self-hosted service,&nbsp; swagger-ui&nbsp; or bootstrap folders&nbsp; both in root<br>&nbsp;&nbsp; Plugins.Add(new SwaggerFeature() { UseBootstrapTheme =true or false);<br>EnableFeatures = Feature.All.Remove(Feature.Metadata)<br>and the&nbsp; CorsFeature.<br>thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 14, 2014, 12:33:28 PM","shortDate":"Dec 14, 2014","textHtml":"Latest version with CORS enabled still working at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/swagger-ui/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/swagger-ui/</a><br><br>Please open a new issue and post full details about the error (e.g. raw HTTP Response) at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 15, 2014, 11:08:43 AM\n(edited Dec 15, 2014, 11:38:08 AM)","shortDate":"Dec 15, 2014","textHtml":"I have solved most of the issues and it works now&nbsp; with<br>&nbsp;the normal version and changes&nbsp; in html.&nbsp; This is enough for the moment.<br>thanks again﻿"}],"date":"Dec 14, 2014, 12:04:57 PM","shortDate":"Dec 14, 2014"},{"userId":"113745366051337727908","userName":"Mike Mertsock","textHtml":"Is there any known issue with the Add ServiceStack Reference tool in the latest ServiceStackVS extension? When we enter a valid URL and name and click OK in the dialog, nothing happens (literally: the UI doesn't react, can't find any log or console output, etc.). If we enter an invalid URL, we get an error message. We tried this with Visual Studio 2013 Update 3 and Update 4.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 4, 2014, 11:28:41 AM\n(edited Dec 4, 2014, 11:33:15 AM)","shortDate":"Dec 4, 2014","textHtml":"Shouldn't be, does `{BaseUrl}/types/csharp` return the generated DTO's or does it generate an error?&nbsp;<br><br>If it does return the DTO's without error, can you try reinstalling the latest SSVS from:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix</a><br>The UX for Add SS Ref has been slightly improved.&nbsp;﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Dec 4, 2014, 11:40:45 AM","shortDate":"Dec 4, 2014","textHtml":"The /types/csharp URL works fine when I point a web browser to it. I'll try the new vsix when I have some time. Thanks﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Dec 4, 2014, 12:09:33 PM","shortDate":"Dec 4, 2014","textHtml":"I think the issue may be related to HTTPS URLs. Our public facing API is only available via HTTPS, and our load balancer does not redirect non-https requests, it just kills the connection. If I use an http:// address pointing to the internal hostname of our server, the Add ServiceStack Reference tool works fine (but this workaround wouldn't be possible for our customers).<br><br>Also, our ServiceStack instance is configured with an \"/api\" base path instead of being at the root (so the full path is /api/types/csharp). I noticed that the generated dtos.cs file does not include the /api path in the BaseUrl value at the top of the file. This is causing the Update ServiceStack Reference command to fail. If I manually edit the file to include the /api path, the update command works correctly (but the /api path is removed again). Not sure whether this will affect others who have their API hosted at a different path, due to some weirdness in our config, but I wanted to mention it.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 4, 2014, 12:22:04 PM","shortDate":"Dec 4, 2014","textHtml":"Thanks Mike, I'll get <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110442811540426884982\" oid=\"110442811540426884982\">Darren Reid</a></span>&nbsp;(maintainer of SSVS) to look into the https issue. Does it work if you put the full '<a rel=\"nofollow\" target=\"_blank\" href=\"https://url\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://url</a>` in? hopefully shouldn't have to redirect in that case. Also&nbsp;if your https endpoint is available that will help with testing on our end.<br><br>The /api BaseUrl issue should be resolved in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/177\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/177</a><br>which is available from v4.0.34 on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Dec 4, 2014, 12:32:10 PM","shortDate":"Dec 4, 2014","textHtml":"Thanks for the notice on the base path change, I'll try that out if I have time. I tried the full URL, that doesn't work either. I'm emailing you the URL of our endpoint.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 4, 2014, 3:52:48 PM","shortDate":"Dec 4, 2014","textHtml":"Hi <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/113745366051337727908\" oid=\"113745366051337727908\">Mike Mertsock</a></span>&nbsp;, Issue with SSVS should now be resolved with adding HTTPS endpoints. You can download the latest from GitHub.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix</a><br><br>The update should also work once the server has been updated to include the fix on 4.0.34. Let me know if you have other problems.&nbsp;﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Dec 11, 2014, 9:26:11 AM","shortDate":"Dec 11, 2014","textHtml":"Thanks, that works now!﻿"}],"date":"Dec 4, 2014, 11:23:20 AM\n(edited Dec 4, 2014, 11:28:04 AM)","shortDate":"Dec 4, 2014"},{"userId":"107970815325006319569","userName":"Jon Kennerly","textHtml":"Hello, Demis and All,<br><br>I'm using SS for a new healthcare API. Message-based is the way to go, and SS works great.<br><br>My Questions:<br>I'm not seeing a whole lot of docs on the RequestLogs feature, at least for this: &nbsp;what is the mechanism and rules around how long log entries are kept? Is it configurable?<br><br>I did dive in to the src some. InMemory logger uses .Net ConcurrentQueue &lt;-- maybe my answer is in there, but I'm a little new to SS and am hoping for a quick answer.﻿","comments":[{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Dec 3, 2014, 3:17:38 PM","shortDate":"Dec 3, 2014","textHtml":"Hi Jon,<br><br>When you add the plugin you can set the buffer capacity:<br><br>plugins.Add(new RequestLogsFeature(capacity: 100));﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 3, 2014, 3:18:03 PM","shortDate":"Dec 3, 2014","textHtml":"Hi Jon, the main description about the RequestLogs feature is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Plugins#request-logger\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Plugins#request-logger</a><br><br>Like any plugin, it can configured at registration when adding the Plugin. The different config options for RequestLogsFeature is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/RequestLogsFeature.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/RequestLogsFeature.cs</a><br><br>e.g. you can change how long the buffer is with:&nbsp;<br>Plugins.Add(new RequestLogsFeature {<br>&nbsp; &nbsp; Capacity = 2000<br>});<br><br>By default it uses an&nbsp;InMemoryRollingRequestLogger which has a default capacity of 1000.&nbsp;﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Dec 3, 2014, 3:18:33 PM","shortDate":"Dec 3, 2014","textHtml":"The default capacity is 1000:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/InMemoryRollingRequestLogger.cs#L15\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/InMemoryRollingRequestLogger.cs#L15</a>﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 3, 2014, 3:28:41 PM\n(edited Dec 3, 2014, 3:30:16 PM)","shortDate":"Dec 3, 2014","textHtml":"I saw Capacity. Quantity of logs entries isn't an issue.<br>It's how long the entries are valid.&nbsp;<br><br>Ex: &nbsp;5 calls to service, 5 calls show up in the list under RequestLogsService, which is expected. Then some time later (no other requests made) those 5 calls no longer appear in the log. That is 15 min or so, and those entries are gone.&nbsp;<br><br>Is this garbage collection happening on the queue. Maybe I'm misunderstanding. Maybe increasing the buffer size would change the time factor.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 3, 2014, 3:33:26 PM\n(edited Dec 3, 2014, 3:34:47 PM)","shortDate":"Dec 3, 2014","textHtml":"It's uses a rolling InMemory log by default, so it always keeps the maximum Capacity and only evicts the oldest ones once that Capacity is reached.<br><br>Note: it doesn't hold onto the Request/Response itself, just metadata about the request (in the DTO that gets returned).﻿"},{"userId":"117892607542541570233","userName":"Richard Safier","date":"Dec 3, 2014, 10:06:38 PM","shortDate":"Dec 3, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/107970815325006319569\" oid=\"107970815325006319569\">Jon Kennerly</a></span>&nbsp;If your hosting on most IIS versions the default app pool config would shutdown the process after 20 minutes of idle time, 0 is off. You also might want to alter the default recycle period if you need your logs longer than 29 hours.&nbsp;﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 4, 2014, 2:38:05 PM","shortDate":"Dec 4, 2014","textHtml":"Thanks, Richard Safier. That is the information I was looking for.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 4, 2014, 2:53:37 PM","shortDate":"Dec 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/107970815325006319569\" oid=\"107970815325006319569\">Jon Kennerly</a></span>&nbsp;ok yeah, this also applies to all InMemory collections/providers/etc, which are cleared on every AppDomain recycle/restart.﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 5, 2014, 4:14:25 PM\n(edited Dec 5, 2014, 4:16:35 PM)","shortDate":"Dec 5, 2014","textHtml":"wrap up:<br><br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/117892607542541570233\" oid=\"117892607542541570233\">Richard Safier</a></span>&nbsp;'s tip worked. That said, it'd be nice to have a sample implementation of a CustomRequestLogger that implements Redis another queuing mechanism that isn't tied in to IIS, much in the same way a Redis&nbsp;ICacheClient state isn't&nbsp;tied in to IIS.<br><br><br>I'm in a kind of rapid dev mode for a client, and publish new code quite often. The result is the logs are requestlogs&nbsp;lost, but I'd still like to have that history.<br><br><br>thanks again! (having fun here)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 5, 2014, 4:25:16 PM","shortDate":"Dec 5, 2014","textHtml":"A custom request logger would just need to implement this interface:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Web/IRequestLogger.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Web/IRequestLogger.cs</a><br><br>Which can then registered with:<br><br>Plugins.Add(new RequestLogsFeature {&nbsp;<br>&nbsp; &nbsp; RequestLogger = new MyRequestLogger()<br>});<br><br>The custom logger could also make use of most of the impl from the InMemoryLogger:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/InMemoryRollingRequestLogger.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/InMemoryRollingRequestLogger.cs</a><br><br>What type of logger would you prefer? Redis or RDBMS (OrmLite).﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 5, 2014, 4:54:20 PM\n(edited Dec 5, 2014, 5:05:39 PM)","shortDate":"Dec 5, 2014","textHtml":"Redis. I plan to use that as the Cache store as well, which is already working.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 5, 2014, 5:26:28 PM","shortDate":"Dec 5, 2014","textHtml":"It's in the ServiceStack.Server NuGet package and it's now called&nbsp;RedisMqServer.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 5, 2014, 7:27:28 PM","shortDate":"Dec 5, 2014","textHtml":"Hi Jon, I've just added a RedisRequestLogger in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/b02352a86b8e9ab57af86bf6620a8a36576d64ee\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/b02352a86b8e9ab57af86bf6620a8a36576d64ee</a><br><br>It supports an optional capacity if you want to configure it as a rolling log otherwise it will keep it until you flush redis db manually. Since logs are stored in redis the logs will survive AppDomain restarts.<br><br>RedisRequestLogger is in the `ServiceStack.Server` package &nbsp;available from v4.0.34+ that's just finished deploying on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 5, 2014, 9:44:34 PM\n(edited Dec 5, 2014, 9:45:24 PM)","shortDate":"Dec 5, 2014","textHtml":"This is great. Exactly what I was looking for. I have the pre-release code and it is working.<br><br>I'm new to Redis, but there seems be some spin-up time. Getting the list of requests using the RequestLogs&nbsp;service (C# client) takes around 6 second, both with 5 or 1000 requests logged.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 5, 2014, 10:51:04 PM\n(edited Dec 6, 2014, 9:27:55 AM)","shortDate":"Dec 5, 2014","textHtml":"6s sounds off, I've just deployed RedisRequestLogger to&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net</a> (an over saturated m1.small AWS instance) and 1000+ requests is &lt;1s:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/requestlogs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/requestlogs</a><br><br>And even then time spent is mostly on html rendering in the browser, as it's even quicker if viewed with any of the data formats, e.g:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/requestlogs.json\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/requestlogs.json</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/requestlogs.csv\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/requestlogs.csv</a>﻿"},{"userId":"107970815325006319569","userName":"Jon Kennerly","date":"Dec 6, 2014, 10:03:17 AM","shortDate":"Dec 6, 2014","textHtml":"I'm going to try and standup a different Redis instance. Some suggest stick with the *nix flavor, not Redis-on-Windows. I see you have a Redis Admin UI with the entries also. <a rel=\"nofollow\" target=\"_blank\" href=\"http://redisadminui.servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redisadminui.servicestack.net</a> . I might try that tool if it is available.﻿"}],"date":"Dec 3, 2014, 3:06:36 PM","shortDate":"Dec 3, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Demis, what is the status of the ServiceStackVS extensions? &nbsp;After installing them into VS2K13, I've noticed several do not compile (MVC5, MVC &amp; Angular, etc.). &nbsp;At a minimum, the paths to the retrieved NuGet packages are wrong. &nbsp;After using SS in the service layer for months, I'm looking at moving into the front-end with it and would like to know the preferred front-end technologies and techniques.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 2, 2014, 1:43:31 PM","shortDate":"Dec 2, 2014","textHtml":"Do you have the latest version of SSVS installed?&nbsp;<br><br>If you do can you post any issues about ServiceStackVS on <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110442811540426884982\" oid=\"110442811540426884982\">Darren Reid</a></span>&nbsp;is maintaining SSVS and is quick to respond to any issues. SSVS is still being continually developed with updates on every release, it includes a number of templates so the best one to use is largely a matter of choice/preference.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Dec 2, 2014, 1:48:02 PM","shortDate":"Dec 2, 2014","textHtml":"Yep... pulled down about 60 minutes ago.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 2, 2014, 2:41:23 PM","shortDate":"Dec 2, 2014","textHtml":"Hey <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span>&nbsp;Could you post any details to what you are seeing as far as not building? I've just ran through creating all the C# templates and they all build restore from NuGet successfully, MVC4, MVC and Angular templates included.<br><br>The packages directory is at the same level as the .sln file. Any screenshots of what you are seeing in the directories, errors, project file would be helpful.&nbsp;﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Dec 2, 2014, 3:00:29 PM\n(edited Dec 2, 2014, 3:01:16 PM)","shortDate":"Dec 2, 2014","textHtml":"Screenshot: <a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/5R0X6L\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://goo.gl/5R0X6L</a><br><br>Figured it out. &nbsp;Not sure if you'd consider it a bug or not. &nbsp;Basically, the template uses the default paths. &nbsp;In my scenario, I never create projects in the Solution folder but, instead, use separate Projects / Solutions folders so I can create solutions for various purposes and pull in the relevant projects. &nbsp;Once I accepted all of the defaults the templates compiled. &nbsp;Would be great, in the future, if the paths were calculated relative to the selected paths.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 2, 2014, 3:15:43 PM","shortDate":"Dec 2, 2014","textHtml":"Ahh right. Any info on your workflow for the steps you take with normal templates to get your project/solution setup up and running would be useful as I'm not familiar with this setup. If I know how you get to that folder arrangement with other templates, hopefully I can work something out to 'calculate' the relative paths if possible.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 2, 2014, 3:17:27 PM","shortDate":"Dec 2, 2014","textHtml":"As these templates are multi-project templates, if you can find an example with how you would incorporate another multi-project template into your project structure that works I'll take a look.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Dec 2, 2014, 3:29:15 PM","shortDate":"Dec 2, 2014","textHtml":"The only examples that come to mind are from Telerik but they use a compiled wizard to target each project. &nbsp;If I find any that use T4 or VS scripting, I'll let you know.﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Dec 2, 2014, 3:32:29 PM","shortDate":"Dec 2, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/101696439243972098765\" oid=\"101696439243972098765\">Fredrick Lackey</a></span>&nbsp;The next version of SSVS has a different way of installing the NuGet packages to ensure the latest version of SS is used when using the New/Add project wizard. This might actually solve the pathing problem for you as well. Still being worked on for next release, but if you are interested, feel free to give it a try.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStackVS/raw/master/src/ServiceStackVS.vsix</a>&nbsp;﻿"}],"date":"Dec 2, 2014, 1:31:13 PM","shortDate":"Dec 2, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"Hey Demis,<br><br>I'm trying to implement the RedisPubSubServer and RedisServerEvents and I'm missing something somewhere.<br><br>The OnMessage Event on RedisPubSubServer is being fired and I'm calling&nbsp;NotifyChannel on the RedisServerEvents object (using the same, correct channel name throughout)...but for some reason the&nbsp;OnMessage delegate on my&nbsp;ServerEventsClient &nbsp;is not being called...<br><br>I was wondering if there was a simple, uncluttered working example that I could take a look at to understand how the pieces all fit together?&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 30, 2014, 5:17:50 AM\n(edited Nov 30, 2014, 5:19:16 AM)","shortDate":"Nov 30, 2014","textHtml":"The Chat example is pretty lean since it fits in 1 .cs and supports both InMemory and Redis Server Events by just adding an entry for \"RedisHost\" in your AppSettings:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/Chat/blob/master/src/Chat/Global.asax.cs#L46\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/Chat/blob/master/src/Chat/Global.asax.cs#L46</a><br><br>There's also a ServiceStack.Gap/ILMerged version of Chat which is what was used to demo RedisServerEvents, you can get it at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#cross-platform-memory-and-redis-serverevent-enabled-chatexe\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#cross-platform-memory-and-redis-serverevent-enabled-chatexe</a><br><br>Also both InMemory and RedisServerEvents share the same integration tests:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/b9eb34eb80ff64fa1171d2f7f…/tests/ServiceStack.WebHost.Endpoints.Tests/ServerEventTests.cs#L169-L189\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/b9eb34eb80ff64fa1171d2f7f…d/tests/ServiceStack.WebHost.Endpoints.Tests/ServerEventTests.cs#L169-L189</a>﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 30, 2014, 5:59:31 AM","shortDate":"Nov 30, 2014","textHtml":"Thanks for the quick response, Demis.&nbsp;<br><br>so...does the initialisation for RedisServerEvents wire up the RedisPubSubServer internally?<br><br>and do I just need to call RedisServerEvents.NotifyChannel and not worry about the internals of how the message gets from the Redis queue to the client?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 30, 2014, 6:18:58 AM","shortDate":"Nov 30, 2014","textHtml":"RedisServerEvents does use RedisPubServer internally but this is an internal impl detail you don't have to worry about.<br><br>Right you can just use the `IServerEvents` API and not care if it uses InMemory or RedisServerEvents, also the client wont be able to tell which is used.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Nov 30, 2014, 7:51:48 AM","shortDate":"Nov 30, 2014","textHtml":"ok great - got it working :)<br>thanks for the help, Demis.﻿"}],"date":"Nov 30, 2014, 5:09:43 AM","shortDate":"Nov 30, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi Demis,<br>How do I resolve RegistrationService &nbsp;with custom user type from controller? I tried the following:&nbsp;<br>ResolveService&lt;RegisterService&lt;MyUserType&gt;&gt;()<br>This is returning null.<br><br>If I resolve with&nbsp;ResolveService&lt;RegisterService&gt;(), registration creates documents of type UserAuth instead of my custom type.<br><br>Thanks,<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 26, 2014, 1:41:38 AM\n(edited Nov 26, 2014, 1:53:09 AM)","shortDate":"Nov 26, 2014","textHtml":"You can only resolve a Service or Dependency that has been registered (IOTW you can't resolve something that doesn't exist).<br><br>As you've noticed the RegisterService looks at the default UserAuth:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L49\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/RegisterService.cs#L49</a><br><br>So you wont be able to use the existing RegisterService, instead you'll need to create your own custom RegisterService, e.g:<br><br>[DefaultRequest(typeof(Register))]<br>public class CustomRegisterService : RegisterService&lt;MyUserAuth&gt; { }<br><br>And register to use your own Service instead of using the built-in RegistrationFeature with:<br><br>appHost.RegisterService&lt;CustomRegisterService&gt;(\"/register\");<br>appHost.RegisterAs&lt;RegistrationValidator, IValidator&lt;Register&gt;&gt;();<br><br>Which is basically all the RegistrationFeature does:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/RegistrationFeature.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/RegistrationFeature.cs</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 26, 2014, 1:01:10 PM","shortDate":"Nov 26, 2014","textHtml":"Ah I see! Thanks!<br><br>Is there a hook like OnRegistered for OAuth providers? For example, sending out an email after registering using Facebook. OAuth callbacks hits ForwardingController, but this gets called all the time (whenever user authenticates with the service).<br><br>Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 26, 2014, 4:08:52 PM","shortDate":"Nov 26, 2014","textHtml":"Look at Session or Auth Events:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions#session-events\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions#session-events</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Dec 20, 2014, 4:23:53 PM","shortDate":"Dec 20, 2014","textHtml":"Hi Demis,<br>It doesn't look like&nbsp;OnRegistered is being called when creating account using OAuth provider(Facebook). &nbsp;I followed the example for both Session events and Auth Events. OnLogOut, OnAuthenticated works fine but not the OnRegistered. Any ideas?<br><br>Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 20, 2014, 4:48:13 PM","shortDate":"Dec 20, 2014","textHtml":"OnRegistered only gets called when user is explicitly registered using the /register service. Only OnAuthenticated() gets called for AuthProviders. Currently you'll need to load the userAuth from the authRepo in OnAuthenticated() and check that u.CreatedDate == u.ModifiedDate to see if it was just created (i.e Registered) or they're signing in again.<br><br>I'll look at adding support for OnRegistered for OAuthProviders, but it's going to require a breaking interface change.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Dec 20, 2014, 4:54:47 PM","shortDate":"Dec 20, 2014","textHtml":"I see. Thanks for the quick response! If it is a breaking change, it probably won't be added anytime sooner?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 20, 2014, 5:33:54 PM","shortDate":"Dec 20, 2014","textHtml":"It's breaking if you're implementing your own IAuthRepository otherwise if you're using existing ones you shouldn't be affected. Either way I've just added support for it in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/f2383fffd390d58d2da55dd47eb2b68110066c51\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/f2383fffd390d58d2da55dd47eb2b68110066c51</a><br><br>It's just finished going through CI and is now deploying to MyGet, will be available in 10-15 mins, will let you know when it's finished deploying﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 20, 2014, 5:40:16 PM","shortDate":"Dec 20, 2014","textHtml":"ok just finished deploying, you can get it from: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Dec 20, 2014, 6:54:35 PM","shortDate":"Dec 20, 2014","textHtml":"Works great! Thanks :)﻿"}],"date":"Nov 25, 2014, 8:19:17 PM","shortDate":"Nov 25, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Hey Demis<br><br>Something small I noticed, I don't think the code examples in this section are correct:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#reference-conventions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#reference-conventions</a><br><br>&nbsp;public Id { get; set; }&nbsp;<br><br>Missing types.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 6:00:29 PM","shortDate":"Nov 22, 2014","textHtml":"For some reason I can't really read this post - did you mean to post the API image? Which code example is incorrect? do you have actual vs proposed?﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Nov 22, 2014, 6:02:26 PM","shortDate":"Nov 22, 2014","textHtml":"Sorry about the image. Just pointing out there seems to be a problem with OrmLite's readme code snippets in the Reference Conventions section.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 6:04:27 PM","shortDate":"Nov 22, 2014","textHtml":"Which one? what's wrong with it?﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Nov 22, 2014, 7:00:53 PM","shortDate":"Nov 22, 2014","textHtml":"I think <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/100491071359445191402\" oid=\"100491071359445191402\">Dylan v.d Merwe</a></span>&nbsp;might be talking about the pseudo code starting at line 499 of the <a rel=\"nofollow\" target=\"_blank\" href=\"http://readme.md\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">readme.md</a>. Just below reference conventions title.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/README.md#reference-conventions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/README.md#reference-conventions</a><br><br>'public Id { get;set; }' is missing 'int' or 'long' etc for property type.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 7:04:18 PM\n(edited Nov 22, 2014, 7:04:34 PM)","shortDate":"Nov 22, 2014","textHtml":"ahh ok yeah, its just pseudo code - what would be better there, leave as-is, use `T` or just choose a specific datatype like `int` `long`?﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Nov 22, 2014, 7:10:29 PM","shortDate":"Nov 22, 2014","textHtml":"Probably just add 'int' I guess, would make it consistent with other snippets? People will choose most appropriate type for their app I hope.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 7:23:24 PM","shortDate":"Nov 22, 2014","textHtml":"ok cool, done.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 24, 2014, 6:26:10 PM","shortDate":"Nov 24, 2014","textHtml":"Hope so too!﻿"}],"date":"Nov 22, 2014, 5:53:17 PM\n(edited Nov 22, 2014, 6:01:18 PM)","shortDate":"Nov 22, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Possible bug in Db.UpdateOnly(model, ev) ?<br><br>I am using version 24, and did a quick test with 33 to confirm, and there appears to be a bug in the Db.UpdateOnly when using an ExpressionVisitor to specify the UpdateFields, and one of those fields is a TimeSpan. &nbsp; The console prints an error referring to \"ToUpdateRowStatement\", saying that the timespan property does not implement IConvertible.<br><br>Interestingly, the same model works fine for other other statements, selects, etc.<br><br>snippet...<br><br>foreach (Thing q in thingList)<br>{<br>var ev = OrmLiteConfig.DialectProvider.SqlExpression&lt;Thing&gt;();<br>ev.Where(t =&gt; t.Id == q.Id);<br>ev.UpdateFields = q.GetChangedFields();<br>Db.UpdateOnly&lt;Thing&gt;(q, ev);<br>}﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 20, 2014, 7:32:19 PM","shortDate":"Nov 20, 2014","textHtml":"Hi Thomas, I've found the same error when I added TimeSpan to one of the test models, this error was resolved with this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/fae59b4a246666ce34aa125ff8f439b15d982d31\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/fae59b4a246666ce34aa125ff8f439b15d982d31</a><br><br>This change has now been deployed to MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 21, 2014, 10:03:20 AM","shortDate":"Nov 21, 2014","textHtml":"Thanks.<br>The only other quirk in that code snippet is that with an EV specifying UpdateFields, I have to force a Where clause to match Ids. &nbsp;Since the command is Db.Update and a model is passed (or list of models), I would have assumed that each row would have matched Id by default. &nbsp;Feels like running an Update statement without a per-row where clause on a list is not typical (ie: update column X set = Y for all rows) and could easily break unique constraints.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 21, 2014, 2:38:03 PM","shortDate":"Nov 21, 2014","textHtml":"Using the `db.Update(row)` API uses the Id primary key by default, but if you supply new Sql Expression you're responsible for the query that gets created, just like a normal SQL Update statement.&nbsp;﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 21, 2014, 5:59:01 PM","shortDate":"Nov 21, 2014","textHtml":"I understand that part - except there is no field list as string array option. &nbsp;Typical intent of UpdateOnly as compared to Update is not to change the where clause, only the fields that change.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 22, 2014, 12:38:22 AM\n(edited Nov 22, 2014, 1:18:05 AM)","shortDate":"Nov 22, 2014","textHtml":"I'm not following, UpdateOnly is an API to be able to update only a partial set of fields with the specified where clause. There's no implicit where cause since any partial fields can be used, (i.e it's not a complete entity and doesn't have to include the PK). The API only accepts a single entity, if you want to update multiple entities call the API each time.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 24, 2014, 6:24:59 PM","shortDate":"Nov 24, 2014","textHtml":"I guess it is debatable about the implicit where clause. &nbsp;If you want we can move the question offline and I can go into more details - but it's not a big deal, easy to inject the Id.<br><br>Yes, the api is called in a loop for multiple entities.﻿"}],"date":"Nov 20, 2014, 5:50:23 PM","shortDate":"Nov 20, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"I need to perform authentication and authorization in ServiceStack using a custom OAuth 2 server. Any hint on how to deal with this?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 4:36:38 PM","shortDate":"Nov 18, 2014","textHtml":"It was asked earlier on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/106942440029912035091/posts/QM7e3sA1tEV\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/106942440029912035091/posts/QM7e3sA1tEV</a><br><br>Don't think anyone's built an OAuth server with just SS so I think the best approach is to implement it in a hybrid MVC4 + SS web app.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Nov 18, 2014, 4:43:21 PM","shortDate":"Nov 18, 2014","textHtml":"I've seen it, the problem with that solution is that auth server is MVC4 based while I'd like to have everything SS4 based.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 18, 2014, 4:54:03 PM","shortDate":"Nov 18, 2014","textHtml":"Right, although rather than spend effort trying to impl it with pure SS + DNOA, I'd treat as its own separate service and have clients authenticate it as if were a external 3rd party OAuth provider. We even did this at StackOverflow where we used a separate MVC instance to provide our own OAuth server option, even though all web apps were using MVC.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 19, 2014, 5:27:21 AM","shortDate":"Nov 19, 2014","textHtml":"Ivan, I think you can also use Identity Server v3 as a standalone OAuth2 server: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/thinktecture/Thinktecture.IdentityServer.v3\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/thinktecture/Thinktecture.IdentityServer.v3</a><br><br><span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;do you have any plans to support OpenId Connect?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Nov 19, 2014, 3:01:44 PM","shortDate":"Nov 19, 2014","textHtml":"Hi Ivan, I will jump in and offer my help, if either you need just guidance or code samples. <br>I also struggled through the process of deciding what to do and  then how to build a standalone AuthZ server with SS +DNOA (no MVC) that turned out to be satisfactory. <br>I'd be happy to share with you, and save a ton of time crafting the necessary pieces. Just ping me back if you are interested.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Nov 19, 2014, 3:18:29 PM","shortDate":"Nov 19, 2014","textHtml":"wow Jezz, you did it without MVC? SS only? Super. We started to explore the MVC way, but if your solution work I prefer it a lot! If you can help us I'll ping you directly. Thx!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 19, 2014, 3:30:27 PM","shortDate":"Nov 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;Sweet, an example of pure SS + DNOA solution would be awesome - would love to add stand-alone example and host it as a Live Demo at :) <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStackApps/LiveDemos\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStackApps/LiveDemos</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 19, 2014, 3:32:08 PM","shortDate":"Nov 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/116592973355984178567\" oid=\"116592973355984178567\">Carlos Mendes</a></span>&nbsp;No one's been asking for it on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a> -&nbsp;so it's not on any roadmap, what auth providers would it enable?﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Nov 19, 2014, 3:49:44 PM","shortDate":"Nov 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/116592973355984178567\" oid=\"116592973355984178567\">Carlos Mendes</a></span>&nbsp;I think the answer to your question is that it enables a custom AuthZ provider. So for example, we are a product company and we want to support oAuth2 (because we want to use oAuth as a technical solution to SSO), but we have learned that we also need to manage peoples credentials, not because we like to build custom software and it technically fun to do such a thing (believe me its not) , but because some of our customers prefer to &nbsp;have a discrete login with us, that does not require them to cross-polinate their identity on other social sites (facebook, google etc). They of course also have that option if they want it, but nowadays some people just don't want to tie their facebook/twitter/google account to some sensitive services.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Nov 19, 2014, 3:51:47 PM","shortDate":"Nov 19, 2014","textHtml":"To the requests, I am happy to open source the SS+DNOA AuthZ solution. Might take some investment in time, must prioritize. Happy to engage in questions and guidance at all times though.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Nov 20, 2014, 6:42:47 PM","shortDate":"Nov 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103556243471518269464\" oid=\"103556243471518269464\">Ivan Fioravanti</a></span>&nbsp;<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Guys, I have extracted the AuthZ server from our product, and intend to share on github, but I have one problem. We are using Azure and AzureTableStorage as our backend store for various bits of config for the server as well as the accounts and tokens.<br>For simplicity, I don't think you want me to bring along all that baggage with the sample (far too complex for the sample).<br>Can you please suggest a persistence store/library I could use that instead to get this going? something that does not detract the person trying to understand the AuthZ part?<br>p.s. depending on what you recommend, I might need some of your guidance, if its not familiar to me. But lets see what you say first.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 20, 2014, 6:50:29 PM\n(edited Nov 20, 2014, 6:51:01 PM)","shortDate":"Nov 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span>&nbsp;Cool, IMO the easiest approach you could extract the storage API behind a clean interface and just have ship with an in-memory impl - anyone wanting to use a different backend can implement their preferred data storage backend.&nbsp;<br><br>Otherwise if it's not much extra effort, you can use an OrmLite back-end that way the demo can use Sqlite in-memory provider so people can run the demo without any additional config or access to an existing RDBMS, whilst make it easier for them to configure to use against their preferred RDBMS when they want to use it.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Nov 20, 2014, 7:42:41 PM","shortDate":"Nov 20, 2014","textHtml":"Yep, inMem should be easily done. Will look at OrmLite as alternative if needed﻿"}],"date":"Nov 18, 2014, 4:06:12 PM","shortDate":"Nov 18, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi Demis,<br>Working on moving to totally move to ServiceStack. I've getting rid of ninject.<br>Question regarding resolving registered types. I've a following interface:<br><br>&nbsp; public interface ICommandHandler&lt;in TCommand&gt; where TCommand : ICommand<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; void Handle(TCommand command);<br>&nbsp; &nbsp; }<br><br>I register all types that implement ICommandHandler&lt;&gt; as follows:<br><br>GetType().Assembly.GetTypes()<br>&nbsp; &nbsp; .Where(x =&gt; x.IsOrHasGenericInterfaceTypeOf(typeof(ICommandHandler&nbsp;&lt;&gt;)))<br>&nbsp; &nbsp; .Each(x =&gt; container.RegisterAutoWiredType(x));<br><br>How can I then resolve or get all the CommandHandlers that implement certain command?&nbsp;<br>This throws&nbsp;ResolutionException:<br>&nbsp;_container.Resolve&lt;ICommandHandler&lt;TCommand&gt;&gt;();<br><br>In ninject I can get all the handlers using:<br><br>_kernel.GetAll&lt;ICommandHandler&lt;TCommand&gt;&gt;();<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 6:21:25 PM","shortDate":"Nov 17, 2014","textHtml":"There's no API that searches all dependencies but you already have the list of all command types at registration where you can just assign to a variable, e.g:<br><br>var commandTypes = GetType().Assembly.GetTypes()<br>&nbsp; &nbsp; .Where(x =&gt; x.IsOrHasGenericInterfaceTypeOf(typeof(ICommandHandler &lt;&gt;))).ToList();<br><br>commandTypes.Each(x =&gt; container.RegisterAutoWiredType(x));﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 6:31:11 PM","shortDate":"Nov 17, 2014","textHtml":"That is true, but how do I resolve it from a controller? I cannot resolve with:<br>&nbsp;ResolveService&lt;ICommandHandler&lt;CreateUserAccountCommand&gt;&gt;();<br>&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 17, 2014, 6:44:31 PM","shortDate":"Nov 17, 2014","textHtml":"It's dependency not a Service, so you would use TryResolve&lt;ICommandHandler&lt;CreateUserAccountCommand&gt;<br><br>But the normal way to access IOC dependencies is to specify them as public properties (or ctor args):<br><br>public ICommandHandler&lt;CreateUserAccountCommand&gt; UserCommand { get; set; }﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Nov 17, 2014, 9:45:59 PM","shortDate":"Nov 17, 2014","textHtml":"Cool Thanks!﻿"}],"date":"Nov 17, 2014, 3:28:05 PM","shortDate":"Nov 17, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Demis, my company has less than 10 employees but I purchased the business license. When I am due for an upgrade can I change that to an Indie licence?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 13, 2014, 1:30:18 PM","shortDate":"Nov 13, 2014","textHtml":"Yep sure, just send me an email to team@servicestack.net at that time.﻿"}],"date":"Nov 13, 2014, 10:28:19 AM","shortDate":"Nov 13, 2014"},{"userId":"103443274492708345815","userName":"Nic Rioux","textHtml":"Can anyone direct me towards using oauth bearer token to secure an SS API? Should I implement the OpenIDAuthProvider? Should I integrate Thinktecture IdSvr v3 ?﻿","comments":[{"userId":"103443274492708345815","userName":"Nic Rioux","date":"Nov 12, 2014, 5:55:01 PM","shortDate":"Nov 12, 2014","textHtml":"Id like to issue my own token from the credential flow (username + password) .﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 12, 2014, 10:22:25 PM","shortDate":"Nov 12, 2014","textHtml":"Something similar to this was mentioned that may help, in: <a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/106942440029912035091/posts/QM7e3sA1tEV\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/106942440029912035091/posts/QM7e3sA1tEV</a>﻿"}],"date":"Nov 12, 2014, 5:52:05 PM","shortDate":"Nov 12, 2014"},{"userId":"109640872408655177062","userName":"Colin Mackie","textHtml":"Can anyone point me at a good example of using OrmLite with UNION? I searched around but couldn't find anything.<br><br>I am trying to select a few common fields from a few tables . I know I could just build and exec the whole SQL statement, but I am trying to create an SqlExpression object so I can attach an OrderBy, Limits, etc.<br><br>For example, here is a simple version of the SQL:<br><br>select id, name from Person<br>union select id, Name from Place<br>where Name like '%mackie%'<br>order by Name<br><br>What I don't know is the best way to create the SqlExpression so my like and order can be dynamic.<br><br>e.g. something like (I know it's not right)<br><br>var query = Db.From&lt;Place&gt;().Union&lt;Person&gt;();<br>query.Where(\"Name like {0}\", \"Mackie\");<br>query.Sort(\"Name\");<br>Db.Select(query);﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 6:59:23 PM","shortDate":"Nov 6, 2014","textHtml":"OrmLite typed SQL Expressions doesn't support union, you'll have to drop down to custom SQL to use it.﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Nov 6, 2014, 7:02:19 PM","shortDate":"Nov 6, 2014","textHtml":"Ok, thanks, will do.<br><br>Out of interest is that a limitation or just not implemented, and if so, would it likely be anytime?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 7:03:12 PM\n(edited Nov 6, 2014, 7:04:28 PM)","shortDate":"Nov 6, 2014","textHtml":"It's just not implemented, you can add a feature request for it at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a><br><br>Please include an API example of what you want it to support.﻿"}],"date":"Nov 6, 2014, 6:57:54 PM","shortDate":"Nov 6, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"I have a UsersService that uses the&nbsp;ToOptimizedResultUsingCache.&nbsp;<br><br>When I call it using the ContentType 'application/json' it works fine.<br><br>But when I resolve it inside a page:<br><br>@{<br>&nbsp; &nbsp; var svc = ResolveService&lt;UsersService&gt;();<br>&nbsp; &nbsp; var response = &nbsp;(GetUserResponse) svc.Get(new GetUser {Id = 1});<br>}<br><br>I always get an error when returning the result.<br><br>I think the problem is related to the ContentType which is automatically set to 'text/html'<br><br>I tried decorating my service with the following attribute:&nbsp;<br><br>[AddHeader(ContentType = \"application/json\")]<br><br>Even so the compressed result is 'text/html' and I don't have a razor view for the UsersService.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 12:02:52 PM","shortDate":"Nov 6, 2014","textHtml":"Right if you use ToOptimizedResultUsingCache() it returns the most optimized result for that request which can be deflated html. I recommend providing an API that gets the result without cacning, e.g:<br><br>&nbsp;var response = &nbsp;(GetUserResponse) svc.GetUser(1);﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Nov 6, 2014, 12:07:57 PM","shortDate":"Nov 6, 2014","textHtml":"So I can't use the&nbsp;ToOptimizedResultUsingCache in this case?&nbsp;<br><br>Should I handle the caching manually?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 6, 2014, 2:07:07 PM","shortDate":"Nov 6, 2014","textHtml":"Because you want access to the intermediate response DTO and not the compressed serialized bytes response, you should refactor it out into another method (i.e. which doesn't use&nbsp;ToOptimizedResultUsingCache()) and call that instead.﻿"}],"date":"Nov 6, 2014, 11:45:03 AM","shortDate":"Nov 6, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Hi, I need to run a long-running process (let's say upto an hour) on an azure website which is based on ServiceStack. &nbsp;What is the best pattern for long-running durable processes that will work within Azure's threading model?<br><br>I want the INSTIGATOR client to start the job off and be notified of progress (even if the client leaves the progress page and then returns - progress update should be accurate and updated in real time. &nbsp;If a new client (different user/machine etc) navigates to the progress page, they should also be notified. &nbsp; There are a couple of options here - any input would be appreciated. &nbsp;<br><br>I already use Azure Redis for Caching. &nbsp;The options as I see it are:<br><br>1. Instigator calls service which creates an appropriate row in a table representing the Job, and also a Azure Queue item which triggers WebJob within Azure. &nbsp;The WebJob code updates the Job row in the table with progress, meanwhile the client is polling a service that returns the current progress. &nbsp;Doesn't fill me with joy this one.<br><br>2. Use RedisMQ and Server Sent Events to do this. &nbsp;Instigator submits request to start job and at same time opens EventSource to listen for SSEs. &nbsp;As progress is updated, an SSE is sent out. &nbsp;SS example seems to suggest this is possible, but don't know the threading implications. &nbsp; I guess the question here is would this work within an Azure website and Azure Redis? or do you need some other runtime which are executing the long-running stuff? &nbsp;This is my preferred approach if it's feasible as it would mean that all clients would be updated of progress without polling.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 5, 2014, 12:34:43 PM","shortDate":"Nov 5, 2014","textHtml":"My personal pref is #2, nice thing about SSE is that it's just a long-lived HTTP connection so should work anywhere HTTP does. Azure Redis Cache is full-featured so that should be fine. RedisMQ is basically just background threads running in <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> app on App_Startup. I didn't think there was a different threading model for Azure Websites, AFAIK it's just a normal <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> web app? (i.e. Win2008/IIS) so background threads should be ok.﻿"},{"userId":"109143533670356077374","userName":"Graham Laidler","date":"Nov 5, 2014, 12:36:47 PM","shortDate":"Nov 5, 2014","textHtml":"Ok great - just wanted to check there wasn't any dependency on another background runtime - excellent. &nbsp;Many thanks.﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Nov 5, 2014, 5:08:40 PM","shortDate":"Nov 5, 2014","textHtml":"Keep in mind the danger of using background thread in <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a><br><br>I strongly recommend that your long running task runner implement the IRegisteredObject interface to properly stop your long running operations since the AppDomain could be shutdown by IIS during a AppPool recycling...<br><br>And also un handle exception in background thread will kill the AppDomain and doing so more than a couple of time for a certain period will result by having IIS not starting your website anymore and client will start receiving a Service Unavailable response<br><br>A good read<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://haacked.com/archive/2011/10/16/the-dangers-of-implementing-recurring-background-tasks-in-asp-net.aspx/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://haacked.com/archive/2011/10/16/the-dangers-of-implementing-recurring-background-tasks-in-asp-net.aspx/</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 5, 2014, 6:01:32 PM\n(edited Nov 6, 2014, 3:38:15 AM)","shortDate":"Nov 5, 2014","textHtml":"Sure, tho we were running RedisMQ in StackOverflow Careers for over a year without any exceptions bringing down the AppDomain. The one thing I will add is that if the website is not frequently hit it's a good idea to add a periodic ping check (e.g. using Pingdom or Runscope) to keep the AppDomain up, since background threads themselves wont.﻿"},{"userId":"101370136631738218116","userName":"Graham Laidler","date":"Nov 7, 2014, 4:20:11 AM","shortDate":"Nov 7, 2014","textHtml":"Thanks all - Demis, did you do anything with &nbsp;IRegisteredObject when using RedisMQ previously?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 7, 2014, 12:01:04 PM","shortDate":"Nov 7, 2014","textHtml":"Nope I didn't register it with IRegisteredObject myself.﻿"}],"date":"Nov 5, 2014, 12:14:32 PM","shortDate":"Nov 5, 2014"},{"userId":"117419102482866616321","userName":"Stephen Patten","textHtml":"Would like the core team to weigh in on this if they can. I do realize that after the latest release you need some downtime though :)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 4, 2014, 10:55:41 PM","shortDate":"Nov 4, 2014","textHtml":"Just answered and committed a fix. Yep it's&nbsp;always really busy playing catchup after a big release.﻿"},{"userId":"117419102482866616321","userName":"Stephen Patten","date":"Nov 5, 2014, 8:16:25 AM","shortDate":"Nov 5, 2014","textHtml":"I upgraded to 34 and verified the fix, kudos Demis. As always , thank you﻿"}],"date":"Nov 4, 2014, 10:41:35 AM","shortDate":"Nov 4, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Added a feature request to allow the Json Serializer to use single-quotes.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Nov 3, 2014, 3:30:14 PM","shortDate":"Nov 3, 2014","textHtml":"Honestly I'd be suspicious of JSON tools using single quotes since that would no longer be valid JSON:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.json.org\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.json.org</a>﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Nov 4, 2014, 8:03:15 AM","shortDate":"Nov 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Yeah, after a bit of research, I'd have to agree... which is why I deleted the request.﻿"}],"date":"Nov 3, 2014, 3:12:31 PM","shortDate":"Nov 3, 2014"},{"userId":"108837195696109224948","userName":"Pawel Kasperek","textHtml":"Hi,<br><br>I check that in ServiceStack Service.cs class is opened Db Connection on every time when is called request. Maybe exists solution to open Db Connection only one time (during start service or self-host application). Of course this factory should be resolved any exception as disconnecting all opened connection by database.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 28, 2014, 7:48:26 AM\n(edited Oct 28, 2014, 8:16:34 AM)","shortDate":"Oct 28, 2014","textHtml":"That wouldn't be threadsafe, but you can still do that if you want with a static property that your Services can access that's opened on Startup in AppHost.Configure.<br><br>Also opening a new db connection is not an issue for DB providers that use pooled connections like SqlServer does by default.﻿"},{"userId":"108837195696109224948","userName":"Pawel Kasperek","date":"Oct 28, 2014, 10:44:08 AM","shortDate":"Oct 28, 2014","textHtml":"Hi Dennis,<br>I use PostgreSQL database and the time of open connection is too long. This problem is in Npgsql driver and PostgreSQL backend. The resolution with opening connection on Startup in AppHost isn't elegance :) . The second solution with use pooled connections like SqlServer should be better. I try check it and of course impemented﻿"}],"date":"Oct 28, 2014, 7:40:23 AM","shortDate":"Oct 28, 2014"},{"userId":"115683278813749836094","userName":"Daniel Halan","textHtml":"Retrieving Service in UnitTesting,&nbsp;<br>The use of ApiTestContext.AppHost.Container.Resolve&lt;MyServices&gt;(); to retrieve a Service doesn't initiate the Response Property, which is Protected so mocking it afterwards is not possible. Is this correct behavior?&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 7:32:15 AM","shortDate":"Oct 26, 2014","textHtml":"You mean the Request Context? Yeah that's only available at runtime (i.e. not from the IOC). You want to use the `ResolveService&lt;T&gt;` API's which also injects the current Request Context, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/23809669/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/23809669/85785</a>&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 7:39:43 AM","shortDate":"Oct 26, 2014","textHtml":"Depending on your test you can mock the Request Context with:<br>service.Request = new BasicRequest(dto);&nbsp;<br><br>The RequestContext can also be used to execute services with: appHost.ExecuteService(requestDto, reqCtx);<br><br>Some examples at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Common.Tests/ManageRolesTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Common.Tests/ManageRolesTests.cs</a>﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Oct 26, 2014, 10:27:45 AM","shortDate":"Oct 26, 2014","textHtml":"Actually 'Response', as Request is a Public property its easy to assign it using Moq. What does the 'AppHost.Container.Resolve&lt;T&gt;()' &nbsp;initiate beside creating the Service Class?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 26, 2014, 11:32:18 AM","shortDate":"Oct 26, 2014","textHtml":"Nothing, that API literally just resolves the dependency from the IOC.﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Oct 26, 2014, 1:24:55 PM","shortDate":"Oct 26, 2014","textHtml":"Ok﻿"}],"date":"Oct 26, 2014, 7:24:31 AM","shortDate":"Oct 26, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Any chance UpdateAll&lt;T&gt; could be extended to also offer \"only fields\" options that are in the UpdateOnly&lt;T&gt;?<br><br>I would like to frequently update only specific fields on a list of objects, and thought it could benefit ORMLite to offer this, instead of ForEach'ing the UpdateOnly&lt;T&gt; which incurs multiple db round-trips.<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 24, 2014, 8:26:45 PM\n(edited Oct 25, 2014, 4:11:19 AM)","shortDate":"Oct 24, 2014","textHtml":"UpdateAll still incurs multiple DB hits, each updated item can have different values to be updated, i.e. it's not a single update query that updates all elements.&nbsp;<br><br>Also you wouldn't be extending the existing UpdateAll method which from an API convention doesn't fit, it would likely need to be UpdateOnlyAll(). Although UpdateOnly already offers an override that accepts `where:` expression which can already be used to update multiple items in a single statement.&nbsp;<br><br>Do you have a concrete example usage for the proposed API? I'm curious if this is something that can be updated in a single statement or it's just going to be a wrapper that foreach's over UpdateOnly.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Nov 7, 2014, 4:31:46 PM","shortDate":"Nov 7, 2014","textHtml":"sorry for delay - was out of town.<br><br>I had assumed that UpdateAll was generating a combo SQL statement that would update each record with each value. &nbsp;If it foreach's through the list of items, then not much difference to do it client side I guess.<br><br>As for an example, let's say I have in memory an array of players and I want to update all players' points property. &nbsp;(can't update all players directly because other APIs might have updated the Name, Nickname, etc. fields.).<br><br>So, would be something like:<br><br>Db.UpdateAll(playerList, \"points\")<br><br>(\"points\" is probably an EV with the field list that matches the definition signature of UpdateOnly)﻿"}],"date":"Oct 24, 2014, 3:11:38 PM","shortDate":"Oct 24, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Demis, as I understand, your tests are the best source of information. Till now, I download with GitHub the full ServiceStack solution, in order to find, examine and run the tests. Is it possible to have a separate project in GitHub, the updated tests only, with compiled ServiceStack libraries, to download ? Correct me, please if there is already a more simple way, that I don't know.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 22, 2014, 8:39:19 PM\n(edited Oct 22, 2014, 8:40:46 PM)","shortDate":"Oct 22, 2014","textHtml":"Many of the compiled ServiceStack dlls can be found on:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/lib\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/lib</a><br>The ServiceStack repo is completely stand-alone which contains everything needed to run the tests. Some of the tests also require infrastructure deps like Redis and RabbitMQ when needed.<br><br>The latest libs can also be found on MyGet (which are published very frequently):<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Oct 22, 2014, 8:57:07 PM","shortDate":"Oct 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;I&nbsp; synchronize the&nbsp; ServiceStack&nbsp; to get the latest tests .<br>I know also the problem with infrastructure, Redis especially. &nbsp; In order to update the ServiceStack in our projects, I have a central&nbsp; solution/project, only for the installation. Then all real projects refer to the installation bin directory.&nbsp; In the installation solution, I copy&nbsp; some of your tests, together with mine, so to have some live examples,&nbsp; for future use.<br>I will continue to do like that.﻿"}],"date":"Oct 22, 2014, 8:26:08 PM","shortDate":"Oct 22, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Some advice needed (rather than purely tech). &nbsp;I need to implement Role-based permissions, where Permissions are attached to Roles rather than to individual Users, which is the case out-of-the-box.<br><br>I know that there is a HasPermission method in IAuthSession, which I can override, but really want a steer on the best approach of where to store the roles/permissions mappings - there are a number of options (list below may not be exhaustive) - any advice appreciated.<br><br>1. &nbsp;Store the Roles/Permissions mapping in database (and Cache), and populate the User's Permission list as they log &nbsp;in.<br>2. As above, but query cache each time a service method is executed.<br><br>also, any experience of the best way of storing permissions - db/cache with list of strings or an enum?<br><br>Any help appreciated!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 21, 2014, 6:56:08 PM","shortDate":"Oct 21, 2014","textHtml":"Hi Graham, I've added a section on customizing Roles/Permissions on the wiki:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#customizing-user-roles-and-permissions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#customizing-user-roles-and-permissions</a><br><br>It outlines the different approaches in ServiceStack:<br>1) The default behavior where Roles/Permissions are stored/validated on UserAuth<br>2) The&nbsp;AspNetWindowsAuthProvider uses this to add additional Roles/Permissions on the Session on authentication.<br>3) Describing how the existing behavior can be overridden by&nbsp;IAuthRepository which implement&nbsp;IManageRoles APIs.&nbsp;OrmLiteAuthRepository uses this API to provide its `UseDistinctRoleTables=true` feature where Roles/Permissions are instead stored in a separate UserAuthRole table which stores both Roles/Permissions that gets looked up each time (i.e. doesn't get cached with IAuthSession):<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs#L110\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/UserAuth.cs#L110</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Oct 23, 2014, 4:58:25 PM","shortDate":"Oct 23, 2014","textHtml":"Our current approach is to have a table that lists all available permission strings so that in our web-app, an admin can easily assign permissions to various user accounts. &nbsp;Adding new permissions is easily done with 0 code changes by adding entries to that table (and obviously any code that requires that new permission).<br><br>Also use the distinct tables feature, so that any addition or removal of a permissions is done and \"visible\" in that extra table, instead of a joined string in the user.<br><br>Permissions are \"hand loaded\" (session.Permissions.Add(...)) OnAuthenticated via a custom auth provider.<br><br>Roles we haven't tacked yet, but we will do so by having a table to map Roles with Permissions, then use our existing permission loader to include those in that user's role. &nbsp;This way, again via our web-app, an admin can create roles and decide what that role can or cannot do.﻿"},{"userId":"109143533670356077374","userName":"Graham Laidler","date":"Oct 31, 2014, 7:11:56 AM","shortDate":"Oct 31, 2014","textHtml":"Thanks - I opted to have permissions as an enum stored against roles as blobbed list of strings. &nbsp; Permissions are populated into AuthSession on login.﻿"}],"date":"Oct 21, 2014, 5:33:34 AM","shortDate":"Oct 21, 2014"},{"userId":"113300323174695450381","userName":"Vincent Haubruge","textHtml":"Hello!<br><br>Can I specify a timeout for a sql request using this syntax &nbsp;:<br><br>var ev = OrmLiteConfig.DialectProvider.SqlExpression&lt;xxx&gt;();<br>Db.Select(ev);<br><br>thank you,<br><br>Vincent﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 17, 2014, 2:57:44 PM\n(edited Oct 17, 2014, 2:58:51 PM)","shortDate":"Oct 17, 2014","textHtml":"You can set `CommandTimeout` on OrmLiteConfig, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25911260/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25911260/85785</a>﻿"}],"date":"Oct 17, 2014, 10:19:24 AM","shortDate":"Oct 17, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"We are going to use the&nbsp; &nbsp; Power BI&nbsp; to provide BI functionality through&nbsp; Excel to our power users ( preferable&nbsp; not from Azure, but from our on premise datasources).&nbsp; I&nbsp; have not dig deeply yet, so maybe my thoughts are not correct.&nbsp; I think at first, instead of&nbsp; SQL Views, to use&nbsp; our services&nbsp; as datasources. Is it possible ? (I think yes and&nbsp; preferable). Using&nbsp; Power Query&nbsp; like in the link <a rel=\"nofollow\" target=\"_blank\" href=\"http://cwebbbi.wordpress.com/2014/03/26/working-with-web-services-in-power-query/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://cwebbbi.wordpress.com/2014/03/26/working-with-web-services-in-power-query/</a>&nbsp; . Any experience, possible problem ? security ? &nbsp; I don't think we can use AutoQuery in the back-end ? Again maybe I don't express well my thoughts. Power BI with Excel is indeed powerful. thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 15, 2014, 2:17:39 PM\n(edited Oct 15, 2014, 3:04:33 PM)","shortDate":"Oct 15, 2014","textHtml":"I've no experience with PowerBI, but if they provide integration with simple REST JSON/XML services I would explore that avenue first. Likewise if they have special support for CSV or WSDL's you can try those endpoints/formats.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Oct 15, 2014, 5:24:55 PM\n(edited Oct 15, 2014, 5:25:52 PM)","shortDate":"Oct 15, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; they provide integration with JSON/XML using the new&nbsp; Power Query (with M code, as in the link in my first post). One problem is that they don't create automatically relationships between the tables , as it does with SQL Server&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"http://cwebbbi.wordpress.com/2014/09/02/create-your-own-relationships-between-tables-in-the-excel-data-model-with-power-query/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://cwebbbi.wordpress.com/2014/09/02/create-your-own-relationships-between-tables-in-the-excel-data-model-with-power-query/</a>&nbsp;&nbsp;<br>For this reason I thought about WSDL also, but I have time to test it.﻿"}],"date":"Oct 14, 2014, 11:29:28 PM\n(edited Oct 15, 2014, 1:21:09 AM)","shortDate":"Oct 14, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Can I open a discussion on how to apply CSRF protection on a ServiceStack API when consumed by a javascript client (such as an angularjs client).<br>I am looking for implementation patterns that have been proven to work. Has anyone got one working?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 10, 2014, 1:37:51 PM\n(edited Oct 10, 2014, 2:19:15 PM)","shortDate":"Oct 10, 2014","textHtml":"Seems the strategy for AngularJS is to set a `XSRF-TOKEN` Cookie with a Token that AngularJS will read and post back for non-GET requests in the `X-XSRF-TOKEN` HTTP Header:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/14110096/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/14110096/85785</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Oct 12, 2014, 2:26:46 PM","shortDate":"Oct 12, 2014","textHtml":"So, more specifically what I am looking for is  implmentation patterns involving ServiceStack.<br> <br>Angular makes the suggestion for the channel mechanism (only) by which the data can be passed (i.e. XSRF-TOKEN). <br>But it makes no recommendation as to when and how the token is first created, and persisted/updated by client (presuming thatthe API will continuously create new tokens over time for the client to use for each POST/PUT/DELETE)<br><br>So, I  was looking at strategies people have used to add this CSRF aspect to their solutions.<br>(The discussion was meant to  weigh up different options, since there seems to be no standard ways to do this yet. At least no one seems to have shared theirs yet)<br><br>﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Oct 23, 2014, 12:27:58 AM\n(edited Oct 23, 2014, 12:34:15 AM)","shortDate":"Oct 23, 2014","textHtml":"Hi Jeff, why you'd like to change the token for each operation? We create it once during user authentication as a digest of the SessionId with a random salt and send it back to client. AngularJS will send it back to each request in both cookie and header and you can use a global filter to check of they match.<br>Just keep in mind that if you use CORS (i.e. www. calling api.) you'll have to implement additional checks like: origin and refer matching if present.<br><br>Hope this helps﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Oct 27, 2014, 8:30:19 PM","shortDate":"Oct 27, 2014","textHtml":"Thanks Ivan, I will look at that﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Oct 28, 2014, 1:02:57 AM","shortDate":"Oct 28, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103556243471518269464\" oid=\"103556243471518269464\">Ivan Fioravanti</a></span>&nbsp;Ivan can you tell me how you took a digest of the authentication cookie in MVC? I am missing that one piece of implmentation﻿"}],"date":"Oct 10, 2014, 4:22:49 AM","shortDate":"Oct 10, 2014"},{"userId":"105852093932302478746","userName":"Wayne Douglas","textHtml":"Hi, I've posted a question to SO. I've kind of answered it myself but still worried I've got something wrong. <br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/26234186/servicestack-ormlite-upadte-child-collection\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/26234186/servicestack-ormlite-upadte-child-collection</a><br><br>I'm concerned the parent table has the reference data as JSON in the column as well as it being added to the reference table. <br><br>Is this normal?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 7, 2014, 4:24:51 PM\n(edited Oct 7, 2014, 4:30:37 PM)","shortDate":"Oct 7, 2014","textHtml":"I see you're comparing your example to an example that uses [Reference]'s which is why the behavior is different. By default all complex types are blobbed in OrmLite or you can use [Reference] to change this behavior see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/#reference-support-poco-style\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/#reference-support-poco-style</a><br><br>But honestly I find it's hard to work out what the actual question is, what \"doesn't work\" means, why the solution is ugly or what you're expecting.﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Oct 8, 2014, 1:24:49 AM","shortDate":"Oct 8, 2014","textHtml":"Well, in the docs it says you can set [reference] and in the referenced entity have {parent}Id property and then save the graph and ormlite sorts the relations and pushes them all to their respective tables.<br><br>My parent object is created further up the callstack. I want to update the parent object by adding some relational data. <br><br>You can't do this by just calling update, I figured that out.<br><br>Now my question is; why is it storing JSON as well as the relational data in the reference table? I'm guessing the JSON isn't automatically updated when the relational data is, if that's the case then I don't really want it. If it does then that's amazing, I'll keep it.<br><br>Basically there's not a lot of docs on this. Particularly around updating collections. Any help appreciated as always. ﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 8, 2014, 12:59:51 PM\n(edited Oct 8, 2014, 1:01:26 PM)","shortDate":"Oct 8, 2014","textHtml":"A few things: `db.Save()` handles both Insert and Update, if you want to update references of a Poco its child collections needs to be marked with `[Reference]` and you'd need to use the `db.Save(item,references:true)` API. If you don't include `references:true` it will only save the parent.&nbsp;If you only want to update the references on their own then you can use `db.SaveReferences(parent, parent.childRefs)` more info at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/LoadReferencesTests.cs#L235\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/LoadReferencesTests.cs#L235</a><br>To load a class with references you need to use `db.LoadSelect()`. It shouldn't be both blobbing to the parent and saving to both the database. Can you publish the full source code that I can repro to:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Oct 9, 2014, 2:06:42 PM","shortDate":"Oct 9, 2014","textHtml":"Cheers - that explains a lot - I will try and look into what is happening with the blobbing but it is likely my lack of understanding<br>&nbsp;﻿"}],"date":"Oct 7, 2014, 3:44:36 PM","shortDate":"Oct 7, 2014"},{"userId":"116458944481004703771","userName":"Nick Karnik","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/26199849/custom-error-pages-in-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/26199849/custom-error-pages-in-servicestack</a>﻿","comments":[{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Oct 5, 2014, 3:08:06 AM","shortDate":"Oct 5, 2014","textHtml":"Is there a way to serve a static file without using RazorHandler? Also, when I'm checking file auth through a RawHttpHandler, I don't get a 404 since I check if the user is authenticated and redirect to the login page. What should I change in my approach?﻿"}],"date":"Oct 5, 2014, 1:14:47 AM","shortDate":"Oct 5, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Excuse me is there a way I can redirect to &nbsp;a url after a logout?<br>What I'm trying to do is to call an action on a my logout controller, then logout via SS (in order to kill session) and then return to login url<br><br>something as<br><br>&nbsp; public ActionResult Index()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // [ Some Clean up ]&nbsp;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return Redirect(\"~/api/auth/logout?ReturnUrl=<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.google.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">www.google.com</a>\");<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 2, 2014, 12:16:17 PM","shortDate":"Oct 2, 2014","textHtml":"Yes, see this answer on StackOverflow for different examples:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25227684/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25227684/85785</a><br>i.e. you can use the `?continue` parameter.﻿"}],"date":"Oct 2, 2014, 11:26:49 AM","shortDate":"Oct 2, 2014"},{"userId":"115683278813749836094","userName":"Daniel Halan","textHtml":"Is there any [attribute] to force specific properties to only be defined in query string, and \"not\" part of body?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 25, 2014, 2:18:41 PM","shortDate":"Sep 25, 2014","textHtml":"No there's no attributes to change request binding behavior. You can inspect the incoming base.Request otherwise you can override it with your own request binding impl.﻿"},{"userId":"115683278813749836094","userName":"Daniel Halan","date":"Sep 25, 2014, 2:35:09 PM","shortDate":"Sep 25, 2014","textHtml":"Ok﻿"}],"date":"Sep 25, 2014, 2:10:54 PM","shortDate":"Sep 25, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, on a production server where I've FW .net 4.0 installed I got this exception when I'm using 4.0.31<br><br>--------------------------------------------------------------------------------<br><br>Could not load file or assembly 'System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or one of its dependencies. The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)&nbsp;<br>Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.&nbsp;<br><br>Exception Details: System.IO.FileLoadException: Could not load file or assembly 'System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or one of its dependencies. The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)<br><br>Source Error:&nbsp;<br><br>An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below. &nbsp;<br><br>Assembly Load Trace: The following information can be helpful to determine why the assembly 'System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' could not be loaded.<br><br><br>WRN: Assembly binding logging is turned OFF.<br>To enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.<br>Note: There is some performance penalty associated with assembly bind failure logging.<br>To turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].<br><br>&nbsp;<br><br>Stack Trace:&nbsp;<br><br><br>[FileLoadException: Could not load file or assembly 'System, Version=2.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e, Retargetable=Yes' or one of its dependencies. The given assembly name or codebase was invalid. (Exception from HRESULT: 0x80131047)]<br>&nbsp; &nbsp;ServiceStack.VirtualPath.FileSystemVirtualPathProvider.Initialize() +0<br>&nbsp; &nbsp;ServiceStack.ServiceStackHost.Init() +393<br><br><br>&nbsp;Is this related to PCL? I've added System.Net as suggested but with no luck<br><br>Thanks﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 23, 2014, 5:00:12 AM","shortDate":"Sep 23, 2014","textHtml":"If your server is running .NET 4.0, you might need a patch. Some related links.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/25859049/servicestack-nuget-update-4-0-22-to-4-0-31-caused-errors-on-deployment/25863800\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/25859049/servicestack-nuget-update-4-0-22-to-4-0-31-caused-errors-on-deployment/25863800</a><br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/23903657/could-not-load-file-or-assembly-system-version-2-0-5-0-in-net-4-mvc-4-applicat\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/23903657/could-not-load-file-or-assembly-system-version-2-0-5-0-in-net-4-mvc-4-applicat</a><br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://support.microsoft.com/kb/2468871\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://support.microsoft.com/kb/2468871</a>﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Sep 23, 2014, 5:08:46 AM","shortDate":"Sep 23, 2014","textHtml":"Hello Darren, do you know if a reboot is required?<br><br>Thanks﻿"},{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 24, 2014, 10:35:50 PM","shortDate":"Sep 24, 2014","textHtml":"last link provided (<a rel=\"nofollow\" target=\"_blank\" href=\"http://support.microsoft.com/kb/2468871\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://support.microsoft.com/kb/2468871</a>) has a section on restart requirements:<br><br>\"Restart requirement<br><br>This update does not require a system restart after you apply the update unless the files that are being updated are locked or are being used. However, this update restarts all Internet Information Services (IIS)-related services when you install this update.\"﻿"}],"date":"Sep 23, 2014, 4:43:21 AM","shortDate":"Sep 23, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"I'm using a custom auth user session. Do I have to do anything more than init it in the AuthFeature constructor in order for it to save off my custom properties to the cache (I'm using redis) ? I'm sure this is my issue, can't seem to track it down.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 21, 2014, 6:30:24 PM","shortDate":"Sep 21, 2014","textHtml":"Do you have [DataMember] attributes annotated on your Custom UserSession?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 21, 2014, 6:31:17 PM","shortDate":"Sep 21, 2014","textHtml":"No I don't good call. I'll try that﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Sep 21, 2014, 6:34:53 PM","shortDate":"Sep 21, 2014","textHtml":"Yup that was it! Thanks Demis!﻿"}],"date":"Sep 21, 2014, 6:19:58 PM","shortDate":"Sep 21, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi,<br><br>I'm using SS Razor plugin to serve pages.<br><br>I would like to use \"Vanity URLs\" (I'm not sure if this is the correct term).<br><br>So using a StackOverflow url as an example I want to include some text with the question title in the URL:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/9699083/servicestack-vs-asp-net-web-api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/9699083/servicestack-vs-asp-net-web-api</a><br><br>What they seem to be doing is a 301 redirect to the full URL above if we use the URL without the&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/9699083\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/9699083</a><br><br>Any suggestions on how to implement this? Are there any drawbacks?<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 20, 2014, 5:19:42 PM","shortDate":"Sep 20, 2014","textHtml":"Declare multiple routes for your service, 1 with the vanity url and 1 without.&nbsp;Then in your service just check that the Vanity path is populated, if not redirect by returning HttpResult.Redirect().﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Sep 20, 2014, 5:34:46 PM","shortDate":"Sep 20, 2014","textHtml":"Thanks.<br><br>I use the&nbsp;UrlExtensions to generate links. In this scenario, with two different routes for the same DTO how would it work?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 20, 2014, 5:57:35 PM\n(edited Sep 20, 2014, 6:14:22 PM)","shortDate":"Sep 20, 2014","textHtml":"Try it and see, it should use the best matching route by default.﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Sep 20, 2014, 7:21:16 PM","shortDate":"Sep 20, 2014","textHtml":"Thks!﻿"}],"date":"Sep 20, 2014, 4:55:53 PM","shortDate":"Sep 20, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"I think I might have found an odd quirk in the Redis client when using generic types:<br><br>this fails: &nbsp;var obj = Redis.GetFromHash&lt;T&gt;(id)&nbsp;<br>this works: &nbsp;var obj = Redis.GetFromHash&lt;MyCustomClass&gt;(id)&nbsp;<br><br>Oddly, in the version that fails using generic type T, Redis correctly generates the key, can correctly fetch the hash entries using&nbsp;GetAllEntriesFromHash, but the feeding to JSON deserializer throws exception. &nbsp;Haven't yet gone into the source code yo identify a workaround.<br><br>Thoughts anyone?﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Sep 15, 2014, 6:26:08 PM","shortDate":"Sep 15, 2014","textHtml":"What's &lt;T&gt; at the time of the GetFromHash method call that fails?&nbsp;﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Sep 16, 2014, 9:50:22 AM","shortDate":"Sep 16, 2014","textHtml":"Can be a few different classes that I am using. &nbsp;the GetFromHash is wrapped in a generic method so that the same steps can be applied to multiple types that are used. &nbsp;The strange part is that if the type is passed generically via a &lt;T&gt; method, it failed, but when the type was specified explicitly, it succeeded.﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Sep 16, 2014, 9:56:16 AM","shortDate":"Sep 16, 2014","textHtml":"[Solved] &nbsp;User error. &nbsp; <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110442811540426884982\" oid=\"110442811540426884982\">Darren Reid</a></span>&nbsp; your question prompted me to look more closely at the type that was passed to the method, and found that it was ambiguous between a different type, with same name, in the SS framework. &nbsp;So, the calling class was passing the service stack's T, and the class receiving it doing the work had my namespaces defined and was trying to deserialize into a different T.<br><br>Works like a charm now.﻿"}],"date":"Sep 15, 2014, 6:21:52 PM\n(edited Sep 15, 2014, 6:22:19 PM)","shortDate":"Sep 15, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there,<br>I've an existing MVC application using Ninject. Currently we are using Command/CommandHandler pattern to resolve dependencies. With Ninject, I can bind/register all my CommandHandlers using convention like:&nbsp;<br>Bind -&gt; FromAssemblyContaining -&gt; SelectAllClasses -&gt; InderitedFrom -&gt; (typeof(ICommandHandler&lt;&gt;))...<br>With the convention I don't need to manually register every single command handler.<br><br>Is there a way to achieve this using Funq? I could utilize Funq's container adapter and still use Ninject but I'd love to just use Funq and stay as much closer to ServiceStack's way of doing things.<br><br>Any suggestions/ ideas would be awesome :)<br><br>Thanks!<br>Kebin﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 15, 2014, 12:56:39 PM","shortDate":"Sep 15, 2014","textHtml":"Hi Kebin, you can traverse the assembly and register all matching types with:&nbsp;<br><br>GetType().Assembly.GetTypes()<br>&nbsp; &nbsp; .Where(x =&gt; x.IsOrHasGenericInterfaceTypeOf(typeof(ICommandHandler&lt;&gt;)))<br>&nbsp; &nbsp; .Each(x =&gt; container.RegisterAutoWiredType(x));<br><br><br>I've created a unit test that shows an example of this at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/f0d319b5dcf0275cc04fbc00e4741a24c0e15baf\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/f0d319b5dcf0275cc04fbc00e4741a24c0e15baf</a>﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Sep 18, 2014, 11:53:08 AM","shortDate":"Sep 18, 2014","textHtml":"Awesome! Thanks Demis :)﻿"}],"date":"Sep 14, 2014, 3:29:41 PM","shortDate":"Sep 14, 2014"},{"userId":"111439384271395523193","userName":"Uri Hendler","textHtml":"Is there any way to tell from a request DTO if a request filter attribute exists on the service method?<br><br>It's straightforward to find the attributes directly on the DTO by calling dtoType.AllAttributes&lt;CustomRequestFilterAttribute&gt;(), but this doesn't help if the request filter attribute is on the service method, e.g.:<br>[CustomRequestFilter]<br>public object Post(HelloRequest request)&nbsp;{ }<br><br>As far as I can tell, the ServiceExec&lt;TService&gt; class is the only place where request/response filter attributes are queried (from the MethodInfo of the service method).<br><br>The&nbsp;FilterAttributeCache.GetRequestFilterAttributes only returns attributes on the class level (DTO or service), not on the method level.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 12, 2014, 9:22:28 AM","shortDate":"Sep 12, 2014","textHtml":"No there's no public API for it, it's maintained internally in ServiceExec&lt;T&gt;&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceExec.cs#L46\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Host/ServiceExec.cs#L46</a><br>If you just want to find out what Action attributes there are you're better off reflecting off the Service Type yourself, there's a public serviceType.GetActions() ext method that can help. But if you want to execute the action filters like a normal request than you call ServiceController.Execute() as in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25282718/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25282718/85785</a>﻿"}],"date":"Sep 12, 2014, 8:55:38 AM","shortDate":"Sep 12, 2014"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","textHtml":"We're facing an issue with HasRole method returning false using Redis as ICacheClient and we're going crazy with this one.<br><br>Everything works properly with InMemoryCache. We are using a CustomUserSession, with MongoDB as IUserAuthRepository.&nbsp;<br><br>Any clues?﻿","comments":[{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 11, 2014, 11:14:16 AM","shortDate":"Sep 11, 2014","textHtml":"Debugging we've seen that at line 38 of RequiredRoleAttribute.cs:<br><br>var session = req.GetSession();<br><br>session is retrieved from the ASPNET request, it's not null, but it's empty. while in Redis cache the session is full with all data.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 11, 2014, 2:42:36 PM","shortDate":"Sep 11, 2014","textHtml":"I debugged this and I found something strange: problem lies in following line of GetSession in ServiceExtension.<br><br>var session = cache.Get&lt;IAuthSession&gt;(SessionFeature.GetSessionKey(sessionId));<br><br>using Redis as Cache is null, but if I call:<br><br>var session = cache.Get&lt;AuthUserSession&gt;(SessionFeature.GetSessionKey(sessionId));<br><br>session is correctly deserialized from Redis and everything works properly.﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 11, 2014, 2:50:49 PM","shortDate":"Sep 11, 2014","textHtml":"SOLVED!!!!!<br>I added:&nbsp;<br>JsConfig&lt;MyCustomAuthUserSession&gt;.IncludeTypeInfo = true;<br><br>The strange thing is that I had:<br>ServiceStack.Text.JsConfig.ExcludeTypeInfo = false;<br><br>So it should have work in any case... strange. But it works!!!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 5:02:19 PM","shortDate":"Sep 11, 2014","textHtml":"Odd, it should be working by default. What other JsConfig settings do you have? Also does your&nbsp;MyCustomAuthUserSession DTO have [DataMember] properties, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Sessions#using-typed-sessions-in-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Sessions#using-typed-sessions-in-servicestack</a>﻿"},{"userId":"103556243471518269464","userName":"Ivan Fioravanti","date":"Sep 12, 2014, 4:14:47 AM","shortDate":"Sep 12, 2014","textHtml":"I had:<br>JsConfig.EmitCamelCaseNames = true;<br><br>And DataMember attribute was there.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 12, 2014, 4:46:08 AM","shortDate":"Sep 12, 2014","textHtml":"Weird, I've got tests working in each Cache Provider for custom auth sessions:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Properties/CacheClientTests.cs#L242\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Properties/CacheClientTests.cs#L242</a>\nI'll see if I can repro in a test project using a RedisClient Cache, otherwise will need a repro test case.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 12, 2014, 4:59:23 AM","shortDate":"Sep 12, 2014","textHtml":"Still works in test integration project, I've added some test Session services using Redis CacheClient in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Test/commit/d55f132aeb7a0d069994e93a7b9891f7593b99c1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Test/commit/d55f132aeb7a0d069994e93a7b9891f7593b99c1</a><br><br>Everything seems to be working fine:<br>Url to get the session is:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/session\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/session</a><br>Url to login:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/login\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/login</a><br>Url to edit session:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://test.servicestack.net/session/edit/ANYTEXT\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://test.servicestack.net/session/edit/ANYTEXT</a>﻿"}],"date":"Sep 11, 2014, 10:56:14 AM","shortDate":"Sep 11, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"Is it possible to make a service that takes an IList&lt;DTOType&gt; instead of having to create a wrapper DTO with the list in it? I'm thinking that this could be useful if I wanted to expose services that allows me to either create a single entity by Post(DtoType) or batch create several by Post(IList&lt;DtoType&gt;). While I could just create a DtoTypeCollection class and accept that one for my batch creation this could cause quite a lot of extra types. Is it possible to do this or is it impossible/a bad idea?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 1:35:11 AM","shortDate":"Sep 11, 2014","textHtml":"I strongly recommend against using Interfaces in Services DTO's:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/10759250/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/10759250/85785</a> Even interfaces on POCO models is rarely a good idea since they shouldn't be mocked themselves,&nbsp;IList&lt;T&gt; is especially useless since it's almost always the List&lt;T&gt; concrete type which it needs to be casted to, to make use of many of the useful concrete List&lt;T&gt; APIs.<br><br>Just create a specific Request DTOs like any other Service, you can inherit List&lt;T&gt; to help with this:&nbsp;<br><br>public class DtoTypes : List&lt;DtoType&gt; {}﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Sep 11, 2014, 1:40:15 AM","shortDate":"Sep 11, 2014","textHtml":"Hm, good point. I should stop using IList in my services.<br><br>Though I'm a bit curious as to what is the reason that a type inheriting from List&lt;DtoType&gt; gets mapped correctly but a \"pure\" List&lt;DtoType&gt; does not?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 11, 2014, 1:42:55 AM\n(edited Sep 11, 2014, 6:56:38 AM)","shortDate":"Sep 11, 2014","textHtml":"Request DTO's is the external facing service contract for your Services which need to be a uniquely-named and a non-generic type.﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Sep 11, 2014, 1:43:37 AM","shortDate":"Sep 11, 2014","textHtml":"Alright :) Thanks﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Sep 12, 2014, 11:28:22 AM\n(edited Sep 12, 2014, 11:29:32 AM)","shortDate":"Sep 12, 2014","textHtml":"Can I just ask your opinion on something regarding this, Demis?<br><br>I can see your point of view in all the supporting material you've produced on the subject - but what about a case where the architecture strategy attempts to push all technological dependencies out of the business domain (where those business classes/entities/commands may be referenced by a servicebus worker in one context, persisted to a RavenDB database in another, used in a ServiceStack API in another)....<br><br>would you in this case use automappers and the like to map objects wherever they cross a boundary? it seems like an invitation for mapping mismatches, performance degradation, omitted properties, versioning issues etc... we could use simple Poco's and manually create the routes when we create the API modules, and not decorate the entities with self-documenting Swagger attributes - but that seems such a shame, and counter-intuitive to SS's structure of focusing on the message as the contract...<br><br>How would you handle this architecturally?﻿"}],"date":"Sep 11, 2014, 1:15:16 AM","shortDate":"Sep 11, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I am trying to Setup a WebForms WebApplication that sits on top of ServiceStack along with the AuthFeature.<br><br>Is there an example on how to get the Login.aspx page to load by default. Instead of the MetaData route?&nbsp;<br><br>Only examples I've seen are MVC.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 1:52:58 PM","shortDate":"Sep 10, 2014","textHtml":"You can set Config.DefaultRedirectPath = \"Login.aspx\";﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 1:57:54 PM","shortDate":"Sep 10, 2014","textHtml":"I will try that.<br><br>If I load the page directly, I get this error.<br><br>Forbidden<br><br><br>Request.HttpMethod: GET<br>Request.PathInfo: /Login.aspx<br>Request.QueryString:&nbsp;﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 1:59:14 PM","shortDate":"Sep 10, 2014","textHtml":"Okay, added that and it redirects to Login.aspx, but still get this error.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 1:59:42 PM","shortDate":"Sep 10, 2014","textHtml":"default content type should be html?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 10, 2014, 2:04:38 PM","shortDate":"Sep 10, 2014","textHtml":"ok yeah that's right if you're hosting ServiceStack at `/` you wont be able to use WebForms. You can change it to use ServiceStack.Razor by using Login.cshtml Razor page instead, otherwise if you want to use WebForms you would need to host ServiceStack at a custom `/api` route (in which case you wont need the redirect in ServiceStack)&nbsp;﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 2:06:59 PM","shortDate":"Sep 10, 2014","textHtml":"i will host it at api, as I can't change to MVC like I would like. Other devs screaming.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 10, 2014, 2:09:42 PM","shortDate":"Sep 10, 2014","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Run-servicestack-side-by-side-with-another-web-framework\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Run-servicestack-side-by-side-with-another-web-framework</a>﻿"}],"date":"Sep 10, 2014, 1:49:12 PM","shortDate":"Sep 10, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I have designed a WebApplication Project to Boot my ServiceHost class in the Application_Start. The ServiceHost and the Service classes I've created are in a separete project 1 layer lower in the Interface DLL that I have.<br><br>Now, I know I can create a Login page or any page for that matter and call the Routes via the Service.Client API with my created Models for those Services. However, this is a HTTP call and my fellow developers don't like that.<br><br>I want to boot up the service and expose the Routes via HTTP, but be able to directly call the service classes directly via the code behind too if we wanted to help with performance.&nbsp;<br><br>This would give us NON Http Calls to the Service classes, but also expose the services via HTTP for inbound Clients that needed to call it.<br><br>Can you point me to an example of this?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 9, 2014, 1:35:48 PM","shortDate":"Sep 9, 2014","textHtml":"Hi Bruce, see this answer for calling Services directly:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/25282718/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/25282718/85785</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Sep 9, 2014, 2:26:18 PM","shortDate":"Sep 9, 2014","textHtml":"Thanks! That gets me started. I can figure out the rest!﻿"}],"date":"Sep 9, 2014, 10:15:21 AM","shortDate":"Sep 9, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I was looking for a redis tutorial for windows and .Net client and&nbsp; I&nbsp; read the following, which uses the ServiceStack client.&nbsp; I could not find it, in the site links.<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.codeproject.com/Articles/636730/Distributed-Caching-using-Redis\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.codeproject.com/Articles/636730/Distributed-Caching-using-Redis</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 7, 2014, 5:53:51 AM","shortDate":"Sep 7, 2014","textHtml":"Not sure how I missed that, nice link I've added to Community Resources + SS.Redis project, thx!﻿"}],"date":"Sep 7, 2014, 3:20:41 AM\n(edited Sep 7, 2014, 3:23:01 AM)","shortDate":"Sep 7, 2014"},{"userId":"107041980128268724621","userName":"Alan Newton","textHtml":"I have a SS web service here offering file uploads via base64 string encoding (limitation of the client applications rather than a design decision!). One client in particular is stuck with SOAP11, but limited to a string of about 1MB; anything larger and an exception regarding MaxCharactersInDocument is thrown. Is there an XReader in ServiceStack.Text somewhere with this being set? Any override available? Thanks in advance.﻿","comments":[{"userId":"115503827502990326100","userName":"Alan Newton","date":"Sep 4, 2014, 5:00:11 AM","shortDate":"Sep 4, 2014","textHtml":"Never mind - all sorted. For posterity:<br><br>XmlSerializer.Instance = new XmlSerializer(omitXmlDeclaration: false, maxCharsInDocument: 0);﻿"}],"date":"Sep 4, 2014, 3:37:21 AM","shortDate":"Sep 4, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Have any users implemented mapping of Roles to Permissions, or, are roles always treated as \"fixed\" ? &nbsp;For example, creating role \"manager\" who has view/edit permissions, \"average user\" that has only view permissions, etc.﻿","comments":[{"userId":"116458944481004703771","userName":"Nick Karnik","date":"Oct 12, 2014, 1:10:55 AM","shortDate":"Oct 12, 2014","textHtml":"Yeah, I haven't quite figured that one yet either because my app doesn't have read/write permissions type of a need yet.﻿"}],"date":"Aug 29, 2014, 5:11:15 PM","shortDate":"Aug 29, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"I am using SS with <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> MVC. &nbsp;I have all of my controllers inherit from the&nbsp;ServiceStackController. &nbsp;In the app host I am registering&nbsp;ControllerBuilder.Current.SetControllerFactory(new FunqControllerFactory(container));. &nbsp;But I am having issues with the Viewbag getting reset between the constructor and the action method.<br><br>See <a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/25569591/servicestackcontroller-in-mvc-5-viewbag-null-after-default-constructor-sets-valu\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/25569591/servicestackcontroller-in-mvc-5-viewbag-null-after-default-constructor-sets-valu</a><br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 4:14:40 PM","shortDate":"Aug 29, 2014","textHtml":"Should be fixed with this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/c2ad1b444ccca25737c714cf05f293beacf8badc\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/c2ad1b444ccca25737c714cf05f293beacf8badc</a>﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Aug 29, 2014, 4:35:53 PM","shortDate":"Aug 29, 2014","textHtml":"Thank you! &nbsp;I have fallen a bit behind the SS Versions. &nbsp;When do you think that commit will make it into a SS Release?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 29, 2014, 6:02:41 PM","shortDate":"Aug 29, 2014","textHtml":"This change has just been deployed to MyGet at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>The next v4.0.31 release is expected next week.﻿"}],"date":"Aug 29, 2014, 9:45:15 AM","shortDate":"Aug 29, 2014"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"Hi, I seem to have a problem with built-in MiniProfiler. The request to ssr-results[...] returns 404. <a rel=\"nofollow\" target=\"_blank\" href=\"http://i.imgur.com/fxei7HW.png\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://i.imgur.com/fxei7HW.png</a><br><br>I've set up the simple project to show that (although it's nothing more than an empty MVC app with Profiler.Start() and Profiler.Stop() calls and a simple app host):<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://drive.google.com/file/d/0BzoK6mohEQ-OcFZkdjhtVU1HRE0/edit?usp=sharing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://drive.google.com/file/d/0BzoK6mohEQ-OcFZkdjhtVU1HRE0/edit?usp=sharing</a><br><br>What have I done wrong?&nbsp;﻿","comments":[{"userId":"110442811540426884982","userName":"Darren Reid","date":"Aug 25, 2014, 10:08:44 PM","shortDate":"Aug 25, 2014","textHtml":"Strange, not sure why it would be causing profiler issue, but the path you are using for the sqlite db seems to be running into permissions issue.<br>I pull down your example and got it working by changing the path to the db.sqlite<br><br>Try changing your db.sqlite path to:<br><br>\"~/App_Data/db.sqlite\".MapHostAbsolutePath()﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Aug 26, 2014, 1:12:38 PM","shortDate":"Aug 26, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110442811540426884982\" oid=\"110442811540426884982\">Darren Reid</a></span>&nbsp;thank you very much! btw 404 is quite misleading here....﻿"}],"date":"Aug 25, 2014, 5:52:38 PM","shortDate":"Aug 25, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"Hi,<br><br>what would be the simplest way to override result stream deserialization?<br><br>A bit of context: in a few cases it's very beneficial for the server to return compressed result, but ignoring the Accept-Encoding header (because - thanks Microsoft - Silverlight just won't send something other than 'identity' here), which then confuses ServiceStack's client (again, this is Silverlight client) because it doesn't expect compressed result and then errors out, so I'd like to take care of decompression myself (doesn't matter how).<br><br>I tried overriding the ServiceClientBase 'T DeserializeFromStream&lt;T&gt;(Stream stream);' but this method simply isn't called (??).<br><br>I can see there's also StreamDeserializer property (overridable) which is a delegate, and am at the moment experimenting with this, but to save myself some time I'd like to know if I'm on a right track or if I should try a different approach. I'd also like to know why two seemingly identical 'methods' for deserialization (of which one isn't called).<br><br>Thanks in advance.﻿","comments":[{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 8:40:26 AM","shortDate":"Aug 20, 2014","textHtml":"Just tried replacing StreamDeserializer delegate and my override does get called, so with a bit of luck it'll all end well, but I'm still not there.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 20, 2014, 8:47:13 AM","shortDate":"Aug 20, 2014","textHtml":"Subclassing ServiceClientBase and overriding the de/serialization methods with your own should all be that's required - this is what differentiates JsonServiceClient from XmlServiceClient, etc:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/JsonServiceClient.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/JsonServiceClient.cs</a>﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 8:49:24 AM","shortDate":"Aug 20, 2014","textHtml":"Also if you set EmulateHttpViaPost to True the SS client will then use the browser http stack and compression will work﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 8:57:49 AM\n(edited Aug 20, 2014, 9:01:53 AM)","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I did look into source but did not understand why two methods, which is less important than the fact that <i>DeserializeFromStream</i> method (overriden) does <b>not</b> get called, but the delegate <i>StreamDeserializer</i> is.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 8:59:13 AM","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;Good to know, I was trying to figure this out (I knew there had to be a hook somewhere), but potential problem is that browser's stack does not support cross-domain calls IIRC (which actually matters to us in the debugging scenario).﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 9:03:30 AM","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I did not state this clearly, but I was subclassing the JsonServiceClient and not ServiceClientBase, along the lines of my question about <i>minimal</i> effort necessary ;)﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 9:05:18 AM","shortDate":"Aug 20, 2014","textHtml":"Yes it does support cross-domain call as we are using it with no issue...<br><br>But I forgot to say that if you EmulateHttpViaPost you will need to adjust the handling of web service exception since the browser http stack doesn't support reading a http response that is not of 200 status code<br><br>﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 9:11:03 AM","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;Great! Is there any advantage to using the Silverlight's http stack??&nbsp;﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 9:18:20 AM","shortDate":"Aug 20, 2014","textHtml":"We'll the major benefit for us is that we can use HttpOnly cookie... Does type of cookie could not be read by script like js, flash or silverlight and our security infrastructure is requiring that to be authenticated....<br><br><br>﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 9:23:35 AM","shortDate":"Aug 20, 2014","textHtml":"But if you're able to make compression work with the client http, and if HttpOnly cookie is not require I think it is best to stay with the client http since other limitation exists using the browser stack like reading custom header and so on...﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 9:31:01 AM","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;I did not understand if HttpOnly is or isn't supported by browser/client http stack? Whose advantage are you using browser's http stack or client's?<br>At the moment, unfortunately, I am unable to make decompression work but not because of ServiceStack, I cannot find a PCL or SL5 compatible library to decompress a stream. Zlib.Portable should work but isn't compiled correctly and GZipStream tries to instantiate Encoding which doesn't exist in SL5, though their source code is correct and has a workaround for this (weird). So I'm very close to having client http <i>and</i> compression but not there yet. Thanks for your comments!﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 9:47:17 AM","shortDate":"Aug 20, 2014","textHtml":"BrowserHttp :&nbsp;<br>&nbsp;- Support Get/POST only<br>&nbsp;- Support POST Only for cross-domain call&nbsp;(EmulateHttpViaPost will fix that)<br>&nbsp;- Support Compression<br>&nbsp;- Support HttpOnly cookie<br>&nbsp;- Limitation on request stream<br>&nbsp;- Cannot read response other than 200<br><br>ClientHttp :<br>&nbsp;- Support all HTTP VERB<br>&nbsp;- Support reading custom http header<br>&nbsp;- Cannot read cookie that are set HttpOnly<br>&nbsp;- Support reading any response<br><br>Hope that helps&nbsp;﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 9:51:25 AM","shortDate":"Aug 20, 2014","textHtml":"and BTW the other method&nbsp;DeserializeFromStream that is not used directly by the SS Client is a Hook that Demis as created for me to help me handle webserviceexception when using the EmulateHttpViaPost option﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Aug 20, 2014, 10:05:21 AM","shortDate":"Aug 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/110003087014201555941\" oid=\"110003087014201555941\">Marc-Antoine Latour</a></span>&nbsp;It does help (merci bien!), though it's unclear which of the two is better based on the above list.<br>Anyway, after quite a bit of struggling to find a minimal PCL library to decompress GZipped content, I managed to make this work (phew) with SharpZipLib, which is rather old and relatively big (200KB vs ~80KB for Zlib.Portable) but what the hell, will send a pull request to Zlib.Portable maintainer and in the meantime will simply use SharpZipLib.<br><br>Cheers!﻿"},{"userId":"110003087014201555941","userName":"Marc-Antoine Latour","date":"Aug 20, 2014, 10:11:02 AM","shortDate":"Aug 20, 2014","textHtml":"Good to know !!<br><br>Avec plaisir !﻿"}],"date":"Aug 20, 2014, 8:38:30 AM","shortDate":"Aug 20, 2014"},{"userId":"109587042931756689212","userName":"Michał Gajek","textHtml":"Hi, any idea why ServiceStack.pdb cannot be loaded from symbolsource?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://i.imgur.com/M1rXbS9.png\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://i.imgur.com/M1rXbS9.png</a>&nbsp;<br><br>for other ServiceStack assemblies (for example ServiceStack.Text) it works fine.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 17, 2014, 9:06:18 PM","shortDate":"Aug 17, 2014","textHtml":"SymbolSource had errors on last release day, hopefully it's only temporary. But there have been problems with not being able to debug ServiceStack.pdb from SymbolSource, which just stopped working a while ago, with no clear reason why.﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Aug 18, 2014, 7:06:45 AM","shortDate":"Aug 18, 2014","textHtml":"actually it didn't worked for me when 4.0.24 was released either ... anyway, thanks for the reply﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Aug 18, 2014, 7:40:58 AM","shortDate":"Aug 18, 2014","textHtml":"I wrote about this problem a few times. Unfortunately, it still exists.<br>ServiceStack.pdb file is not sent to the SymbolsSource server and I do not think that the problem is on the SymbolsSource side.<br>Denis here is info how to werify SymbolsSource files:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.symbolsource.org/Public/Blog/View/2011-05-14/Veryfing_symbols_after_upload_to_SymbolSource\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.symbolsource.org/Public/Blog/View/2011-05-14/Veryfing_symbols_after_upload_to_SymbolSource</a>﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Aug 23, 2014, 5:32:17 AM","shortDate":"Aug 23, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;any chances to get just ServiceStack.pdb published somewhere else?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 23, 2014, 10:53:54 AM","shortDate":"Aug 23, 2014","textHtml":"Sure, you can find them in: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/lib\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/lib</a>﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Sep 2, 2014, 8:45:55 AM","shortDate":"Sep 2, 2014","textHtml":"That still does not solve the problem.Now pdb's on github have different timestamps and signatures than the dll's in nuget package. So we still can't debug :(﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Sep 2, 2014, 10:00:38 AM","shortDate":"Sep 2, 2014","textHtml":"...and we have two different versions:<br>- on github 4.0.0.0<br>- on nuget 4.0.0.30<br><br>So we can't debug last version (because is avaliable only as nuget, without sources and without pdbs).<br>This is very frustrating and time wasting.<br><br>Denis can you publish pdbs to 4.0.0.30 version ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 3, 2014, 11:10:05 AM","shortDate":"Sep 3, 2014","textHtml":"Note: I always try to publish the nuget package symbols whenever I do a release, the last release several packages failed to upload to symbolsource with server errors.<br><br>I've just published a new v4.0.31 release again and this time they all uploaded to symbolsource without any errors uploading. Of course just because they uploaded fine doesn't mean they will let you debug all of them via VS .NET.&nbsp;﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Sep 3, 2014, 1:26:22 PM","shortDate":"Sep 3, 2014","textHtml":"Maybe I'll try to talk to the guys from symbolsource ? Can you send me error log ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 3, 2014, 1:45:52 PM","shortDate":"Sep 3, 2014","textHtml":"They all uploaded successfully this time so there was no error log, but if you can find out any more info why it still may not work that would be appreciated.﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Sep 8, 2014, 5:31:53 AM","shortDate":"Sep 8, 2014","textHtml":"Symbols for 4.0.31 does not work. Are you sure that the pdb files have been sent to symbols source without errors ?<br>You can check symbols server status with nuget package explorer and symbol source plugin (<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.symbolsource.org/Public/Blog/View/2011-11-15/Updated_NuGet_Package_Explorer_Plugin\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.symbolsource.org/Public/Blog/View/2011-11-15/Updated_NuGet_Package_Explorer_Plugin</a>)<br>As usual:<br>ServiceStack.dll: NotFound<br>ServiceStack.Common.dll: NotFound<br>ServiceStack.Text.dll: FOUND<br><br>I checked pdb for old service stack versions and PDB for versions prior 4 are uploaded correctly. Versions from 4.0.x does not have PDB.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Sep 8, 2014, 1:25:18 PM","shortDate":"Sep 8, 2014","textHtml":"Yeah they were all uploaded correctly, example log from TeamCity:<br>[05:26:37] :\t [Step 1/2] push: Publish package symbols\\ServiceStack.4.0.31.symbols.nupkg (6s)<br>[05:26:37] :\t\t [push] NuGet command: C:\\TeamCity\\buildAgent\\plugins\\nuget-agent\\bin\\JetBrains.TeamCity.NuGetRunner.exe C:\\TeamCity\\buildAgent\\tools\\NuGet.CommandLine.DEFAULT.nupkg\\tools\\NuGet.exe push C:\\TeamCity\\buildAgent\\work\\21f9e2943407e9e3\\symbols\\ServiceStack.4.0.31.symbols.nupkg %%teamcity_nuget_api_key_1409736397077%%<br>[05:26:37] :\t\t [push] Starting: C:\\TeamCity\\buildAgent\\temp\\agentTmp\\custom_script2691488764376731562.cmd<br>[05:26:37] :\t\t [push] in directory: C:\\TeamCity\\buildAgent\\work\\21f9e2943407e9e3\\symbols<br>[05:26:37] :\t\t [push] JetBrains TeamCity NuGet Runner 8.0.30168.9<br>[05:26:37] :\t\t [push] Registered additional extensions from paths: C:\\TeamCity\\buildAgent\\plugins\\nuget-agent\\bin\\plugins-2.8<br>[05:26:37] :\t\t [push] Starting NuGet.exe 2.8.50506.491 from C:\\TeamCity\\buildAgent\\tools\\NuGet.CommandLine.DEFAULT.nupkg\\tools\\NuGet.exe<br>[05:26:38] :\t\t [push] Pushing ServiceStack 4.0.31 to the symbol server (<a rel=\"nofollow\" target=\"_blank\" href=\"http://nuget.gw.symbolsource.org/Public/NuGet%29.\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://nuget.gw.symbolsource.org/Public/NuGet).</a>..<br>[05:26:43] :\t\t [push] Your package was pushed.<br>[05:26:43] :\t\t [push] Process exited with code 0<br><br>But yeah looks like the .pdb wasn't being included for main ServiceStack NuGet pkg, I've updated the build script to explicitly copy ServiceStack.pdb with the latest v4.0.32 that's now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br>Whilst I've just deployed the symbols for MyGet to SymbolSource, I'm not sure where they end up as I can't find the v4.0.32 MyGet symbol packages on the Symbol Source anywhere so I've uploaded them on GitHub for the time being at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Assets/tree/master/symbols\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Assets/tree/master/symbols</a>&nbsp;﻿"}],"date":"Aug 17, 2014, 11:19:25 AM","shortDate":"Aug 17, 2014"},{"userId":"107064682139080786059","userName":"Dion Scher","textHtml":"For error handling I've been throwing exceptions (i.e. ArgumentException) when a service wishes to abort. Particularly when access is denied. However this seems to have the effect of causing an exception which resulted in the IIS 7.5 process crashing and my apps performance going down the toilet.<br><br>When I tried removing the thrown exception and instead returning a null value, everything then worked fine. And I have no idea why but I wish to get to the bottom of it.<br><br>Does anyone have any idea why what I thought of as a standard SS pattern is crashing the IIS worker process? Is this another example of IIS hijacking and taking over before SS can handle it properly?﻿","comments":[{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Aug 13, 2014, 2:20:31 PM","shortDate":"Aug 13, 2014","textHtml":"Do you have an exception handler that might be itself throwing? I've seen something similar happening with an integration with elmah and/or stack exchange's exceptional, where an exception was caught by a handler but due to a bug it caused another exception, which crashed the process. &nbsp;﻿"},{"userId":"107064682139080786059","userName":"Dion Scher","date":"Aug 17, 2014, 12:43:38 AM","shortDate":"Aug 17, 2014","textHtml":"Not that I'm aware of. I'll look into that but something seems to be hijacking the SS exception handler. ﻿"}],"date":"Aug 13, 2014, 9:40:13 AM\n(edited Aug 13, 2014, 9:40:51 AM)","shortDate":"Aug 13, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"The new SSE support looks really nice and shiny :) However, is there any support for consuming SSE with a C# client instead of a javascript one?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 11, 2014, 6:14:56 AM","shortDate":"Aug 11, 2014","textHtml":"Hi Fredrik, I haven't created the C# client bindings for this yet but will look at it after I got this weeks release out of the way. Out of curiosity what's the use-case you'd want to use a c# client for? i.e. is it for mobile or server-to-server comms?﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 11, 2014, 6:22:19 AM","shortDate":"Aug 11, 2014","textHtml":"I am using ServiceStack as a replacement for WCF for a WPF desktop application communicating with a (servicestack) server. In the future there will also be web clients and mobile clients communicating with the same api as the desktop client. The application is an authoring environment where multiple authors are going to work, so the main use case here would be to push out updates to other authors that certain business objects has been updated, or are currently being worked on by other users etc. I'm not in a hurry to get SSE support since we've still got plenty of time until the first release, but it looks like it would be a very nice feature to have that could make the user experience even nicer. :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 11, 2014, 6:26:03 AM","shortDate":"Aug 11, 2014","textHtml":"ok great, appreciate the info, thx!﻿"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","date":"Aug 11, 2014, 7:29:35 AM","shortDate":"Aug 11, 2014","textHtml":"By the way, does the servicestack implementation of SSE support CORS?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 11, 2014, 12:45:35 PM\n(edited Aug 11, 2014, 12:46:18 PM)","shortDate":"Aug 11, 2014","textHtml":"Nope, but I hadn't seen it as part of the SSE standard and there's little info on it, but I'll see what it takes.﻿"}],"date":"Aug 11, 2014, 2:30:43 AM","shortDate":"Aug 11, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"My NotFound error page is not returning a 404... What is the correct way to set your own 404 not found page? This is what I'm doing now and it's returning a 200...<br><br>CustomErrorHttpHandlers.Add(HttpStatusCode.NotFound, new RazorHandler(\"/Errors/NotFound\"));﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 10, 2014, 4:21:08 AM","shortDate":"Aug 10, 2014","textHtml":"Adding the following at the top of my NotFound.cshtml page..<br><br>base.Response.StatusCode = (int)HttpStatusCode.NotFound;<br><br>New Question though... Is there a way to change the returned content based on the content type? If the request was json then I'd like to return a json response otherwise return a html response?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 6:01:40 AM\n(edited Aug 10, 2014, 7:20:56 AM)","shortDate":"Aug 10, 2014","textHtml":"Note: Howto questions requiring code like this are better suited for stackoverflow (it also helps build a knowledge-base). Just post a link to it in here.<br><br>If you return or throw a HttpError.NotFound() in your services it automatically returns a JSON error response, i.e the CustomErrorHttpHandlers is only used for HTML ContentTypes.&nbsp;<br><br>But if no service exists at all then it just uses your registered custom handler. The Service Clients (and most http clients) just see sthe 404 and throws a HTTP Error.&nbsp;<br><br>If you still wanted to return a customized error response you can add this in your Error Razor Page:<br>&nbsp; &nbsp; if (!Request.ResponseContentType.MatchesContentType(MimeTypes.Html))<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; Layout = \"\";<br>&nbsp; &nbsp; &nbsp; &nbsp; Response.ContentType = Request.ResponseContentType;<br>&nbsp; &nbsp; &nbsp; &nbsp; var error = new ErrorResponse<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ResponseStatus = DtoUtils.CreateResponseStatus(\"NotFound\", \"Not Found\")<br>&nbsp; &nbsp; &nbsp; &nbsp; };<br>&nbsp; &nbsp; &nbsp; &nbsp; HostContext.ContentTypes.SerializeToStream(base.Request, error, Response.OutputStream);<br>&nbsp; &nbsp; &nbsp; &nbsp; throw new StopExecutionException();<br>&nbsp; &nbsp; }<br><br>The other alternative is to register your own custom&nbsp;RazorHandler that detects and handles non HTML requests separately. Code for RazorHandler is at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Razor/RazorHandler.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Razor/RazorHandler.cs</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 10, 2014, 6:25:04 PM","shortDate":"Aug 10, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Thanks for the help. I'll note using stackoverflow for next time and apologize for posting it here. I had thought this was a brief question suitable for discussion.&nbsp;<br><br>Do you see value in a feature request for defining the content type with the custom error http handlers? For example I could have a custom NotFound RazerHandler for html and a custom NotFound service for json.<br><br>Thanks again <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;When the holidays come around I hope you have an address where I can mail you something for all your hard work!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 7:21:57 PM","shortDate":"Aug 10, 2014","textHtml":"I don't think there's any value that justifies the added complexity, Error Responses from Services already have have pre-determined behavior. The only real error that's left, is when no Services exist (i.e. a 404), this is equivalent to a fatal compile error where something is very wrong with the client if it's trying to call a non-existing Service. Adding a JSON response in this case doesn't add much value as HTTP Clients are just going to throw 404 errors anyway. You could also change the Razor page to emit no response for non HTML requests, since there's no real added info you can return when you don't know what the request was for.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 10, 2014, 7:40:49 PM","shortDate":"Aug 10, 2014","textHtml":"You didn't answer my question about how to send a gift to you during the holidays ;-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 10, 2014, 8:02:33 PM","shortDate":"Aug 10, 2014","textHtml":"oh, ok sure :) My snail mail address is: 1405 Colonial Gardens Drive, Avenel, NJ 07001, USA﻿"}],"date":"Aug 10, 2014, 3:48:50 AM","shortDate":"Aug 10, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Hi,<br><br> is it possible to issue fire-and-forget Redis commands?<br><br>Something similar to this: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/StackExchange/StackExchange.Redis/blob/master/Docs/Basics.md#sync-vs-async-vs-fire-and-forget\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/StackExchange/StackExchange.Redis/blob/master/Docs/Basics.md#sync-vs-async-vs-fire-and-forget</a><br><br>Thanks in advance!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 8, 2014, 6:48:53 PM","shortDate":"Aug 8, 2014","textHtml":"Closest thing is a Pipeline which can send commands as a batch without waiting for a response. This ends up being much faster than waiting for the I/O response after every command.<br>There are 2 API's for using a pipeline:<br>A high-level using CreatePipeline():&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis/blob/master/tests/ServiceStack.Redis.Tests/RedisPipelineTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis/blob/master/tests/ServiceStack.Redis.Tests/RedisPipelineTests.cs</a><br><br>And a lower level using&nbsp;CreatePipelineCommand():<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Redis/blob/master/src/ServiceStack.Redis/RedisClient_List.cs#L83\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Redis/blob/master/src/ServiceStack.Redis/RedisClient_List.cs#L83</a>﻿"}],"date":"Aug 8, 2014, 5:33:52 PM","shortDate":"Aug 8, 2014"},{"userId":"115179386466795801574","userName":"Mikkel Kruse Johnsen","textHtml":"I'm trying to add ServiceStack to my iOS app. But I keep getting \"Failed to resolve assembly: 'ServiceStack.Interfaces, Version=4.0.0.0, C....' (MT2002)\" when deploying to the device. It works fine in the simulator, what to do ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 7, 2014, 5:49:13 AM","shortDate":"Aug 7, 2014","textHtml":"Are you using the PCL client?&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello</a>﻿"},{"userId":"115179386466795801574","userName":"Mikkel Kruse Johnsen","date":"Aug 7, 2014, 6:09:29 AM","shortDate":"Aug 7, 2014","textHtml":"Yes, the \"ServiceStack.Pcl.iOS.dll\" and \"ServiceStack.Client.dll\" (from PCL) and also the \"ServiceStack.Interfaces\" from PCL ?﻿"},{"userId":"115179386466795801574","userName":"Mikkel Kruse Johnsen","date":"Aug 7, 2014, 6:14:24 AM","shortDate":"Aug 7, 2014","textHtml":"Version 4.0.24﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 7, 2014, 6:15:44 AM\n(edited Aug 7, 2014, 6:20:05 AM)","shortDate":"Aug 7, 2014","textHtml":"It should pull the right deps when you:<br>&gt; Install-Package ServiceStack.Client.Pcl<br>But to share Server DTO's on the Client it will need to be a PCL compatible project (which you can link source files from) as described in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Hello/#sharing-server-dtos-with-clients\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Hello/#sharing-server-dtos-with-clients</a>﻿"},{"userId":"115179386466795801574","userName":"Mikkel Kruse Johnsen","date":"Aug 7, 2014, 6:23:52 AM","shortDate":"Aug 7, 2014","textHtml":"I have made my DTO (Model) compile agains the ServiceStack.Interfaces.dll from PCL. (again it works in the simulator).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 7, 2014, 6:29:09 AM","shortDate":"Aug 7, 2014","textHtml":"ok haven't heard of this issue before, can you send me a small repro. Also what are you using <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> or Xamarin Studio?﻿"},{"userId":"115179386466795801574","userName":"Mikkel Kruse Johnsen","date":"Aug 7, 2014, 6:43:56 AM","shortDate":"Aug 7, 2014","textHtml":"Xamarin Studio on Mac. I will try to send a repro.﻿"}],"date":"Aug 7, 2014, 5:46:18 AM","shortDate":"Aug 7, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"More of a design question than a specific tech problem. But a starter to learn a little more about how people are using pieces of SS that we are not so familiar with.<br><br>We are at a stage in our evolving architecture (sorry that statement might scare some folks) where we need to get more granular with what we can query from our persistence store. Today we use Azure Table storage and our data is arranged into a few columns, some of which contains serialized complex objects (as JSON blobs). We are constrained by Azure to only query on exact matches to column values. which is very limiting, as we cant search for data values within the JSON blobs.&nbsp;<br><br>At some point we may need to go relational for some data, primarily to give us the ability to query on some of the fields in those complex objects. In other words, break them out of serialized blobs into related tables - yes,yes. but we may be able to avoid relations db, if there are other worthy options.<br><br>We are not familiar with ORMlite, or other ServiceStack supported tech for storage.&nbsp;<br>We can choose to go Azure SQL or other repos and we can choose any translation layer in between.<br><br>We are looking at the next step. The goal is to take an incremental step towards creating an opt-in technology pattern (for only some of our data structures) that gives us a better ability to query on specific fields of our data structures.<br><br>We are not noobs to the techologies themselves (quite the contrary), just how we might take that next incremental step using something on the SS roadmap that gives us a little more freedom than just plain azure table storage.<br><br>Any suggestions?﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Aug 4, 2014, 6:52:14 PM","shortDate":"Aug 4, 2014","textHtml":"For ORM I use nhibernate but I've read a lot of great things about ORMLite and it's a good lightweight and fast alternative. As for a relational database I've been using SQL Azure (SQL Server in Azure) with great success. I only use nhibernate because I was using nhibernate before I started using ServiceStack. If this was from scratch I'd would definitely take another look at ORMLite.<br><br>Another thought since your using Azure table storage... Maybe consider \"indexing\" your json blobs by creating index tables in azure table storage. This of course requires a lot of planning to store the data just right for searching.&nbsp;<br><br>In addition if your goal is added searching features... possibly look at using Lucene (not sure about it's cloud viability though.) Quick search found...&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://code.msdn.microsoft.com/windowsazure/Azure-Library-for-83562538\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://code.msdn.microsoft.com/windowsazure/Azure-Library-for-83562538</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 4, 2014, 8:00:41 PM\n(edited Aug 4, 2014, 8:15:09 PM)","shortDate":"Aug 4, 2014","textHtml":"Personally I've always liked SQL/RDBMS for data persistence and have never thought of NoSQL as a replacement for RDBMS's (for general purpose development), more of a compliment to do what SQL isn't good at, e.g. Redis is utility belt that's provides fast atomic access to distributed core comp-sci collections that's great for caching and maintaining other highly transient data and includes many added features like Pub/Sub, great for decoupled cross-platform comms between servers with client bindings on most platforms.<br><br>So I view NoSQL as a complement technology as I've always preferred storing persistent data in RDBMS's. Whilst I've liked RDBMS's I've just disliked Heavy .NET ORMs which I found needlessly complex and required too much unnecessary configuration to get started. Like most libs/fx's I believe we should be promoting code-first POCO's where ever possible which maximizes re-use and interoperability with the least friction. I also dislike most artificial abstractions that have been invented over SQL which I found to be a leaky abstraction that makes it hard to know what query is being generated as well as how to construct a specific SQL query.<br><br>Which were basically the reasons behind developing (and now only using) OrmLite - a Fast, Simple, DRY and typed ORM that provides thin layer over SQL to enable a typed, cross-platform API that supports multiple RDBMS's and high-level common data access patterns like References and Optimistic Concurrency. OrmLite's API's are just extension methods over <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a>'s underlying IDbConnection which allows seamless interoperability with other Micro ORMs like Dapper that does the same thing. Extension methods are a great way to add features without adding abstractions (and why SS uses them heavily), making it easy to extend OrmLite's API with your own custom extensions whilst leaving full access to the underlying <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> functionality making it easy to create transactions or executing different command types like Stored Procs as well as Raw SQL if needed.<br><br>As OrmLite is a code-first ORM that maps 1:1 to existing tables it requires minimum projection and the least effort to get started. A useful feature coming from Table Storage is its support for transparently blobbing complex types using pluggable type serializers (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite#pluggable-complex-type-serializers\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite#pluggable-complex-type-serializers</a>) which is a productive way to store complex, schema-less, non-relational or non aggregate root data when needed.<br><br>I like it because its clean and simple and the API is intuitive (i.e. high affinity with underlying SQL) and the resulting SQL predictable and doesn't require a heavy context or configuration. Even after many years OrmLite still has one of the best stories for creating tables from POCO's and Insert external data from DTOs on the fly (i.e. without any config) as seen in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.UseCases/blob/master/PocoPower/Program.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.UseCases/blob/master/PocoPower/Program.cs</a>﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"Aug 5, 2014, 4:02:41 AM","shortDate":"Aug 5, 2014","textHtml":"Yeah, I hear you. generally true for us in the past too. Was clearing the pre-conceived ideas and biases to open ourselves to exploring new tech ideas in the market today (if any).<br>Going from simple table storage to full blown AzureSQL seems a little YAGNI for most of our stuff at this stage.<br><br>Wanted to see if there is anything between the two for now to get some early runs on the board, before we go the full hog RDBMS.﻿"}],"date":"Aug 4, 2014, 6:34:29 PM","shortDate":"Aug 4, 2014"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","textHtml":"Hi there,<br>I'm trying to figure out how to customize FacebookAuthProvider or get into the right direction for the situation posted at stackoverflow:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/25071536/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/25071536/</a><br><br>I didn't want to re-post the question here so just the link if thats alright.<br><br>Any ideas would awesome :)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 1, 2014, 12:02:50 PM\n(edited Aug 1, 2014, 12:10:45 PM)","shortDate":"Aug 1, 2014","textHtml":"Hi, as the linked answer says, you can't automatically merge with someone else's user account when just knowing their email address. The UserAuth automatically merges if they sign into their Facebook account when they're already signed in.﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Aug 1, 2014, 12:28:22 PM","shortDate":"Aug 1, 2014","textHtml":"Hmm I think we are a bit confused here. I'm not looking to automatically merge when user is not signed in.<br>Here's a detail example:<br><br>Scenario one:<br>- I create an account using abc@example.com&amp; password.<br>- I sign in.<br>- I sign in using facebook with abc@example.com<br>Here the UserAuth is automatically merged, which is perfect!&nbsp;<br><br>Scenario&nbsp;two:<br>- I create an account using abc@example.com&amp; password.<br>- I sign in.<br>- I sign out.<br>- I sign in using facebook with abc@example.com<br>Here I'd like to throw an error - The account with abc@example.com already exists! Please sign in with abc@example.com...<br><br>Currently for scenario #2, a new UserAuth is created.<br><br>So somehow when a user tries to sign in with facebook, and is not currently logged in with other accounts, I need to check if the email address already exists in the db.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 1, 2014, 1:21:58 PM","shortDate":"Aug 1, 2014","textHtml":"Ahh apologies, misread your question. Ok yeah that makes sense. Looks like you'll have to override the OnAuthenticated method and either throw or return a custom HttpError response if the email exists, otherwise call base.OnAuthenticated().<br><br>I can look at making this easier by adding a custom hook that gets called before OnAuthenticated so you don't have to subclass FBAuthProvider﻿"},{"userId":"105171576940115851851","userName":"Kebin Maharjan","date":"Aug 1, 2014, 1:34:42 PM","shortDate":"Aug 1, 2014","textHtml":"No worries. It is kinda confusing :) And thanks a lot for getting back on this quickly!<br><br>A hook would be awesome. Would not prefer to override a provider! And this would be same for any other external providers...<br>Also does it make sense to have this by default or some sort of configuration? Seems like a pretty common use case?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 1, 2014, 1:40:52 PM","shortDate":"Aug 1, 2014","textHtml":"Yeah agreed. I'll look at doing both at get back to you here.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Aug 2, 2014, 5:17:51 AM\n(edited Aug 2, 2014, 5:23:50 AM)","shortDate":"Aug 2, 2014","textHtml":"Hi, this should now both be done in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/095da0cbb199867118671e18a913af03782a156b\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/095da0cbb199867118671e18a913af03782a156b</a><br>i.e. it now validates&nbsp;emails returned in OAuth providers&nbsp;are unique by default and there's a new CustomValidationFilter delegate that can be used to verify custom logic.<br>This change is now available on MyGet:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>\nI've also added an answer to your StackOverflow question with more details.﻿"}],"date":"Aug 1, 2014, 11:36:11 AM","shortDate":"Aug 1, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"What's the best way to upload a file to ServiceStack using angularjs (in my case I'm using the angular-file-upload module, which uses the html5 File API/FileReader). I was able to get it to upload to the service using the IRequiresRequestStream interface but it seems to include header information in the stream. Is there a better way to handle this? Or server side utils/methods to parse the content?<br><br>Here is a sample of the content I receive...<br><br>------WebKitFormBoundaryBNNXN1UqBUhgSAyT<br>Content-Disposition: form-data; name=\"file\"; filename=\"test.txt\"<br>Content-Type: text/plain<br><br>this is a test.<br><del>-----WebKitFormBoundaryBNNXN1UqBUhgSAyT-</del>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 19, 2014, 5:09:09 PM","shortDate":"Jul 19, 2014","textHtml":"For multi-part form-data file uploads you can just use the Request.Files API, there's an example on HttpBenchmarks:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AuthenticatedServices.cs#L251\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks/blob/master/src/BenchmarksAnalyzer.ServiceInterface/AuthenticatedServices.cs#L251</a><br>And the ImageResizer example apps:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.UseCases/blob/master/ImageResizer/Global.asax.cs#L63\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.UseCases/blob/master/ImageResizer/Global.asax.cs#L63</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 19, 2014, 5:15:52 PM","shortDate":"Jul 19, 2014","textHtml":"Ok I'll give that a try. thanks.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 19, 2014, 5:21:20 PM","shortDate":"Jul 19, 2014","textHtml":"Oh perfect! This worked great! Thanks so much! As always you provide top notch help and support!<br><br>Out of curiosity what situations is a IRequiresRequestStream useful?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 19, 2014, 8:08:34 PM","shortDate":"Jul 19, 2014","textHtml":"It tells SS to skip normal Request DTO deserialization so you can do read from the body yourself, mentioned at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#reading-directly-from-the-request-stream\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Serialization-deserialization#reading-directly-from-the-request-stream</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 19, 2014, 8:10:04 PM","shortDate":"Jul 19, 2014","textHtml":"Yeah I saw the docs on it. I was just wondering what use cases for it. ﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 19, 2014, 8:14:59 PM","shortDate":"Jul 19, 2014","textHtml":"You can handle situations when what's being POST'ed in the Request Body is not a DTO. E.g. you can post a raw file (e.g image) as a raw stream instead of being encoded in multi-part/form-data.﻿"}],"date":"Jul 19, 2014, 4:57:51 PM","shortDate":"Jul 19, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Howdy folks - quick question about UserAuthRole. &nbsp;<br><br>I am using OrmLiteAuthRepository (going to mssql) and I notice that after I do userRep.AssignRoles(userid, new [] {\"admin\", \"dude\"}) the user does indeed have those roles in the table entry, but the UserAuthRole table is empty. &nbsp;<br><br>Can someone shed light on how it should be used? &nbsp;Not really any mention of it in the Authentication-and-authorization wiki.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 17, 2014, 5:38:29 PM","shortDate":"Jul 17, 2014","textHtml":"To change the existing behavior, you'd need to opt-in to use distinct tables with: `UseDistinctRoleTables = true`.&nbsp;<br>It's briefly mentioned in release notes when the feature was released:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#new-imanageroles-api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#new-imanageroles-api</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jul 17, 2014, 6:00:06 PM","shortDate":"Jul 17, 2014","textHtml":"Awesome. &nbsp;For some reason instinctively I assumed that UseDistinctRoleTables would somehow want tables per-role. &nbsp;Maybe the plural \"tables\" in the setting name threw me off.﻿"}],"date":"Jul 17, 2014, 5:15:49 PM","shortDate":"Jul 17, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there situations where&nbsp;RawSerializeFn is not called? I'm calling ToJson&lt;T&gt; server side in my service after the request comes in and for some reason when I call ToJson within my service the RawSerializeFn isn't getting called. But it does get called going to/from the client. I do this to store a complex object in a single column. I have this hooked up in the AppHost.Configure method. Btw I'm using the JsConfig&lt;T&gt;.RawSerializeFn function.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 15, 2014, 7:39:00 PM","shortDate":"Jul 15, 2014","textHtml":"If you can provide a small repro I can take a look.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 15, 2014, 7:40:44 PM","shortDate":"Jul 15, 2014","textHtml":"Unfortunately it's kind of hard to create this right now. Perhaps setting it in the Configure method is to late in the process?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 15, 2014, 8:10:47 PM","shortDate":"Jul 15, 2014","textHtml":"Nope, shouldn't be.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 15, 2014, 9:15:21 PM","shortDate":"Jul 15, 2014","textHtml":"Hmm ok well for now it's not a show stopper in this case. I'll create a sample when I have a chance. Thanks.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 21, 2014, 9:48:09 PM","shortDate":"Jul 21, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I've had a chance to revisit this. The&nbsp;RawSerializeFn does not get called if the object is the root object and not a property of a parent object. I have a sample project now. Let me know if you'd like to see it and where should I put it. Thanks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 22, 2014, 1:43:42 AM\n(edited Jul 22, 2014, 1:44:21 AM)","shortDate":"Jul 22, 2014","textHtml":"Can you post a new issue on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> if it's a single file you can post the source code inline otherwise if you have an entire project, add it to a new repo and post the link.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jul 22, 2014, 2:39:10 AM","shortDate":"Jul 22, 2014","textHtml":"Thanks, issue is submitted...<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/116\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/116</a>﻿"}],"date":"Jul 15, 2014, 7:22:32 PM","shortDate":"Jul 15, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hi Demis,<br>I'm facing a little issue with the SS json serializer and double quotes:<br>Actually, as described here <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text#jsv-text-format-json--csv\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text#jsv-text-format-json--csv</a> it looks that string values are considered \"white-space significant\" but actually i'm trying to serialize string values from objects to JSON and what i get is non-double-quoted:<br><br>{<br>    id: 1,<br>    description: Some Text,<br>    shortDescription: Obblig. semplici<br>}<br><br>But as stated on <a rel=\"nofollow\" target=\"_blank\" href=\"http://json.org/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://json.org/</a> under the \"string\" section every JSON encoded string should be double quoted, and a customer of mine is requesting me to be compliant with it.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 9, 2014, 4:07:36 AM","shortDate":"Jul 9, 2014","textHtml":"JSV is not JSON, don't use JSV/TypeSerializer where JSON is expected. Use the JsonSerializer or ToJson()/FromJson() API's instead.<br>If you still have an issue please submit a failing test to: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a>﻿"}],"date":"Jul 9, 2014, 3:58:39 AM","shortDate":"Jul 9, 2014"},{"userId":"101123583934813226258","userName":"Sebastian Nemeth","textHtml":"Hi, I'm trying to set up ServiceStack to be debuggable from the NuGet packages using SourceServer, by following the instructions found here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging</a><br><br>When debugging, Visual Studio begins loading symbols from external sources as expected, the prompt iterates through 'ServiceStack.*\" but when trying to step into SS code, I get the 'No PDBs' error. &nbsp;The symbol cache on my hard drive doesn't contain any PDBs for SS, so the downloads must have failed. &nbsp;<br><br>Are the SS PDBs still available? &nbsp;Has anyone else had issues getting at them?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jul 4, 2014, 12:12:42 PM","shortDate":"Jul 4, 2014","textHtml":"All the pdb's are getting published for all packages, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.symbolsource.org/Public/Metadata/NuGet/Project/ServiceStack</a><br>Unfortunately it's a dark art and I don't know why pdb for SS fails to load, it used to but just stopped working after a while.﻿"}],"date":"Jul 4, 2014, 9:25:02 AM","shortDate":"Jul 4, 2014"},{"userId":"116840543622050084732","userName":"Fredrik Forssen","textHtml":"What kind of caching strategy do you use with ServiceStack?<br><br>Say for example that I have a service that recieves two types of messages, one that creates blogposts and one that searches blogposts by title fragment. Obviously I would like to cache results for searches that are made, but since they are made by a name fragment it gets hard to construct a good cache key that can be invalidated when a new blogpost is posted?<br><br>If I use a MemoryCacheClient I do have some more options in the form of \"RemoveByPattern\" and \"RemoveByRegex\", but then I'm locked in to having my cache in memory and can't switch to for example Redis once I'm in a production environment since those methods only seem to exist on the MemoryCacheClient.<br><br>Also, even having these, generating all possible fragments from a potentially long blogpost title and throwing each possible fragment into the RemoveByPattern method seems a bit of a hack to me :/<br><br>I could just invalidate the entire cache of old searches on each new blogpost (and maybe that is actually the best way to go here?), but that seems like a very blunt tool.<br><br>So, how do you structure your cache to get the maximum advantage out of it? Does anyone have any best practices or good advice from the trenches? :)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 24, 2014, 8:49:18 AM\n(edited Jun 24, 2014, 8:50:30 AM)","shortDate":"Jun 24, 2014","textHtml":"Searches are basically hard to invalidate since when you modify a record it's very hard (impossible?) to work out what caches needs invalidating, which is why using a Search Index like Lucene/ElasticSearch is generally the preferred approach as searches are cheap and documents can be modified at runtime. If using an index isn't an option then caching by expiry time is a good alternative for searches.&nbsp;<br><br>If you can't identify the record (i.e. with a PK) a good key to cache with is just to use the pathInfo + queryString. The Redis CacheClient also implements IRemoveByPattern with the glob pattern described in: <a rel=\"nofollow\" target=\"_blank\" href=\"http://redis.io/commands/keys\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redis.io/commands/keys</a><br><br>As for cache strategies I had a separate \"Cache Service\" layer which was responsible for constructing and invalidating caches when it was notified when entities changed. Because it was responsible for constructing all the caches, it new what caches needed to invalidated.<br><br>I also like DHH's key-based caching strategy described in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://signalvnoise.com/posts/3113-how-key-based-cache-expiration-works\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://signalvnoise.com/posts/3113-how-key-based-cache-expiration-works</a>﻿"}],"date":"Jun 24, 2014, 8:07:12 AM","shortDate":"Jun 24, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I've a WPF application that makes use of SS for retrieving data from DB, was wondering to add sql profiling (when in debug) and I've defined this in my AppHost (on webserver)&nbsp;<br><br>container.Register&lt;IDbConnectionFactory&gt;(_ =&gt; new OrmLiteConnectionFactory(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ConfigurationManager.ConnectionStrings[\"default\"].ConnectionString,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SqlServerDialect.Provider) { ConnectionFilter = x =&gt; new ProfiledDbConnection(x, Profiler.Current) }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; );<br><br>Now where can I see the result since I'm not in a MVC page?<br><br>Thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 18, 2014, 9:01:20 AM","shortDate":"Jun 18, 2014","textHtml":"You can just call the same pages that shows the MiniProfiler results and it shows all you the unseen results. So you would see the WPF requests.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Jun 27, 2014, 3:27:59 AM","shortDate":"Jun 27, 2014","textHtml":"Excuse me, which page shows the miniprofiler result page? Can I also log on txt file in some way?<br>Thanks﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 27, 2014, 6:42:41 AM","shortDate":"Jun 27, 2014","textHtml":"The same page you use to view any Mini Profiler results (i.e. for a normal web requests) shows you any \"unseen\" mini profiler results (i.e. your&nbsp;requests from WPF).&nbsp;<br><br>You should be able to get the profiler JSON results with `Profiler.ToJson()` that you likely want to call just before `Profiler.Stop()` in the Global.asax Application_EndRequest()﻿"}],"date":"Jun 18, 2014, 2:49:33 AM","shortDate":"Jun 18, 2014"},{"userId":"102769881855401822960","userName":"Ryan Britton","textHtml":"(moved to correct Forum)﻿","comments":[{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Jun 16, 2014, 6:20:05 AM","shortDate":"Jun 16, 2014","textHtml":"now that I've changed the code to use PostAsync, the only notable difference I can see in the example you provided is that its using GetAsync where I am using PostAsync....could that have something to do with it? Surely not?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 16, 2014, 2:38:20 PM","shortDate":"Jun 16, 2014","textHtml":"I've added a POST example which works the same as GET:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/8ae7e8459180255bcccec0c57bdcbee11f82d828\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/8ae7e8459180255bcccec0c57bdcbee11f82d828</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 16, 2014, 6:56:54 PM","shortDate":"Jun 16, 2014","textHtml":"FYI, I've expanded the tests to include different scenarios:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AsyncProgressTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AsyncProgressTests.cs</a><br>TestProgressService:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.IntegrationTests/Services/TestProgressService.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.IntegrationTests/Services/TestProgressService.cs</a><br><br>In all cases the callback fires, but in a few of them the ContentLength was unknown and so the total was coming back as -1. I've expanded ServiceStack to set the ContentLength where possible in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/028428c412697108414f970576e26ac495f50c00\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/028428c412697108414f970576e26ac495f50c00</a><br><br>With this commit all the SelfHosting async progress tests pass. The <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> development server doesn't let you set the ContentLength so a few of progress tests will fail with an unknown length, marked with Explicit here:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.IntegrationTests/Tests/AsyncProgressTests.cs#L57\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.IntegrationTests/Tests/AsyncProgressTests.cs#L57</a><br><br>This change is now on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a><br><br>One thing that you might need to be aware of is that the BufferSize determines the granularity of the callbacks as it executes the callback once the buffer gets full. By default the BufferSize is 8192 byes.﻿"}],"date":"Jun 16, 2014, 6:18:33 AM","shortDate":"Jun 16, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"This feels like a n00b question, but what's the best way to handle the default browser request for a /favicon.ico when the servicestack website is hosted in a sub-path?<br><br>For example: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:1234/app/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:1234/app/</a>&lt;web site here&gt;, but the browser insists on request a root favicon.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 12, 2014, 12:41:58 PM","shortDate":"Jun 12, 2014","textHtml":"If ServiceStack is hosted at a /custom path it never sees any request made outside of it. You can just add a file to the root path i.e. /favicon.ico otherwise if you're using something like MVC you can ignore it with:<br>routes.IgnoreRoute(\"{*favicon}\", new { favicon =@\"(.<b>/)?favicon.ico(/.</b>)?\"});&nbsp;﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"Jun 12, 2014, 2:47:09 PM","shortDate":"Jun 12, 2014","textHtml":"My issue was that ServiceStack was listening at root, but the webapp was inside a sub-folder. &nbsp;I've devided to move the web-app to \"root\" by adding this in the apphost:<br><br>WebHostPhysicalPath = \"./app\"﻿"}],"date":"Jun 12, 2014, 12:27:51 PM","shortDate":"Jun 12, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"I'm running into some serialization problems using the javascript JSV library (JSV.js). when I convert the javascript object {'from':&lt;date&gt;, 'to':&lt;date&gt;} it serializes to&nbsp;{from:11/29/2013 01:00to:06/11/2014 10:50}. I'm calling JSV.serialize. Shouldn't it be&nbsp;{from:11/29/2013 01:00, to:06/11/2014 10:50} ? Notice the comma before to:. Also the date format seems odd too. Any thoughts on these two issues?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 8, 2014, 3:06:14 AM","shortDate":"Jun 8, 2014","textHtml":"It's probably a bug, what are you using JSV.js for?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jun 8, 2014, 5:14:34 AM","shortDate":"Jun 8, 2014","textHtml":"I'm using it in angularjs when a user filters a grid on a from/to date range and then I update the query param to reflect this new filter.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 8, 2014, 7:37:26 PM","shortDate":"Jun 8, 2014","textHtml":"This should now be fixed in:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/lib/js/JSV.js\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/lib/js/JSV.js</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jun 8, 2014, 7:47:02 PM","shortDate":"Jun 8, 2014","textHtml":"Awesome! Thanks Demis! I'll give it a try later tonight.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jun 9, 2014, 1:46:50 AM","shortDate":"Jun 9, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;I've confirmed it. The fix worked perfectly! As always your coding skills are amazing. Thank you!﻿"}],"date":"Jun 7, 2014, 11:31:21 PM","shortDate":"Jun 7, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"After upgrading to v4.0.21, /api/auth is no longer redirecting to the \"Continue\" value in my sign in form. The service snapshot page is shown instead. One of the values is \"Referrer Url\", and it's the correct value from the form. Is there an intentional breaking change here regarding this response?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 5, 2014, 1:33:38 AM","shortDate":"Jun 5, 2014","textHtml":"Yeah, the default auth route /auth has been changed to return the Auth Response if signed in, mentioned in:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#extended-auth-dtos\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/release-notes.md#extended-auth-dtos</a><br><br>To access a specific provider you can use the full-qualified url, i.e: /auth/credentials﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Jun 5, 2014, 1:42:51 AM","shortDate":"Jun 5, 2014","textHtml":"Easy, thanks.﻿"},{"userId":"105852093932302478746","userName":"Wayne Douglas","date":"Jun 7, 2014, 2:21:59 PM\n(edited Jun 7, 2014, 2:22:28 PM)","shortDate":"Jun 7, 2014","textHtml":"I'm getting this in 4.0.18 - where we used to be able to set /auth/facebook/?continue=<a rel=\"nofollow\" target=\"_blank\" href=\"http://someUrlOnOurWebsite.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://someUrlOnOurWebsite.com</a> and the user would be redirected there - now they get the service description page?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 8, 2014, 3:41:30 AM","shortDate":"Jun 8, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105852093932302478746\" oid=\"105852093932302478746\">Wayne Douglas</a></span>&nbsp;don't recall anything changing in v4.0.18, the latest change was the default /auth route in the latest release now returning session info if authenticated and in the current release (on MyGet) where we now support locking users out of any auth provider. I've tested ?continue=xxx and it still works. Not sure why you're getting a blank page, it might be masquerading an error somewhere? I'd look into the request logger or Fiddler to see if it sheds any light.&nbsp;﻿"}],"date":"Jun 5, 2014, 1:27:15 AM","shortDate":"Jun 5, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"Improving \"RPC\" support for RabbitMQ in ServiceStack<br><br>After quite a bit of struggle, I've finally found a temporary solution for the \"RPC\" mode of using MQ. Most if not all of the observations below apply uniquely to RabbitMQ, but the changes I'd like to propose should not 'ruin' purity of ServiceStack's interfaces which are MQ implementation agnostic.<br><br>The way \"RPC\" is implemented today does not work great, nor will it ever reliably work, but I think it can be fixed with not a lot of effort.<br><br>By default, ServiceStack will publish messages with responses to the .inq of the response DTO: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#messages-with-responses-are-published-to-the-response-inq\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#messages-with-responses-are-published-to-the-response-inq</a><br><br>This sort-of works, except when it doesn't ;), here's what's problematic:<br>1. When multiple requests are \"in flight\", multiple consumers will call 'Get' on the same .inq, which means that sometimes they will get the response not meant for them. The field \"ReplyId\" could and should be used to distinguish if the response is meant for the consumer in question, but the problem becomes what to do with the message. You must Nak it, otherwise it stays in limbo (not consumed but not visible by other consumers), but then the same message gets returned to you when you call \"Get\" again. In fact, I've seen - in roughly 50% of tries, so often - a degenerate case where two consumers pull other consumer's response, then Nak it, then pull it out again, in a loop, endlessly.<br>2. Also, when multiple requests are in flight, I've occasionally seen the exception \"Pipelining of requests forbidden\". This is a purely technical issue in the RabbitMQ.Client (or its usage by ServiceStack) but is related to the fact that we're reusing the same queue as reply queue, so if we can avoid that we can avoid this exception too.<br><br>Here's what can be done to work around the problem:<br>1. You could use ReplyTo to publish response to a given queue, supported by ServiceStack and documented here: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#responses-from-messages-with-replyto-are-published-to-that-address\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#responses-from-messages-with-replyto-are-published-to-that-address</a> In fact, this is the recommended way to implement \"RPC\", both by RabbitMQ tutorial and by the author of the book \"RabbitMQ in Action\". However, you cannot reuse the queue or you face again the issues above, so you must create a unique queue for each \"RPC call\". But then number of queues with silly names (to assure uniqueness you'll probably use GUID as a part of the name) will grow rapidly and become a burden. The workaround I've found is to configure RabbitMQ server to expire all queues with no activity for N milliseconds, details here: <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/ttl.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/ttl.html</a> (see section Queue TTL). This works and is what I'm using at the moment, but there is a better solution.<br>2. It's a bit difficult to see, but both RabbitMQ tutorial and the book mentioned above use a 'special' kind of queue to publish the call response to: it's a queue with no name (so it gets auto-named by RabbitMQ) which is also auto deleted. It's very easy to create this queue, using (RabbitMQ IModel's) QueueDeclare with no parameters will give you exactly the kind of queue you need. Its response can be converted to string to find out what the created queue's name is. Unfortunately, this method isn't exposed in MQ agnostic way in ServiceStack, so we have no way of calling it.<br><br>So finally, what I propose is that ServiceStack adds a method somewhere (not sure where it would be most appropriate, MqProducer or MqQueueClient or MqServer even) to simply create a queue with no parameters, which would in case of RabbitMQ do the right thing (delegate to the QueueDeclare with no parameters too); for Redis, please see below. This method would return string which we can then use to set \"ReplyTo\" knowing that the queue will be deleted as soon as we drain this queue (basically by consuming the only message posted to it). For Redis, since the mechanism of auto-delete doesn't exist, I'm not sure if this method should simply not do anything and return null or even throw. In order to aid API discoverability, the ServiceStack's method name might even include words like \"AutoDelete\" and/or \"AutoName\" and such so that it's purpose is clear.<br><br>I hope this is not a big change to ask for, yet it will help many other trying to use the \"RPC\" pattern with ServiceStack and RabbitMQ.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 5, 2014, 12:31:55 PM","shortDate":"Jun 5, 2014","textHtml":"I'm going to have to do a bit more R&amp;D on this, I'll look into your proposals first.<br><br>If you have a small RPC test example of what you mean that just uses RabbitMQ.Client that would help.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jun 5, 2014, 2:52:52 PM","shortDate":"Jun 5, 2014","textHtml":"It's actually directly demonstrated in their own tutorial for RPC here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html</a> (13th line or so in the RPCClient.cs:&nbsp;replyQueueName = channel.QueueDeclare(); note conversion from QueueDeclareOk into string replyQueueName)<br><br>Their example is actually incorrect but works by accident :(<br><br>For example, they check messages in a loop and just ignore ones that do not have same correlationId, like I said this doesn't work (messages that are not Nak'd remain in limbo) plus who's gonna post to this queue but us - nobody knows the reply queue name since it's generated by RabbitMQ as illustrated in 'line 13' above.<br><br>Alternatively, take their example, then fix the name of the reply queue to a fixed value like \"ResponseQueue.inq\" (so create a named queue) or whatever, then launch two clients and one server and watch in horror how messages get lost (one of the clients will eventually take message meant for the other, then just ignore it).<br><br>Then add \"Nak\" for messages with not matching correlation id then watch in horror how clients 'steal' each other's message, Nak it back into queue, then get it again and so on.<br><br>The &nbsp;key is line 13 or so - by calling QueueDeclare() we get back the queue suitable for our purposes, I simply want a way to be able to call ServiceStack to call this for me, I want to keep the MQ abstraction as much as I can (you too probably).<br><br>If you have the chance, take a look at RPC chapter in \"RabbitMQ in Action\", it says the same thing.<br><br>The main reason for the problem appears to be that the order of messages (when pulled or Nak'd back into the queue) isn't defined, which intuitively makes sense to me.<br><br>Note also that once one uses this mechanism to create a reply queue per call, there is no more need for correlation id, since the reply queue is never shared with anyone else and only used for the response message (and is deleted automatically because it's created as auto-delete).<br><br>We have been using the workaround listed in the previous message and haven't had a single issue since, what I'm proposing is an improvement and guidance for others who might find themselves in a similar situation.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 12, 2014, 2:20:45 AM","shortDate":"Jun 12, 2014","textHtml":"I've added GetTempQueueName() on all MQ providers in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/2d5f707ab436a1371e0186117de1e668a2ea8831\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/2d5f707ab436a1371e0186117de1e668a2ea8831</a><br>As well as RPC tests with multiple concurrent clients using the temp queue names for all MQ providers. The exclusive non-durable queue's prevent them from showing up as a queue in RabbitMQ server so it should do what you need, if not let me know what needs changing.&nbsp;<br><br>The Queue Names for all providers are just being created with a configurable prefix and a Guid seen in:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/d479a14f3649df0a111b519ac98521e14acd397f\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/d479a14f3649df0a111b519ac98521e14acd397f</a><br><br>These changes are now available on MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Jun 12, 2014, 8:49:02 AM","shortDate":"Jun 12, 2014","textHtml":"Great! One small question though: why not pass empty string to RabbitMQ, it will generate the queue name for you automatically? Did you want to unify the name strategy for other purposes in ServiceStack?<br><br>I think this time I'll definitely use MyGet feed to test the change because one of the previous fixes (unrelated) I haven't tested and now the fix is available through NuGet looks like it's not working (will report this in the original issue).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jun 12, 2014, 12:36:04 PM","shortDate":"Jun 12, 2014","textHtml":"Yeah wanted all queue names to share the same strategy.﻿"}],"date":"Jun 4, 2014, 6:18:12 AM","shortDate":"Jun 4, 2014"},{"userId":"117050369125562149223","userName":"Tarek Haoula","textHtml":"Does anyone know where the servicestack documentation resides. The Wiki seems to be a mix of version 3 and version information.<br>Does the closed source version have its own pages?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 28, 2014, 7:19:01 PM\n(edited May 28, 2014, 7:21:07 PM)","shortDate":"May 28, 2014","textHtml":"The wiki is the main source of docs.<br>What parts of the wiki look 'v3'?<br>Also there is no hidden or \"closed-source\" version of ServiceStack, i.e. all the source code is on GitHub. v4 releases are made from the 'master' branches.﻿"}],"date":"May 28, 2014, 7:02:35 PM","shortDate":"May 28, 2014"},{"userId":"110882408028096411012","userName":"Jeffrey Sullivan","textHtml":"I'm having trouble getting direct manipulation of sessions working properly. &nbsp;Using some code from the source and a tip from Demis, I've put together something in our unit test client to auth the user and then recover the session. &nbsp;The AuthResponse I'm getting from the service has a SessionId of 533, which results in a constructed urn of \"urn:iauthsession:533\", whereas the urn in the Redis cache is \"urn:iauthsession:sbQBLwb1WpRj8DqQ7EdL\", so obviously, the thing being passed to the urn builder in the running code is not simply the session id (or the overload being used is not what I think it is).<br><br>Here's the code we're using in our test base class to try to recover the session from the auth call:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var client = new JsonServiceClient(ServiceTestAppHost.BaseUrl)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UserName = userName,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Password = password,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AlwaysSendBasicAuthHeader = true<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var response = client.Post&lt;AuthResponse&gt;(\"/auth/basic\", new&nbsp;Auth() { UserName = userName, Password = password, RememberMe = true });<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var sessionKey = IdUtils.CreateUrn&lt;IAuthSession&gt;(response.SessionId);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var session = _appHost.TryResolve&lt;ICacheClient&gt;().Get&lt;SsoUserSession&gt;(sessionKey);﻿","comments":[],"date":"May 27, 2014, 12:16:24 PM","shortDate":"May 27, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"What is the ServiceStack story with Redis and high availability (multi-zone setup) on AWS? Redis is something I've only used with ServiceStack so there's a lot about it I don't know. ElastiCache isn't multi-zone automatically like RDS. Or taking a step back, what's the recommended setup for ServiceStack on AWS? As I see we could move to DynamoDB now for sessions and basic cache by the looks of it. Is that better? &nbsp;We also have message queues on Redis, we'd at least like to have fall over to B zone if A goes down. &nbsp;(Don't want to have to use sticky sessions.)&nbsp;﻿","comments":[{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"May 26, 2014, 4:31:11 AM\n(edited May 26, 2014, 4:31:24 AM)","shortDate":"May 26, 2014","textHtml":"I'm using&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://redislabs.com/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redislabs.com/</a> (I'm not affiliated with them), and they provide cheap options for multi-az deployments of Redis, with transparent failover, as you're just connecting via an URL. Their prices are very competitive with Amazons, and they have options which they claim allows the Redis instances to scale \"infinitely\" (the Pays-as-you-go pricing tier).<br><br>Using them frees your hands to focus on coding, rather than managing Redis :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 26, 2014, 11:18:56 AM\n(edited May 26, 2014, 12:48:17 PM)","shortDate":"May 26, 2014","textHtml":"It does appear&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://redislabs.com/blog/aws-elasticache-now-with-a-dash-of-redis#.U4NSkZRdUnc\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://redislabs.com/blog/aws-elasticache-now-with-a-dash-of-redis#.U4NSkZRdUnc</a> offers a few advantages over AWS elasticcache, esp. in regards to transparent failover.<br><br>The Redis ClientManagers work by iterating over a static list of master(write) and slave(read) IP's provided at configuration to find a valid connection it can use for read/writes. The RedisClient doesn't auto promote slaves themselves to master but the clientManagers do offer a&nbsp;FailoverTo() API's to switch over to the new master/slave IP's.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 26, 2014, 7:47:45 PM","shortDate":"May 26, 2014","textHtml":"Unfortunately it looks like RedisLabs doesn't provide a multi-AZ service in my region, at least not yet. &nbsp;<br>Are the redis client managers used by ServiceStack MQ implementation? &nbsp;I've a hunch it might not be, so in that case it wouldn't work for us. &nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 26, 2014, 7:58:16 PM","shortDate":"May 26, 2014","textHtml":"yeah it's a required argument in the RedisMqServer constructor:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Messaging/Redis/RedisMqServer.cs#L130\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Server/Messaging/Redis/RedisMqServer.cs#L130</a>﻿"}],"date":"May 25, 2014, 10:22:53 PM","shortDate":"May 25, 2014"},{"userId":"110882408028096411012","userName":"Jeffrey Sullivan","textHtml":"Is it possible to access session (and specifically, session via&nbsp;EndpointHost.AppHost.TryResolve&lt;ICacheClient&gt;().SessionAs&lt;MyUserSession&gt;(); inside of a service host based off of&nbsp;AppHostHttpListenerBase?<br><br>The error in the source implies that it's only accessible via ASp.NET objects, which limits its usefulness for regression/functional testing via an in-proc host.<br><br>(More detailed version of this Q was posted on StackOverflow. See link.)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 12:35:43 PM","shortDate":"May 25, 2014","textHtml":"Yeah, retrieving the session is basically just resolving the UserSession stored in the cache at the SessionId which is derived from the ss-id/ss-pid Cookies sent with the request.<br><br>The `SessionAs&lt;T&gt;` API provides optional overloads so you can pass in the HttpListener Request/Response, see:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L177\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L177</a><br><br>If a Request/Response isn't provided it falls back to using <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>'s HttpContext.Current.&nbsp;<br><br>You can also manually get the SessionId from the request with httpReq.GetSessionId() ext method:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L21\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/SessionExtensions.cs#L21</a><br><br>Which would look like:<br><br>var sessionId = httpReq.GetSessionId();<br>var sessionKey = IdUtils.CreateUrn&lt;IAuthSession&gt;(sessionId);<br>var session = Cache.Get&lt;TUserSession&gt;(sessionKey);﻿"},{"userId":"110882408028096411012","userName":"Jeffrey Sullivan","date":"May 25, 2014, 2:35:57 PM\n(edited May 25, 2014, 2:36:22 PM)","shortDate":"May 25, 2014","textHtml":"Okay, thanks Demis.<br><br>This works fine for services, but for Models which want to access the permissions data held in the session post-authentication, we end up needing to manually wire the Session into the Model for each call, even though the model is auto-wired into its service by Funq. (Because the httpRequest can't be auto-wired to the Model as far as I can tell.)<br><br>Is there a best practice for exposing the current user session to model classes in a clean and DRY manner?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 3:56:11 PM\n(edited May 25, 2014, 3:58:35 PM)","shortDate":"May 25, 2014","textHtml":"The Session is not a normal IOC dependency, it requires access to the current Request Cookies to work out the sessionKey at where the UserSession is stored (as shown in the code above).&nbsp;<br><br>It's not injectable, you need the current request at runtime, the cache to resolve it and the generic type of the TUserSession to deserialize it into, i.e. what the Cache.SessionAs&lt;T&gt;(Request,Response) API requires.&nbsp;﻿"},{"userId":"110882408028096411012","userName":"Jeffrey Sullivan","date":"May 25, 2014, 3:59:07 PM","shortDate":"May 25, 2014","textHtml":"Yeah, we had figured all of that out, but our solution (i.e., a SetSession(MyUserSession session) method call on the model before each service invocation) seems rather inelegant, and I was wondering if there were any best practices around it that people have come up with. &nbsp;I didn't find any when searching, but this seems like a solved problem.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 25, 2014, 4:06:06 PM","shortDate":"May 25, 2014","textHtml":"Whenever I need access to the session I just pass it in as an argument to whichever dependency needs it. You can reduce any boilerplate with a base class or an extension method.&nbsp;﻿"},{"userId":"112912023223668381449","userName":"Kyle Gobel","date":"May 26, 2014, 2:22:53 AM","shortDate":"May 26, 2014","textHtml":"I posted what I do for this sorta thing on your question, not sure if it's bad or good...but works for me.﻿"},{"userId":"110882408028096411012","userName":"Jeffrey Sullivan","date":"May 27, 2014, 9:59:54 AM","shortDate":"May 27, 2014","textHtml":"Kyle, that's an interesting approach, and I suppose my questions are twofold: 1) is that concurrency-safe? 2) What <b>is</b> the performance impact of running a Resolve() for each session access? (Certainly one could pair this with a singleton pattern to do the resolve only once per call lifecycle)?﻿"}],"date":"May 25, 2014, 12:02:33 PM","shortDate":"May 25, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Has anybody else needed (or wanted) to use the SqlList&lt;T&gt; ORM extensions with a generic dictionary/expando? &nbsp;I had posted a question (&amp; hacked solution) at the time in 3.9.X, and was hoping to avoid forking the 4.X to implement this.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/19390196/using-a-listdictionarystring-string-with-servicestack-ormlite-sqllist\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/19390196/using-a-listdictionarystring-string-with-servicestack-ormlite-sqllist</a><br><br>This lets us issue some generic SQL commands and put the resulting table into a List&lt;Dictionary&lt;string,object&gt;&gt;&nbsp;﻿","comments":[{"userId":"110133004964302501836","userName":"Sir Thomas","date":"May 28, 2014, 10:01:45 AM","shortDate":"May 28, 2014","textHtml":"I am a bit surprised that nobody has needed or wanted something like this. &nbsp;Is there a better way to return \"anything\" (ie, not a pre-coded poco) from a custom SQL ?﻿"}],"date":"May 20, 2014, 3:11:23 PM","shortDate":"May 20, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"Is the ServiceStack.Stripe API (4.0.20) up to date or I'm using it wrong?<br><br>I need to pass the Card as a token using client side Stripe.js. And also I was getting a data type issue, Stripe is expecting the TrialEnd date to be an int (Unix date) . I'm getting around it by posting this:<br><br>public class CreateStripeCustomerFromToken : CreateStripeCustomer<br>\t{<br>&nbsp; &nbsp;public new string Card { get; set; }\t<br>&nbsp; &nbsp;public new long TrialEnd { get; set; }\t\t<br>\t}<br>Just curious if others have the same issue? For the date issue I guess it could be one of these overrides that we rely on else where causing an issue. -- &nbsp;JsConfig&lt;DateTime&gt;.SerializeFn = ... etc.﻿","comments":[{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 20, 2014, 5:41:31 AM","shortDate":"May 20, 2014","textHtml":"Customer.Subscription appears to be Customer.Subscriptions collection now. However I see how easy it is to replace or override this service contract in my own code now.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 20, 2014, 5:55:11 AM","shortDate":"May 20, 2014","textHtml":"Actually is there a way I can control the scope of: &nbsp;ServiceStack.Text.JsConfig&lt;DateTime&gt;.SerializeFn ?﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 20, 2014, 8:15:22 AM\n(edited May 20, 2014, 8:16:23 AM)","shortDate":"May 20, 2014","textHtml":"There is JsConfig.BeginScope() however it doesn't apply to these functions. According to this* and by my testing. &nbsp;But is it thread safe to do what is suggested in the answer? I can't see how it would be.<br><br>*<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/17848932/servicestack-set-serialize-function-within-a-scope\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/17848932/servicestack-set-serialize-function-within-a-scope</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 20, 2014, 12:20:26 PM","shortDate":"May 20, 2014","textHtml":"Are you doing this from within the StripeGateway? because each call to Stripe is already run within a customized scope which converts DateTime's to Unix timestamps, see:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs#L392\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Stripe/blob/master/src/Stripe/StripeGateway.cs#L392</a>﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 20, 2014, 6:53:59 PM","shortDate":"May 20, 2014","textHtml":"It seems like ServiceStack.Text has two systems - the scoped one you mention and the intercepts in the generic JsConfig&lt;T&gt;.SerializeFn / DeserializeFn - can these ones be scoped too?&nbsp;﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 20, 2014, 11:28:47 PM\n(edited May 20, 2014, 11:29:43 PM)","shortDate":"May 20, 2014","textHtml":"In my custom serializeFn this check appears to work:<br>if (JsConfig.DateHandler == DateHandler.UnixTime) {<br>&nbsp; &nbsp; return date.ToUnixTime().ToJson();<br>\t\t\t}﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 21, 2014, 7:20:04 AM","shortDate":"May 21, 2014","textHtml":"ok great, because the type-specific JsConfig&lt;T&gt; config can't be scoped.﻿"}],"date":"May 20, 2014, 5:23:04 AM","shortDate":"May 20, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"MQ issues and potential improvements (apologies for relatively long post, do read if you are or plan to use MQ)<br><br>We're looking into integrating message queuing due to its undeniable advantages vs direct communication between services.<br>We hesitated to implement Redis based solution due to lack of skills of Linux administration but in the end the actual implementation of the MQ Server should not matter much if we are to use built-in support in ServiceStack which nicely hides the actual details behind its own set of interfaces.<br>Once RabbitMQ support became available, seeing how it's much easier to install RabbitMQ on Windows, we went that route.<br><br>However, there are several things that aren't so great in the RabbitMQ implementation and some are even show stoppers for us:<br>1. The threading approach IMHO isn't great - there's one thread per queue, and 4 queues per DTO, which means that for moderately sized deployment where services exchange a couple dozen messages (say 20) there'll be 80 threads(!) created. Now, this isn't a big issue when self hosting but when in IIS, this just feels wrong. That said, we can live with this for the moment.<br>2. There are subtle threading issues when sending a message, then synchronously waiting for response - if the service that should handle the sent message isn't running (rare occurence but possible), the requester will send another message meant for the same non-running service (while the previous request is still being 'handled') but then the underlying library RabbitMq.Client will throw \"Pipelining of requests forbidden\"; based on some vague explanations in the rabbitmq forums, this appears to be an 'error' in the code using the library, which in this case would be ServiceStack; I am not entirely sure that their reasoning is correct, but if it is then it's a bug (should I post this to Issues?)<br>3. The main issue for us is not a bug but missing functionality which we hope should be very interesting to anyone using MQ: multi-tenancy. What we mean by this is simple: imagine a database server (say, SQL Server). You most likely have one instance running per environement (test, staging, production). On top of that, each server manages several databases (could be for storage of different applications or same schema but one database per your client). We basically need the latter - to 'group' message queues so that we can encapsulate them as one would tables in a database (at the moment, if we wanted separate group of queues, we'd need to install another instance of MQ server). I know that this is generally handled via 'topics' or other similar concepts in MQ servers, but this would have to be propagated all the way back to ServiceStack's implementation and be exposed in interfaces. From the service point of view, it can be surfaced even as a simple modification of the 'connection string' so that it includes not just the name of the machine (and port) but also a 'name' of... not sure how we would call this, but I hope you understand.<br><br>Now, all that said, end of last week Microsoft has shown that they aren't neglecting the Windows port of Redis, so we've started reevaluating using that as an alternative. Issues 1 and 2 from the list above shouldn't apply, but 3 still does. There's one more thing I'm not sure about with Redis: does it support acknowledging messages?<br><br>Finally, questions: would you consider implementing 3 in the near term? Do you need more info on 1 and/or 2?<br><br>Thanks again for the wonderful library, it makes our coding a pleasure each and every day.﻿","comments":[{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 19, 2014, 5:15:21 AM","shortDate":"May 19, 2014","textHtml":"Additionally, I am aware we can implement whatever we want ourselves by using RabbitMq.Client or any Redis C# client out there (ServiceStack's or not) but it would be shame to reinvent hot water when ServiceStack's support is already great. I forgot to say but our glue code which enables service-to-service communication through the MQ is - thanks to ServiceStack's support - ridiculously small, something like 10 lines of code!﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"May 19, 2014, 5:32:48 AM\n(edited May 19, 2014, 5:33:34 AM)","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;I have taken the liberty of integrating a client's MQ code with the MS Redis server port on Windows 2008r2 - so far we've seen NO problems at all with Redis. It's not a high-concurrency enviroment, so the Redis server is not handling more than a 30-50 messages per minute (when it's wild). I'm using these redis binaries:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/MSOpenTech/redis/blob/2.6/bin/release/redisbin64.zip\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/MSOpenTech/redis/blob/2.6/bin/release/redisbin64.zip</a><br>and then this \"redis as a service wrapper\":&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/downloads/kcherenkov/redis-windows-service/RedisService_1.1.exe\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/downloads/kcherenkov/redis-windows-service/RedisService_1.1.exe</a><br><br>edit: and it's been running for 6 months now by the way, without misbehaving even once.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 19, 2014, 6:02:18 AM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105618793358138109545\" oid=\"105618793358138109545\">Nicklas Overgaard</a></span>&nbsp;Thanks for sharing your experience. For our uses, we also won't have a lot of messages passing through (though we will have much more than 50 per minute) but we do need it to be reliable. The reason I'm (re)evaluating Redis is because now that Microsoft is offering it as a part of Azure, they are proving they are definitely committed to continuing to maintain the port. Additionally, our message queueing needs are simple so Redis should be good enough (assuming the point 3 of my post is implemented in ServiceStack), IOW we don't exactly require a full blown MQ server for our needs, <i>plus</i> we could reuse Redis instance as a shared cache, already supported in ServiceStack (of course). It's a win-win-win I guess :)﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"May 19, 2014, 6:09:55 AM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;You're welcome! Stable it has been I must say. And thanks for mentioning the fact about Azure and Redis, i hadn't noticed that - it's very good news indeed.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 19, 2014, 8:24:19 AM\n(edited May 19, 2014, 8:25:23 AM)","shortDate":"May 19, 2014","textHtml":"1) There is only 1 thread per .inq or .priorityq (.dlq / .outq do not have listeners). If you're not using priority queues you can disable them with `mqServer.DisablePriorityQueues = true` (mentioned in docs <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#starting-the-rabbit-mq-server\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#starting-the-rabbit-mq-server</a>) - leaving only 1 thread per .inq.<br><br>2) If you can provide a repro on SS/Issues I can investigate.<br><br>3) You can add site-specific namespacing with the QueueNames with `QueueNames.SetQueuePrefix(\"site1.\")`, or completely change the QueueNames used with `QueueNames.ResolveQueueNameFn`, see the MqNameTests for some examples:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqNameTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqNameTests.cs</a><br>Note: as to be expected when using modified naming, both the server and client need to have the same configuration.<br><br>RedisMQ doesn't have ACK/NAKs, we just use a normal redis server-side list to implement the queuing and a redis topic for notifications of new msgs. Use RabbitMQ if you need&nbsp;ACK/NAKs.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 19, 2014, 8:35:35 AM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; thanks for your response, precise and useful as usual. A couple observations though:<br>1. We're actually already disabling priority queues, yet I thought I saw more threads in the debugger window than just one per .inq... Either way, this was less important than other two issues (and if I do see more threads, will send you a screenshot).<br>2. I knew you'd say that :) Fair point, I'll see if I can repro with a tiny test case.<br>3. Excellent, didn't know this even though I've gone through the docs (clearly not looked good enough). I'm not sure what you mean by both server and client need to have same configuration - do you mean both server and client side of the relation when exchanging a message? When I say server I usually mean an instance of the MQ server itself, that's why I'm asking.<br><br>We actually don't require ACK/NAKs, though it would be nice to have.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"May 19, 2014, 8:42:40 AM","shortDate":"May 19, 2014","textHtml":"It also looks like you would like to use the RPC functionality of MQ, which SS does not support. &nbsp;I have asked for it in uservoice, Demis says to vote on it if you want it. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4459053-add-more-mq-options\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4459053-add-more-mq-options</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 19, 2014, 8:44:40 AM","shortDate":"May 19, 2014","textHtml":"As in if you're using custom mq naming, e.g `QueueNames.SetQueuePrefix(\"site1.\")`, then the client needs it so it sends it with that prefix and the server needs the same configuration so it knows to listen to the prefixed queues.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 19, 2014, 8:48:34 AM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;Yeah, of course, it's understood (was just the word server that confused me), thanks.﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"May 19, 2014, 8:53:00 AM","shortDate":"May 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;Well, as for RPC (though I wouldn't call it that) it's already supported. You can post a message to a queue, then synchronously wait for a response and it will work like a charm, nothing extra is needed. Apart from the threading issue I hint at in my point 2, it works great for us. The client doesn not know who or how processes the message (it turns out both client and server are SS services) so we've achieved decoupling we wanted.<br>Though it would be nice to have a better async support - ideally using async/await rather than today's \"polling\" async, but this is a 'nice to have'.<br>I guess for people with more complex needs supporting a fuller set of MQ features like RabbitMQ does could be benefitial, for us SS messages service abstraction is currently good enough (especially if we go back to Redis).﻿"},{"userId":"117419102482866616321","userName":"Stephen Patten","date":"Oct 20, 2014, 2:25:31 PM","shortDate":"Oct 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;I'd like to thank you for for these very informative and thorough Message Queue posts. I had been struggling with the RabbitMQ implementation vs. the RabbitMQ documentation and originally discounted RPC. Well low and behold it turns out that some of our API clients need synchronous calls to be made, so the RPC pattern seems like the right fit. Again, thank you for laying out the foundation for us.<br><br>Were there any other road-blocks that hindered your adoption of RabbitMQ and the ServiceStack abstraction over it's API?<br><br>-Stephen &nbsp;﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Oct 20, 2014, 2:47:01 PM","shortDate":"Oct 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/117419102482866616321\" oid=\"117419102482866616321\">Stephen Patten</a></span>&nbsp;You're welcome. It's the least I can do seeing how a lot of ServiceStack goodness is thanks to the efforts of the community, I can at <b>least</b> give back some (hopefully) useful feedback.<br><br>That said, I'm afraid we had to abandon (temporarily) ServiceStack + RabbitMQ due to two reasons:<br>1. When you host multiple services each in its own Web app in IIS, there's a deadlock somewhere in the ServiceStack which blocks the synchronous call. This was a long standing problem that I've never gotten to properly repeating in an isolated test case - when I do, I'll post a bug to the ServiceStack issue tracker.<br>2. ServiceStack (at the time, a dozen or so revisions back) depended on a relatively older version of RabbitMQ so some of the authentication changes in RabbitMQ broke things in a way not possible for us to fix (requires changes to ServiceStack). Again, once I can trivially repeat issue [1] I'll ask for ServiceStack to update its dependency for this to be resolved.<br><br>There's a silver lining though - thanks to the fact that MQ is hidden behind interfaces (like everything else in ServiceStack), we were able to switch to the in-memory MQ (this required hosting all services in a single Web app in IIS but again, this is trivial with ServiceStack) with a single line of code and have been using this for the last few months, waiting for the proper chance to revisit the issues and move to proper MQ.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Oct 20, 2014, 3:43:37 PM","shortDate":"Oct 20, 2014","textHtml":"ServiceStack does not support RPC for RabbitMq. &nbsp;Other alternatives such as <a rel=\"nofollow\" target=\"_blank\" href=\"http://easynetq.com/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://easynetq.com/</a> do support RPC. &nbsp;I think Demis is considering supporting RPC based on user requests/feedback though.<br><br>There are quite a few other drawbacks to RabbitMQ, so we are considering the use of ServiceBus for Windows (onpremise)﻿"},{"userId":"117419102482866616321","userName":"Stephen Patten","date":"Oct 20, 2014, 5:28:43 PM","shortDate":"Oct 20, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;Are you sure? There are tests in the ServiceStack which seem to indicated support for RPC?&nbsp;﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Oct 20, 2014, 5:42:45 PM","shortDate":"Oct 20, 2014","textHtml":"According to my email from Demis on 3/13 it does not and he said it will not be prioritized until there is a demand to it. &nbsp;It could have changed and I missed the update? &nbsp;<br><br>Here is his full response:<br><br>As always, the place to request features is on ServiceStack;s UserVoice site:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a><br>It wont be something that's prioritized until there's demand for it and the benefits/use-cases for doing so are clear.<br><br>RPC-style communication is better done with HTTP where the response is returned as part of the same Request / TCP connection.<br>A JavaScript RPC/MQ method as you describe would not be possible without utilizing some form of bi-directional HTTP (e.g. using WebSockets) which requires some intermediary for processing MQ responses, correlating them with the request and ensure the response is published back (via bi-directional HTTP) to the right consumer that made the request. This adds additional moving parts/machinery, complexity, etc for processing a service request. Which is contrary to our goal is to reduce complexity and eliminate un-necessary moving parts.&nbsp;<br><br>Although the MQ servers already support the Request/Reply pattern by specifying a ReplyTo property:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqServerIntroTests.cs#L161-L171\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Server.Tests/Messaging/MqServerIntroTests.cs#L161-L171</a><br>There are a few other concerns you have to consider when implementing the MQ Reply pattern potentially dependent on your use-case, do you need a temporary unique queue name? unique per request or per consumer? should it use a different priority? should you use a centralized queue and a mediator to correlate requests with their responses? In that case maybe using the outq topic would be preferable? Maybe directly sending the response to a HTTP Service would be better? How long should you block for? should you retry when the operation times out?<br><br>I don't believe these opinions should be wrapped in a synchronous 1-method block, it's more meaningful to keep the parts separate so it's clear what's going on, and if any of it fails, it's clear where. Others can also choose to implement a more efficient pattern for their use-case, e.g. if I wanted to implement bi-directional MQ reply's over Ajax I would likely go with a central server processing all MQ Ajax Responses that handles all web-socket client connections and utilize ReplyTo HTTP responses directly to this server that includes the client connection id and operation name so the server can just publish the JSON response to the browser's web socket connection, the JS client would publish this as an event on the page that multiple subscribers can register callbacks to. This is easily a separate OSS project, maybe it would make a great OSS project for someone in the community who wants to add this functionality to their solution. Either way it would be a fair bit of work and R&amp;D and not something I would prioritize above everything else until there's enough demand for it.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 20, 2014, 5:51:37 PM\n(edited Oct 20, 2014, 6:42:26 PM)","shortDate":"Oct 20, 2014","textHtml":"The Request/Reply MQ pattern is both supported and documented: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#responses-from-messages-with-replyto-are-published-to-that-address\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Rabbit-MQ#responses-from-messages-with-replyto-are-published-to-that-address</a><br>My reply was in response to your proposal for building in opinionated Ajax RPC/MQ-backed solution. As mentioned above HTTP is superior, simpler and faster for consuming Request/Reply services via Ajax.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Oct 20, 2014, 6:00:37 PM","shortDate":"Oct 20, 2014","textHtml":"I am sorry if I am confused here. &nbsp;I was speaking of RPC scenario. &nbsp;Not really 'request/reply;, but RPC over RabbitMQ.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 20, 2014, 6:08:51 PM","shortDate":"Oct 20, 2014","textHtml":"Not sure what \"RPC over RabbitMQ\" means. What's missing in Request/Reply that's possible in RPC?﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Oct 20, 2014, 6:30:51 PM","shortDate":"Oct 20, 2014","textHtml":"Ultimately we should be able to make a call something like this: someService.SomeFunction(12) or<br><br>var request = new TestRequestMessage {Text = \"Hello from the client! \"};<br>bus.Request&lt;TestRequestMessage, TestResponseMessage&gt;(request, response =&gt;&nbsp;<br>&nbsp; &nbsp; Console.WriteLine(\"Got response: '{0}'\", response.Text));<br><br>The client code would not proceed until that function returns (like normal). &nbsp;That call goes out over RabbitMQ, or whatever. &nbsp;Ultimately I was looking for something that was that simple. &nbsp;Just like what is show at the first example on this page: &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/tutorials/tutorial-six-dotnet.html</a><br><br>I think it should be that easy and that buttoned up.....of course if I want to do it all manually - I could write all that code.<br><br>Sorry if I was unclear, have missed something or misrepresented your very nice product - just trying to be helpful. &nbsp;:-)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Oct 20, 2014, 6:40:46 PM\n(edited Oct 20, 2014, 6:52:56 PM)","shortDate":"Oct 20, 2014","textHtml":"Note: the Request/Reply impl works very much like what is described on the linked RabbitMQ RPC article, i.e. the client creates an exclusive temporary queue before sending the message which the client can then choose to either synchronously block or poll for the response. I don't think this should be combined/opinionated into a single blocking API for some of the same reasons they mention in \"A note on RPC\".﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Oct 21, 2014, 6:01:21 AM","shortDate":"Oct 21, 2014","textHtml":"Request/Reply is also known as RPC, not sure what the problem is, <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; is 100% right. In order to get the functionality <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;wants one only needs to build a tiny wrapper which calls from one service to the other 'through' MQ (we built one it's like 10 lines of code), you can even pretend that you don't know which mechanism is being used and in the future replace MQ with something else. Basically, it's like an abstract bus between services.<br>As long as you host your services in the same AppDomain things work fine. When this is not the case, we're seeing deadlocks (looks independent from the MQ implementation). This is really the only issue we're having at the moment. ServiceStack completely and thoroughly covers all usual MQ scenarios, there's not much to add.﻿"}],"date":"May 19, 2014, 5:11:53 AM","shortDate":"May 19, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"We're using the ServiceStack bundler to bundle several css files from plugins, widgets and other assorted vendor drops into one or two css files. To keep things tidy and easy to discern, each vendor drop exists on a separate folder (one for select2, one for jquery ui, etc).<br><br>This means that we need to rewrite the urls in the css to add parts of the path, since images and fonts are on the vendor folder, but the minified css would exist one step up.<br><br>I've looked at CleanCSS and it supports that scenario, but haven't found how to actually implement it using Bundler. I was able to pass some options to CleanCSS after removing the lowercase transform and some other shenneningans, but it wasn't possible to pass a different folder to each file.<br><br>Is it possible to rewrite the urls on css using bundler?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 16, 2014, 3:19:12 PM","shortDate":"May 16, 2014","textHtml":"Do you know how to do with cleancss? because options defined in <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23options\">#options</a> get passed to cleancss<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Bundler#example-file-with-options\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Bundler#example-file-with-options</a><br><br>Otherwise you may need customize how cleanCss is called by editing bundler.js:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Bundler/blob/master/src/bundler.js#L455\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Bundler/blob/master/src/bundler.js#L455</a>﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"May 17, 2014, 9:56:27 AM","shortDate":"May 17, 2014","textHtml":"I think that bundler.js lowercases the options ( <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Bundler/blob/master/src/bundler.js#L139\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Bundler/blob/master/src/bundler.js#L139</a> ), and it seems like all files in a bundle get the same options, which is not what we need.&nbsp;<br><br>I was hoping to avoid maintaing a custom version of bundler...﻿"}],"date":"May 16, 2014, 2:59:35 PM","shortDate":"May 16, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Has there been any interest in having a ServiceStack hook for Aerospike? &nbsp;Curious if any Redis users out there have integrated it and/or have any suggestions.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 14, 2014, 12:19:47 PM\n(edited May 14, 2014, 1:39:57 PM)","shortDate":"May 14, 2014","textHtml":"I've never heard of aerospike myself, but you may want to ask on the larger public ServiceStack G+ community for better chance of feedback:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/communities/112445368900682590445\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/communities/112445368900682590445</a>﻿"}],"date":"May 14, 2014, 12:07:41 PM","shortDate":"May 14, 2014"},{"userId":"110133004964302501836","userName":"Sir Thomas","textHtml":"Recently discovered the JS utils that are built-in to newest versions - love it. &nbsp;Question about form submission - I am using the \"ToPostURL\" in an html form action to post my data back to server, but how best to avoid refreshing or redirecting the page? &nbsp;Is there a sexier way than using iframe as target?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 9, 2014, 12:09:15 PM","shortDate":"May 9, 2014","textHtml":"Yeah use $(\"form\").bindForm() to send the request via ajax, some examples at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/EmailContacts/#binding-html-forms\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/EmailContacts/#binding-html-forms</a><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/HttpBenchmarks#registration\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/HttpBenchmarks#registration</a>﻿"},{"userId":"110133004964302501836","userName":"Sir Thomas","date":"May 9, 2014, 3:19:24 PM\n(edited May 9, 2014, 3:25:22 PM)","shortDate":"May 9, 2014","textHtml":"[edited]<br>Got it - works. &nbsp;Nice case of RTFM. &nbsp;It also lets me remove the click handler on the submit button to (in my case) hide the dialog/div where the form resides.﻿"}],"date":"May 9, 2014, 11:58:20 AM","shortDate":"May 9, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"Is there any handy support built in for easily setting the Location header with a URL of the created resource after calling a POST?<br><br>I mean any handy methods, or some kind of pattern to calculate the routes and base URL from the code within the Service class, without having to hardcode that stuff?﻿","comments":[{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 9, 2014, 6:26:58 AM","shortDate":"May 9, 2014","textHtml":"Oh! oops, might have found a previous answer. Is this still the recommended way to do it?<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://groups.google.com/d/msg/servicestack/87n_-N2EYnk/aNO0JtZ13rwJ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://groups.google.com/d/msg/servicestack/87n_-N2EYnk/aNO0JtZ13rwJ</a>﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"May 9, 2014, 7:07:01 AM","shortDate":"May 9, 2014","textHtml":"Try this:<br>return new HttpResult(HttpStatusCode.Created, \"Created successfully.\")<br>{<br>&nbsp; &nbsp; &nbsp;Location = new MyDto {Id = request.Id }.ToUrl(\"GET\")<br>};﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 9, 2014, 7:10:02 AM","shortDate":"May 9, 2014","textHtml":"You can also do:<br>return HttpResult.Redirect(newUrl);﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 9, 2014, 8:46:46 AM","shortDate":"May 9, 2014","textHtml":"Thanks. But what are my options if I already return a response DTO?&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 9, 2014, 9:25:07 AM","shortDate":"May 9, 2014","textHtml":"You mean like without modifying your Service? You can set the Location header yourself using a [AddHeader] attributes, or a response filter, ServiceRunner etc.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 11, 2014, 6:32:22 PM","shortDate":"May 11, 2014","textHtml":"Happy to change my service, but&nbsp;I am confused about what you mean here. My understanding of SS is that I can return either HttpResult or my own cutom DTO. So far in my services, I have been returning custom DTO's, but the above answers indicate returning a HttpResult. Have I missed something more fundamental here? Can do both or something?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 11, 2014, 9:37:07 PM","shortDate":"May 11, 2014","textHtml":"You can return a decorated HttpResult which is what we were suggesting with our HttpResult answers, e.g:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/HttpResult.cs#L322\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/HttpResult.cs#L322</a><br><br>But I assumed you didn't want to do this when you asked:<br><br>&gt;&nbsp;But what are my options if I already return a response DTO<br><br>Which is why I then suggested the other alternatives to modifying the HTTP Response whilst returning a response DTO.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 12, 2014, 3:19:47 AM","shortDate":"May 12, 2014","textHtml":"OK, no probs then.<br>Sorry, might have wasted peoples time on this one, appologies﻿"}],"date":"May 9, 2014, 6:24:19 AM","shortDate":"May 9, 2014"},{"userId":"111566548421189684824","userName":"Phillip Powers","textHtml":"I've created a Redis-backed \"filesystem\" (complete with fine-grained inherited access control, symlinks, etc) called \"PocoFS\" that uses POCO objects as its \"files\" (basically a hierarchical database of POCO objects), and am trying to gauge if there's any interest in implementing a ServiceStack virtual FS in front of it.<br><br>For example, I could see this being useful for cases where you want to have the content of your SS site located separately in a centralized Redis database, for load-balancing purposes, etc - you could have multiple SS instances using the same Redis FS and not worry about synchronizing the content across these instances.<br><br>I've attached a picture of a simple web frontend that I've made for it to hopefully make it more clear what I'm talking about. The tree view is displaying the contents of the Redis database, where each node is a POCO object that's been serialized into it.<br><br>Currently, I'm using this as my general-purpose data store and think it could have applications elsewhere. Let me know if you think something like this could be useful to you - or not- as I don't want to spend time implementing it if there's really no need for it.<br><br>Thanks.﻿","comments":[{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"May 7, 2014, 1:36:58 PM","shortDate":"May 7, 2014","textHtml":"Possibly interested ... would need to know more about the storage itself first. &nbsp;For example, are files persisted or maintained in RAM?﻿"},{"userId":"111566548421189684824","userName":"Phillip Powers","date":"May 7, 2014, 1:38:52 PM","shortDate":"May 7, 2014","textHtml":"It's using Redis, so it's a persistent in-memory database. That means that all of the content is served from memory, but persisted to disk (in Redis AOF/ RDB form) in case of power outages, etc.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"May 7, 2014, 1:56:24 PM","shortDate":"May 7, 2014","textHtml":"I'd be interested if there was a way to control what is persisted to memory... a blob versus a reference (with storage actually being on disk).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 7, 2014, 4:11:50 PM\n(edited May 7, 2014, 4:12:08 PM)","shortDate":"May 7, 2014","textHtml":"I recommend posting RFC's on the public ServiceStack G+ group for maximum feedback:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/u/0/communities/112445368900682590445\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/u/0/communities/112445368900682590445</a><br><br>A RedisFS VirtualPathProvider might be interesting where you can serve your website assets from a distributed redis cache. Also not sure if you're aware SS includes an InMemoryVirtualPathProvider although that's mainly used for unit testing.﻿"}],"date":"May 7, 2014, 1:16:57 PM","shortDate":"May 7, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I would like to ask, if anybody has&nbsp; some experience of automated deployment in Azure of&nbsp;&nbsp; a self-hosted&nbsp; ServiceStack&nbsp; REST service ?<br>Is it possible ?﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 6, 2014, 10:13:11 PM","shortDate":"May 6, 2014","textHtml":"I haven't done both of those together but I have done some with automated builds and also published to azure before. If this helps I believe the azure projects are just msbuild projects. As for self hosted you would use a worker role project type which is a type of an azure project.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 6, 2014, 10:19:25 PM\n(edited May 6, 2014, 10:20:11 PM)","shortDate":"May 6, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span><br>&nbsp;Do you think , it is viable to automate the deployment,&nbsp; of a self-hosted service, using the Azure SDK ? I have not experience, but it would be very useful .﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 6, 2014, 10:21:19 PM","shortDate":"May 6, 2014","textHtml":"I don't believe you need the azure ask directly to automation publishing to azure. Msbuild will do it for you.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"May 6, 2014, 10:21:58 PM","shortDate":"May 6, 2014","textHtml":"Azure sdk (sorry iPhone auto correct)﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 6, 2014, 10:55:17 PM","shortDate":"May 6, 2014","textHtml":"We build and auto-deploy a number of ss services in Azure. Each ss service is a web role. We have a couple worker roles that do other stuff as well. We build locally and we run end to end integration tests in the azure emulator. We then commit changes to a CI buld server (our own VM that we also host in Azure). If all green, we auto-deploy the build into the staged environment in Azure. Staged to Prod is triggered manually. <br>Is this what you are talking about?<br><br>the only part of the picture we had to build ourselves was a custom base class for integration tests that automated creation and teardown of azure emulator during desktop and build server testing.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 6, 2014, 11:12:34 PM\n(edited May 6, 2014, 11:16:01 PM)","shortDate":"May 6, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112627746644624669199\" oid=\"112627746644624669199\">Jezz Santos</a></span><br>&nbsp;All are useful to me. But mainly I have in my mind the auto-deploy. For customers using a new product, with a service-layer&nbsp; in their private cloud.&nbsp; We should have an automated way to install or updated&nbsp; them , in the cloud, starting with Azure.﻿"},{"userId":"112627746644624669199","userName":"Jezz Santos","date":"May 7, 2014, 12:23:44 AM","shortDate":"May 7, 2014","textHtml":"The auto-deploy piece is performed by a TFS build definition that you get with a Visual Studio Online project (<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.visualstudio.com\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">www.visualstudio.com</a>). You set it up by connecting your Azure Cloud Service to Visual Studio Online. (see the Azure Management Portal).<br><br>Happy to share any of the details described above, just ask away!﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"May 7, 2014, 7:55:50 AM","shortDate":"May 7, 2014","textHtml":"I really like OctopusDeploy&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://octopusdeploy.com/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://octopusdeploy.com/</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"May 7, 2014, 10:46:17 AM\n(edited May 7, 2014, 6:19:08 PM)","shortDate":"May 7, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span><br>&nbsp;Octopus seems good but expensive.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"May 8, 2014, 2:00:08 AM","shortDate":"May 8, 2014","textHtml":"Free version will likely handle most situations!!﻿"}],"date":"May 6, 2014, 10:06:19 PM\n(edited May 6, 2014, 10:08:47 PM)","shortDate":"May 6, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"&nbsp;Found a bug - Single quotes in a string field of complex types are escaped correctly when saved to the database. But not removed when deserialized. Every time a record is updated another slash is added to escape the one before. I've confirmed this didn't happen in SSv3. Anyone else come across this and know how to solve it?<br><br>In addition to the release notes for features is there an issue tracking list I can see if my issue has been logged already? (and resolved if I'm not on the latest version). thanks.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 5, 2014, 1:39:46 AM","shortDate":"May 5, 2014","textHtml":"Issues are here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a><br>Can you post a small code example of the issue please.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"May 5, 2014, 3:46:38 AM","shortDate":"May 5, 2014","textHtml":"Ok I've logged an issue here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues/issues/71\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues/issues/71</a><br><br>In my case the escape char is a slash for MySQL, and SqlLite uses another apostrophe to escape however it's probably the same fault.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"May 5, 2014, 3:59:14 AM","shortDate":"May 5, 2014","textHtml":"Can you comment on the thread, I'm unable to repro the issue.﻿"}],"date":"May 5, 2014, 1:36:07 AM","shortDate":"May 5, 2014"},{"userId":"113745366051337727908","userName":"Mike Mertsock","textHtml":"We have a Xamarin Android/iOS product that communicates with our ServiceStack service. We are trying to set up a PCL version of our service interface project (request/response DTOs) so that we can use this and JsonServiceClient in the Xamarin codebase.<br><br>What is the reasoning that ServiceStack.Interfaces.Pcl uses Profile158 but ServiceStack.Text.Pcl uses Profile7? We have a PCL that supports shared business logic in a Xamarin Android/iOS solution. This shared project targets PCL Profile78, thus we can't import ServiceStack.Text.Pcl and ServiceStack.Client.Pcl into it. However, we can import them into the Android and iOS projects.<br><br>Our current workaround is to reference our service interface PCL from our shared project, and the code that sends requests takes a dependency on IServiceClientAsync which, which is bound via IoC to JsonServiceClient instances inside our Android and iOS UI projects.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 28, 2014, 4:58:34 PM","shortDate":"Apr 28, 2014","textHtml":"It's because we couldn't support the lower profile with the impl libraries, some bg info here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/102968642878661365849/posts/J5qErf8qvmA\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/102968642878661365849/posts/J5qErf8qvmA</a><br><br>Having non-PCL impl wired to PCL interfaces is also how the PCL support in SS is implemented in the PclExport and PclClientExport classes, i.e:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/PclExport.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.Text/blob/master/src/ServiceStack.Text/PclExport.cs</a>﻿"},{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Apr 29, 2014, 1:41:57 PM","shortDate":"Apr 29, 2014","textHtml":"Thanks for the details. We were able to change the PCL profile that our project targets so that it's compatible with the ServiceStack PCL binaries. Looks like it will work out.﻿"}],"date":"Apr 28, 2014, 4:50:57 PM","shortDate":"Apr 28, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":".NET is known to have issues with GC running at bad times. When you least expect it. The release of 4.5 framework has helped reduce pauses with request/response.<br><br>How do you suggest utilizing the new feature for GC \"SustainedLowLatency\" with ServiceStack?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 23, 2014, 1:25:42 PM","shortDate":"Apr 23, 2014","textHtml":"Are there any recommendations for using this within <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>?<br><br>SustainedLowLatency sounds like its for avoiding Gen2 GC collection if possible and is only available on .NET 4.5 on server GC's (answer #1):<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://social.msdn.microsoft.com/Forums/vstudio/en-US/9e9c7aa0-8ff9-401f-8ae3-e866e8d53572/sustainedlowlatency-question\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://social.msdn.microsoft.com/Forums/vstudio/en-US/9e9c7aa0-8ff9-401f-8ae3-e866e8d53572/sustainedlowlatency-question</a><br><br>Which will cause issues if run on .NET 4.0 (SS is .NET 4.0):<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/15593183/gclatencymode-sustainedlowlatency-under-clr-4-0#comment22110370_15593183\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/15593183/gclatencymode-sustainedlowlatency-under-clr-4-0#comment22110370_15593183</a><br><br>Otherwise a good time to force a GC.Collect() may be on AppHost.EndRequest() after the response is written. Though you wouldn't want to do this with every request so may need to to something like<br>if (noOfRequests++ % 1000 == 0) GC.Collect();﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 23, 2014, 1:46:58 PM","shortDate":"Apr 23, 2014","textHtml":"Hmm, yeah I forgot that SS is using .NET 4.0.30319﻿"}],"date":"Apr 23, 2014, 12:36:51 PM","shortDate":"Apr 23, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Demis, have you ever considered adding a RangeAttribute or similar? &nbsp;Something that would allow SS to determine the min and max values of a field (date, int, etc.)? &nbsp;This could allow for data validation during create and update operations. &nbsp;It could also allow for improved decision making when the table is being created. &nbsp;For example, in Sql Server, if the range is 1 to 255, a tinyint column could be created instead of an int. &nbsp;Similar logic could allow for a date field to be created instead of datetime.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 22, 2014, 4:16:21 PM","shortDate":"Apr 22, 2014","textHtml":"We do have a [Range] attribute in SS.Interfaces&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces/DataAnnotations\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack.Interfaces/DataAnnotations</a><br><br>We use [StringLength] to specify different field sizes for strings. Use C# numeric types to control what DB field is created. Not going to use an attribute to override that, you can use [CustomField] if you want to override OrmLite's default behavior.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Apr 22, 2014, 4:17:43 PM","shortDate":"Apr 22, 2014","textHtml":"Um... next question. &nbsp;How do I delete a forum post. &nbsp;:P﻿"}],"date":"Apr 22, 2014, 3:58:45 PM\n(edited Apr 22, 2014, 3:59:30 PM)","shortDate":"Apr 22, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Do we have a way to recognize&nbsp; if a request comes from a C# typed client or JavaScript ?﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 19, 2014, 2:53:02 AM","shortDate":"Apr 19, 2014","textHtml":"The http headers might say where the request came from.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Apr 19, 2014, 4:48:04 AM\n(edited Apr 19, 2014, 4:49:11 AM)","shortDate":"Apr 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span><br>&nbsp;Not&nbsp; where&nbsp; they came from .&nbsp; I know that.<br>What client they used , I try to find.<br>C# or JavaScript.&nbsp; Servicestack&nbsp; could know if a C# client was used.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 19, 2014, 9:20:07 AM\n(edited Apr 19, 2014, 9:33:35 AM)","shortDate":"Apr 19, 2014","textHtml":"What <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span>&nbsp;was saying was that you can use the HTTP Headers to work out if the request came from Ajax or a .NET client. The User-Agent header is used to tell you what client was used, the SS clients by default have a default user-agent of:<br>\"ServiceStack .NET Client \" + Env.ServiceStackVersion<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/ServiceClientBase.cs#L83\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/ServiceClientBase.cs#L83</a><br><br>But this is overridable so could be changed to be anything.﻿"}],"date":"Apr 19, 2014, 2:05:17 AM","shortDate":"Apr 19, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"If I wanted to consume a 3rd party SOAP Service. Is it possible with&nbsp;Http-Utils or would you suggest just auto-gen it with svcutil.exe or wsdl.exe?&nbsp;<br><br>I would prefer to use the&nbsp;Http-Utils. Not a fan of autogen unless I have too. Shoot, I could even hand code what the svcutil creates if I wanted.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 3:17:44 PM","shortDate":"Apr 15, 2014","textHtml":"You could as SOAP is just an XML POST, but figuring out what XML SOAP Message to send is easier to work out starting from a valid SOAP request and then templating the dynamic parts of the request out.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 15, 2014, 3:18:48 PM","shortDate":"Apr 15, 2014","textHtml":"ServiceStack also has generic Soap12ServiceClient which may help with making the request (if you're talking to a WCF SOAP Service).﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Apr 15, 2014, 3:23:23 PM","shortDate":"Apr 15, 2014","textHtml":"roger. Thanks.﻿"}],"date":"Apr 15, 2014, 2:54:54 PM\n(edited Apr 15, 2014, 2:59:57 PM)","shortDate":"Apr 15, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello Demis, I've upgraded to 4.17 but I've seen you've removed public override IServiceRunner&lt;TRequest&gt; CreateServiceRunner&lt;TRequest&gt;(ActionContext actionContext) .. why? I've seen no .17 changelog...thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 8:33:17 AM","shortDate":"Apr 11, 2014","textHtml":"No I haven't?&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHost.cs#L499\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceStackHost.cs#L499</a><br><br>What host are you using?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Apr 11, 2014, 8:35:53 AM","shortDate":"Apr 11, 2014","textHtml":"I've cleaned my project and not it works... I think Vs2013 went drunk during compilation....sorry for that post...what are the news of .17?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 8:41:41 AM","shortDate":"Apr 11, 2014","textHtml":"Haven't posted the release notes yet, will do later today.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 12:10:26 PM","shortDate":"Apr 11, 2014","textHtml":"Actually I'll post the release notes on Monday, too close to the weekend for release notes.﻿"}],"date":"Apr 11, 2014, 8:29:29 AM","shortDate":"Apr 11, 2014"},{"userId":"103098793536210174759","userName":"Doug Schmidt","textHtml":"I'm voting again for this feature request:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4780249-add-a-ci-step-that-tags-the-release-number-into-th\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4780249-add-a-ci-step-that-tags-the-release-number-into-th</a><br><br>Without tagging the repos with each publicly available NuGet release, it makes my life as a ServiceStack developer very difficult to figure out what exactly is in each release.<br><br>Here's the release pattern I've observed for v4.x development:<br>- Target is to deploy to NuGet once every 2 weeks<br>- Reality is that on the day of deployment there are often a dozen commits that day. Some of of them will have been deployed, some not.<br>- Often the first attempt at deploying the \"next\" release to NuGet is replaced within 24 hours after a critical flaw is found. (4.0.13 replaced 4.0.12 within hours. 4.0.17 replaced 4.0.16 within hours).<br>- There is no way of knowing which commit from each SS repo actually got deployed to NuGet<br><br>The release deployment mechanism for ServiceStack needs to be improved so that all of us developers know what will be in each release. The current workflow does not provide developers with enough visibility to know what is actually in any release.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 11, 2014, 4:55:43 AM","shortDate":"Apr 11, 2014","textHtml":"ok I can look at creating a new release on GitHub after I deploy to NuGet, but this would have to be a manual process after each NuGet deployment.<br><br>I've just done this for v4.0.17 on the major repos, i.e: SS, SS.Text, SS.Redis, SS.OrmLite﻿"},{"userId":"103098793536210174759","userName":"Doug Schmidt","date":"Apr 14, 2014, 6:24:16 PM","shortDate":"Apr 14, 2014","textHtml":"BTW, thanks for this change, Demis. It's already making my life easier to figure out what's changed between releases.﻿"}],"date":"Apr 10, 2014, 1:48:06 PM","shortDate":"Apr 10, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I have seen in the Issues that Demis added&nbsp; \"support for dynamically changing Route attributes\"<br>My question is, if it&nbsp; is possible&nbsp;&nbsp; to&nbsp; change in&nbsp; every Request, the Route, depending on the caller, so&nbsp; to be able to support a scenario of multi-tenant&nbsp; ?&nbsp; Or&nbsp; is there&nbsp; a better way ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 9, 2014, 5:26:25 AM","shortDate":"Apr 9, 2014","textHtml":"The routes can't be changed at runtime, I've only added a new way to dynamically modify the defined routes used during initialization, added in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/fb49af299fa49ab5a0cef18ee125033fe60a2c38\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/fb49af299fa49ab5a0cef18ee125033fe60a2c38</a>﻿"}],"date":"Apr 9, 2014, 5:22:35 AM\n(edited Apr 9, 2014, 9:44:47 AM)","shortDate":"Apr 9, 2014"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","textHtml":"Hey Guys, I am using SS with the Razor plugin to serve HTML pages and JSON from the same service. &nbsp;If I make a basic request from the browser I do get the HTML as expected. &nbsp;When I make the call from JavaScript and request JSON I get JSON. &nbsp;However, when I am on a page and I click the Back button in the browser, I get JSON for the previous page instead of HTML, which is not what I want. &nbsp;Has anyone else seen this? Is this a bug, or is this the expected result? &nbsp;If it is expected, then is there some setting to override it? &nbsp;Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 4, 2014, 2:51:44 PM","shortDate":"Apr 4, 2014","textHtml":"You can use [AddHeader(ContentType = MimeTypes.Html)] filter attribute to force html.<br><br>Do you have an example of the HTTP request it's sending that returns JSON?﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 4, 2014, 5:51:51 PM","shortDate":"Apr 4, 2014","textHtml":"I was using Fiddler to capture the traffic. &nbsp;All actual requests returned what I expected. &nbsp;However, after I navigated a few of the pages, and then used the Back and Forward buttons in Chrome, I only saw the JSON results in the browser. &nbsp;However, those must have been cached, as Fiddler was not picking up any additional requests as I was navigating back and forth.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 4, 2014, 6:00:12 PM","shortDate":"Apr 4, 2014","textHtml":"Can you clear the caches? just want to see what the Request headers were that's returning the JSON response.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Apr 4, 2014, 11:37:44 PM","shortDate":"Apr 4, 2014","textHtml":"Actually it might be because you're making another JSON call with the same url (i.e. just differentiated by using the Accept header) and Chrome will assume the cache is valid for all requests with different accept headers.<br><br>If that's the case setting the \"Vary: Accept\" header will tell Chrome to keep different caches based on different accept request, e.g:&nbsp;<br><br>SetConfig(new HostConfig {<br>&nbsp; &nbsp; GlobalResponseHeaders = {<br>&nbsp; &nbsp; &nbsp; &nbsp; {\"Vary\",\"Accept\"}<br>&nbsp; &nbsp; }<br>});<br><br>I might add this as a default Global Response Header since content negotiation is a core feature of SS.﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 6, 2014, 3:25:52 PM","shortDate":"Apr 6, 2014","textHtml":"I am using the same URL for both requests. &nbsp;So, I bet your last comment is dead-on. &nbsp;I will try the \"Vary\" \"Accept\" setting first thing on Monday and let you know. &nbsp;Thanks!﻿"},{"userId":"109366545871054247267","userName":"Zoran Knezevic","date":"Apr 7, 2014, 9:09:47 AM","shortDate":"Apr 7, 2014","textHtml":"Just an FYI, adding the GlobalResponseHeaders got me a step closer but did not solve my whole problem. &nbsp;After I added it, then I was not automatically getting the JSON result when I clicked back, instead clicking the back button would generate another GET request that would hit the server. &nbsp;But then when the AJAX call (another GET to the same URL) was executed, it would not hit the server, instead Chrome would automatically return the HTML response even though the \"dataType\" option was set to \"json\". &nbsp;However, since in all of my ajax requests I expect JSON in return, I decided to add the \"?format=json\" to every GET Url, and therefore even though I am hitting the same base URL all ajax requests are different, so I &nbsp;get back the correct cached version.﻿"}],"date":"Apr 4, 2014, 2:47:18 PM","shortDate":"Apr 4, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Hi Demis,<br><br>I was wondering if you could shine some light on how to handle responses where models and model collections do not exist or the collection is empty. What is the general consensus in the community for status codes? Or is there a REST spec out there I can look at? I've yet to find one other than different people providing guidelines (like the storm path video on youtube).&nbsp;<br><br>For Example<br>Should /users/123 return 404?<br>Should /users?IsActive=true return a 200 or 404?<br><br>Also, what are your thoughts on using sub status codes, like 404.1, 404.2, etc?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 31, 2014, 6:43:34 PM","shortDate":"Mar 31, 2014","textHtml":"For an empty collection I return 200 OK with an empty collection, for a non-existent single resource/record I would return a 404.<br><br>I wouldn't use substatus codes, they're an IIS specific extension, i.e. not HTTP standard. You can find a good description of HTTP status codes at:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://en.wikipedia.org/wiki/List_of_HTTP_status_codes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://en.wikipedia.org/wiki/List_of_HTTP_status_codes</a>﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 31, 2014, 6:53:01 PM","shortDate":"Mar 31, 2014","textHtml":"Thanks Demis. As always you have an incredible response time. Your help is always very much appreciated!﻿"},{"userId":"112108288295394777338","userName":"Hardy Erlinger","date":"Apr 1, 2014, 2:25:18 AM","shortDate":"Apr 1, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112436682263523181833\" oid=\"112436682263523181833\">Stephen Brannan</a></span>&nbsp;In addition to what Demis mentioned, if you are looking for a good resource on how to design REST services, have a look at \"RESTful Web Services Cookbook\" by O'Reilly (<a rel=\"nofollow\" target=\"_blank\" href=\"http://shop.oreilly.com/product/9780596801694.do\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://shop.oreilly.com/product/9780596801694.do</a>). Highly recommended.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Apr 1, 2014, 3:52:36 PM","shortDate":"Apr 1, 2014","textHtml":"Thanks <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/112108288295394777338\" oid=\"112108288295394777338\">Hardy Erlinger</a></span>&nbsp;I'll check the book out. Overall I think I have a good understanding of REST services design. There seems to be conflicting ideas in the details though. Maybe someday there will be an official spec from someone like w3c.﻿"}],"date":"Mar 31, 2014, 6:30:22 PM","shortDate":"Mar 31, 2014"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","textHtml":"Demis, how backwards compatible are the V3 clients to the V4 services? I need to start planning my upgrade from V3 to V4 and doing this in one fowl swoop across many clients is not the best idea. I'd ideally like to upgrade all the services and then publish updates to the clients when we get to them.&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 29, 2014, 6:08:28 AM","shortDate":"Mar 29, 2014","textHtml":"Whilst you can't mix v4 and v3 dlls in the same solution which are technically incompatible, the wire-format between them is essentially the same, so it will most likely work if you're just coupled to the wireformat inputs/outputs of each and not trying to share any .NET types or dlls. e.g. You will have issues if you try to share DTO's that uses ServiceStack attributes since they will be binded to either v4 or v3 ServiceStack.Interfaces.dll and the namespaces for many of the attributes have been reorganized. Depending on your usage there's another issue that could affect interoperability are the ServiceClients predefined routes having changed from /syncreply /asynconeway to /reply /oneway in v4. You can change your v3 ServiceClients to use the newer routes with:<br><br>client.UseNewPredefinedRoutes = true;&nbsp;<br><br>Otherwise if you have custom routes defined for all Request DTOs, the clients will use them instead of the predefined routes.<br><br>Ultimately the recommended approach would be to upgrade both clients and servers to v4, but if careful you should still be able to serve v3 clients. But I recommend doing a smoke test before going down this path.﻿"},{"userId":"100491071359445191402","userName":"Dylan v.d Merwe","date":"Mar 29, 2014, 6:13:27 AM","shortDate":"Mar 29, 2014","textHtml":"Yeah the clients are on the mobile phones and have nothing to do with the services. Just the routing and formatting etc that I'm worried about over-the-air. It won't be a permanent situation as eventually the phones will be updated to V4.﻿"}],"date":"Mar 29, 2014, 5:57:37 AM","shortDate":"Mar 29, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I think this section needs to be updated on the wiki:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customize-handling-of-c-exceptions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customize-handling-of-c-exceptions</a><br><br>I cannot find the GlobalHtmlErrorHttpHandler in&nbsp;IAppHost.<br><br>I've already changed CustomHttpHandlers to CustomErrorHttpHandlers. Hope that's ok.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 28, 2014, 2:39:24 PM","shortDate":"Mar 28, 2014","textHtml":"Actually it's in the current master branch, can you change it back.<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L103\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/IAppHost.cs#L103</a>﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 28, 2014, 3:18:45 PM","shortDate":"Mar 28, 2014","textHtml":"Just changed it back. I will remember to check latest commit next time. I only checked latest release.﻿"}],"date":"Mar 28, 2014, 8:11:39 AM","shortDate":"Mar 28, 2014"},{"userId":"113513815777411210307","userName":"Renaud Bompuis","textHtml":"For something completely unrelated: could you make sure that the currency USD is mentioned on the invoices?<br>There are lots of currencies using $ sign and where I live accountants sometimes assume amounts are in the local currency HKD instead of USD.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 27, 2014, 1:33:41 AM","shortDate":"Mar 27, 2014","textHtml":"ok I've just deployed a change that now shows: \"($USD) Total:\"<br>You can view it on your billing page:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://servicestack.net/account/billing\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://servicestack.net/account/billing</a>﻿"},{"userId":"113513815777411210307","userName":"Renaud Bompuis","date":"Mar 27, 2014, 1:29:29 PM","shortDate":"Mar 27, 2014","textHtml":"That was fast! Thanks a lot!﻿"}],"date":"Mar 27, 2014, 1:02:27 AM","shortDate":"Mar 27, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hi Demis,<br>I've a ASP.Net MVC 5 web site with many pages calling REST services (in AJAX style) running on ServiceStack.<br>The main address of my web site is: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2</a>. The main address of my services is: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2/api\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2/api</a>.<br>I need to share the user session between the MVC app and services. I've followed your guide (<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Run-servicestack-side-by-side-with-another-web-framework\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Run-servicestack-side-by-side-with-another-web-framework</a>).<br><br>When I call my keep-alive service (<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2/api/hello\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2/api/hello</a>) everything works fine.<br>When I try to call the auth service using (<a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2/api/auth?provider=...&amp;username=...&amp;password=..\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2/api/auth?provider=...&amp;username=...&amp;password=..</a>.) I get the following error:<br>Forbidden<br>&nbsp;<br>&nbsp;<br>Request.HttpMethod: GET<br>Request.PathInfo: /auth<br>Request.QueryString: provider=...&amp;username=...&amp;password=...<br>Request.RawUrl: /ci2/api/auth?provider=...&amp;username=...&amp;password=...<br>App.DebugLastHandlerArgs: GET|/ci2/api/auth|C:\\Projects\\CI2\\master\\CI2.Web\\api\\auth<br><br>What's the problem?<br><br>Thank you﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 4:28:34 PM","shortDate":"Mar 24, 2014","textHtml":"Can't tell what's wrong based on that description. What is the provider=xxx and does it match what you've registered in AuthFeature?﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Mar 25, 2014, 4:33:23 AM","shortDate":"Mar 25, 2014","textHtml":"Hi Demis,<br>xxx is my custom provider which inherits from CredentialsAuthProvider:<br><br>public class IdeaAuthProvider : CredentialsAuthProvider<br>{ ... }<br><br>xxx is \"idea\", so the auth URL is:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2/api/auth?provider=idea&amp;username=...&amp;password=.\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2/api/auth?provider=idea&amp;username=...&amp;password=.</a>..<br><br>or<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/ci2/api/auth/idea?username=...&amp;password=.\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/ci2/api/auth/idea?username=...&amp;password=.</a>..<br><br>Note that if I create a web app at the root level in order to have an URL like<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost/auth?provider=idea&amp;username=...&amp;password=.\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost/auth?provider=idea&amp;username=...&amp;password=.</a>..<br><br>everything works fine.<br><br>Thank you﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 26, 2014, 3:35:17 AM\n(edited Mar 26, 2014, 4:07:02 AM)","shortDate":"Mar 26, 2014","textHtml":"I can't repro this, I can authenticate fine when ServiceStack is hosted on /api.&nbsp;<br>Can you open a ticket on&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> and provide as much info that I can use to repro this behavior. Adding the raw HTTP Headers will also help diagnose the issue.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Mar 27, 2014, 6:41:31 AM","shortDate":"Mar 27, 2014","textHtml":"Hello Demis,I've created a support ticked with a demo attached, thanks﻿"}],"date":"Mar 24, 2014, 8:43:17 AM","shortDate":"Mar 24, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"I&nbsp; have&nbsp; to push notifications from server to&nbsp; JavaScript clients .&nbsp; Is it possible to use ServiceStack http streaming&nbsp; and the EventSource for server-sent events (using Remy eventSource for IE) ?&nbsp;&nbsp; Or any other way ?&nbsp; maybe&nbsp; I will use also the&nbsp; ServiceStack.RabbitMQ&nbsp; .﻿","comments":[{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 22, 2014, 9:05:51 PM","shortDate":"Mar 22, 2014","textHtml":"For my project I'm looking at using signalr﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 22, 2014, 9:15:50 PM","shortDate":"Mar 22, 2014","textHtml":"I know about signalR, but I would like to use for everything the ServiceStack, if I use the RabbitMQ plugin.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Mar 22, 2014, 9:19:51 PM","shortDate":"Mar 22, 2014","textHtml":"Oh interesting idea. Hopefully Demis knows.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 12:39:21 PM","shortDate":"Mar 23, 2014","textHtml":"As ServiceStack only supports HTTP requests atm, the only way to do this \"through ServiceStack\" is to use long-polling, briefly discussed here:<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://groups.google.com/d/msg/servicestack/por-3WJhCXw/hhRk7EQe9GUJ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://groups.google.com/d/msg/servicestack/por-3WJhCXw/hhRk7EQe9GUJ</a><br><br>There are also a couple of posts using ServiceStack with SignalR on:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.strathweb.com/2013/03/signalr-filters-and-servicestack/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.strathweb.com/2013/03/signalr-filters-and-servicestack/</a><br>and a recent answer:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/22549657/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/22549657/85785</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 23, 2014, 1:44:43 PM\n(edited Mar 23, 2014, 1:47:09 PM)","shortDate":"Mar 23, 2014","textHtml":"Is it possible to have a recent sample project from ServiceStack, working together with SignalR?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 1:47:16 PM","shortDate":"Mar 23, 2014","textHtml":"If the above examples aren't enough, add it as a feature request.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 23, 2014, 1:52:34 PM","shortDate":"Mar 23, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp;No I will not add a feature request about a sample. thanks any way/﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 2:00:57 PM\n(edited Mar 23, 2014, 2:03:31 PM)","shortDate":"Mar 23, 2014","textHtml":"As you wish, but in future that's how work items are prioritized and queued and where any requested&nbsp;work items should be submitted.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 23, 2014, 2:09:58 PM\n(edited Mar 23, 2014, 2:10:52 PM)","shortDate":"Mar 23, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span><br>&nbsp; I had asked about that , before 2 months, when I voted about the OWIN, as other community members.&nbsp; This request is not accepted. Today I have to integrate with an external system. which use&nbsp; PowerShell commands and it has high latency. So it is necessary, to push notifications to clients. For this reason, I asked from the beginning.&nbsp; I thought that&nbsp; maybe we can use the Html5 EventSource.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Mar 23, 2014, 3:35:33 PM","shortDate":"Mar 23, 2014","textHtml":"Use servciestack everywhere you are currently using it. &nbsp;Then hook up a javascript client to your RabbitMQ instance directly, listening for messages or status update or whatever? &nbsp; &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.rabbitmq.com/web-stomp.html\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.rabbitmq.com/web-stomp.html</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 23, 2014, 5:50:28 PM","shortDate":"Mar 23, 2014","textHtml":"Cool, didn't know there was a websockets bridge for RabbitMQ.&nbsp;﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Mar 23, 2014, 6:37:32 PM\n(edited Mar 23, 2014, 7:13:13 PM)","shortDate":"Mar 23, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span><br>thanks, It seems a very good solution, as a notification mechanism (at least),&nbsp; if we use the RabbitMQ,&nbsp; behind the service.&nbsp; In this post <a rel=\"nofollow\" target=\"_blank\" href=\"https://www.rabbitmq.com/blog/2012/05/14/introducing-rabbitmq-web-stomp/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.rabbitmq.com/blog/2012/05/14/introducing-rabbitmq-web-stomp/</a><br>users say that&nbsp; &nbsp; \"It works flawlessly, even on Android 2.3 mobile browser\"﻿"}],"date":"Mar 22, 2014, 8:22:10 PM\n(edited Mar 22, 2014, 8:25:39 PM)","shortDate":"Mar 22, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I just published the RazorRockstar.WebHost project and served it with apache/mod_mono on ubuntu 13.10 running mono 3.2.5.<br><br>I got this error when trying to open the site in a browser:<br>System.IO.FileNotFoundException<br>Could not load file or assembly 'System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35' or one of its dependencies. The system cannot find the file specified.<br><br>How to I get rid of the error message and make the razor views work with mono? &nbsp;Do I have to make changes to the web.config or maybe add System.Web.WebPages.Razor to the projects references?﻿","comments":[{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 21, 2014, 10:16:48 AM","shortDate":"Mar 21, 2014","textHtml":"I manually copied the&nbsp;System.Web.WebPages.Razor.dll file to the folder where I published RazorRockstars. Now I do not get the error anymore and I can see the metadata page. But I get a 404 error when trying to browse to any other page.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 21, 2014, 12:30:58 PM\n(edited Mar 21, 2014, 12:48:05 PM)","shortDate":"Mar 21, 2014","textHtml":"You want to Install Microsoft.AspNet.Razor and delete the unused reference to System.Web.Entity (as Mono doesn't support EF). I've also just removed this reference from the repo as well.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 21, 2014, 5:08:22 PM\n(edited Mar 21, 2014, 5:10:41 PM)","shortDate":"Mar 21, 2014","textHtml":"Nothing happened when I installed&nbsp;Microsoft.AspNet.Razor from NuGet, I had to install&nbsp;Microsoft.AspNet.WebPages. Weird. Anyway I still can't open any .cshtml pages, I just get an 404 not found. The metadata page and services works fine. Maybe it's something wrong with my apache setup..&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 21, 2014, 5:12:28 PM","shortDate":"Mar 21, 2014","textHtml":"Apache? can't you just run it from xsp? i.e. hit Debug in Xamarin Studio?﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 21, 2014, 5:26:32 PM","shortDate":"Mar 21, 2014","textHtml":"Yes, well we have an IT-Admin that likes apache, and we already have an apache server in place. I will try with xps.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 21, 2014, 5:27:28 PM","shortDate":"Mar 21, 2014","textHtml":"Yeah that's cool, but first try to see if it you have it working with xsp first, before trying to run it under a web server.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 21, 2014, 5:48:45 PM","shortDate":"Mar 21, 2014","textHtml":"I will. Thanks!﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 24, 2014, 9:29:52 AM\n(edited Mar 24, 2014, 10:45:47 AM)","shortDate":"Mar 24, 2014","textHtml":"Why do I want to install Microsoft.AspNet.Razor?&nbsp;When I install Microsoft.AspNet.Razor &nbsp;from nuget in visual studio. It just switches System.Web.Razor.dll from the Servicestack one to the Microsoft.AspNet one. Then the razor pages doesn't even show when debugging in visual studio.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 24, 2014, 4:17:23 PM","shortDate":"Mar 24, 2014","textHtml":"It works when running it from xamarin studio in windows. I'll try to update to latest mono and xsp in ubuntu.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 24, 2014, 4:31:05 PM\n(edited Mar 24, 2014, 4:31:19 PM)","shortDate":"Mar 24, 2014","textHtml":"Sorry I meant to say install Microsoft.AspNet.WebPages which contains the config section classes in the web.config. But as I saw you already installed the correct package so it should work.<br>Note: It works for me on Xamarin Studio on OSX.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 24, 2014, 7:51:52 PM","shortDate":"Mar 24, 2014","textHtml":"Seems like everything is working now. All I had to do was to update mono from 3.2.5 to 3.2.8. Nice waste of 2 days.<br><br>Thanks anyway for your help Demis!&nbsp;﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Mar 25, 2014, 6:26:59 AM","shortDate":"Mar 25, 2014","textHtml":"I don't think that upgrading mono was what fixed the problem after all. I have both mono 2.10.8 and mono 3.2.8 installed. And I forgot to set some environment variables prior to running xsp. What fooled me was that these environment variables was set when I installed the new mono, and they were still set when I tried to run xsp. Thats why it worked. But when I tried again after a restart it did not work until I set the environment variables again.﻿"}],"date":"Mar 21, 2014, 9:49:36 AM","shortDate":"Mar 21, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Just started using razor on SS - but having trouble dynamically rendering. &nbsp;Any help appreciated.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"https://stackoverflow.com/questions/22514752/rendering-a-servicestack-razor-view-programtically\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://stackoverflow.com/questions/22514752/rendering-a-servicestack-razor-view-programtically</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 19, 2014, 3:06:50 PM","shortDate":"Mar 19, 2014","textHtml":"FYI, left an answer on StackOverflow.﻿"}],"date":"Mar 19, 2014, 2:19:09 PM","shortDate":"Mar 19, 2014"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","textHtml":"Is there a reason for the ServiceStack.RabbitMq NuGet package to depend on <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23Redis\">#Redis</a> and <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23OrmLite\">#OrmLite</a> packages? I can see why this is physically (because the package depends on ServiceStack.Server which in turn depends on the above two packages) but I don't see the logical connection. We just want to use <a rel=\"nofollow\" class=\"ot-hashtag aaTEdf\" href=\"/s/%23RabbitMq\">#RabbitMq</a> and don't need/want the other two packages.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 1:37:01 PM","shortDate":"Mar 17, 2014","textHtml":"Just had a look it was sharing the WorkerStatus class with RedisMQ, but since that's all it was sharing I've moved it down to SS.dll in this commit:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/900f2c35b716fb16357a8780f14b6622d7c89bef\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/900f2c35b716fb16357a8780f14b6622d7c89bef</a><br><br>Next release RabbitMq will only depend on ServiceStack﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 17, 2014, 1:42:46 PM","shortDate":"Mar 17, 2014","textHtml":"Awesome! 17 minutes to read my inquiry, look at the source, improve the behavior and post the response back. You put most other commercial products to shame with this kind of turnaround :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 1:47:30 PM","shortDate":"Mar 17, 2014","textHtml":"Benefit of working full-time and having the development environment open + ready to serve :)﻿"}],"date":"Mar 17, 2014, 1:20:50 PM\n(edited Mar 17, 2014, 1:22:19 PM)","shortDate":"Mar 17, 2014"},{"userId":"105229691297762968907","userName":"Bruno Lopes","textHtml":"Is there a way to disable request validation for specific requests in servicestack?<br><br>I'm trying to accept HTML in one of the requests, using the following DTO:<br><br>&nbsp; &nbsp; [Route(\"/post\", Verbs = \"POST\")]<br>&nbsp; &nbsp; public class PublishPost<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; public string Title { get; set; }<br>&nbsp; &nbsp; &nbsp; &nbsp; public HtmlString Body { get; set; }<br>&nbsp; &nbsp; }&nbsp;<br><br>But a request fails with&nbsp;HttpRequestValidationException.<br>An answer in stack overflow at&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/14076483/potentially-dangerous-request-servicestack\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/14076483/potentially-dangerous-request-servicestack</a> shows a solution that disables for the entire site, but that might be overkill.<br><br>Could I turn it off just for requests that include an implementation of &nbsp;IHtmlString?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 17, 2014, 11:37:10 AM","shortDate":"Mar 17, 2014","textHtml":"The Request Validation is an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> feature that validates a request before it reaches any <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> HttpHandler, I'm not sure of anyway to disable it per request.<br><br>It looks like there may be options in .NET 4.5:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://weblogs.asp.net/sreejukg/archive/2011/12/20/new-request-validation-features-in-asp-net-4-5.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://weblogs.asp.net/sreejukg/archive/2011/12/20/new-request-validation-features-in-asp-net-4-5.aspx</a>﻿"},{"userId":"105229691297762968907","userName":"Bruno Lopes","date":"Mar 17, 2014, 1:00:01 PM","shortDate":"Mar 17, 2014","textHtml":"Thanks for the pointer. A quick check (removing the Body from the DTO and accessing&nbsp;((HttpRequestBase)Request.OriginalRequest).Unvalidated[\"Body\"] directly ) still gives me an error, so for now I think I'll still remove the validation from the entire site.﻿"}],"date":"Mar 17, 2014, 9:19:52 AM","shortDate":"Mar 17, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"I forked the EmailContacts sample app in GitHub - it is great!&nbsp;<br><br>When I was trying it out I got a message saying that the app is over 20 types. Therefore I had to add my license to the web.config.<br><br>If I push my code my license will be in the open since its a public GitHub repo... Is this ok?&nbsp;﻿","comments":[{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Mar 15, 2014, 1:10:49 PM","shortDate":"Mar 15, 2014","textHtml":"By the way, I had to comment the following config to get it working on windows:<br><br>&lt;!--&lt;assemblies&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp; &lt;add assembly=\"System.Web.WebPages.Razor, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;<br>&nbsp; &nbsp; &nbsp; &lt;/assemblies&gt;--&gt;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 15, 2014, 1:15:54 PM","shortDate":"Mar 15, 2014","textHtml":"You shouldn't release it publicly. You can do something like:<br>&nbsp;Licensing.RegisterLicenseFromFileIfExists(@\"C:\\src\\appsettings.license.txt\");<br><br>Which is a plain-text file that just contains your licenseKeyText and points outside your repo, it's a no-op if it doesn't exist. Other users can still add their own licenseKey in their preferred method, e.g. in Web.config﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Mar 15, 2014, 1:18:20 PM","shortDate":"Mar 15, 2014","textHtml":"Great. Thanks for the tip﻿"}],"date":"Mar 15, 2014, 1:09:01 PM","shortDate":"Mar 15, 2014"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"I'm facing some trouble with a SS v4 API hosted in Amazon AWS via the Elastic Beanstalk deployment platform. I can't remember the exact version of SS running on the server, but it's Windows 2012 with .net 4.5.<br><br>Basically all the API is doing right now is sitting on amazon, on one small EC2 instance behind a load balancer. Each 30 seconds the load balancer is pinging a heartbeat route and <i>all</i> this route does is to construct a response saying OK.<br><br>What we are experiencing is a linear increase in the response-time of our application. I've pulled the IIS request log files and plotted the average of the measured response times on a per day basis:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://d.pr/i/7fLs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://d.pr/i/7fLs</a><br><br>When the response time breaches 5 seconds (which is quite a lot) the load balancer is marking the instance as unhealty.<br><br>Is this something other customers have reported?<br>For now I'll try to update to the latest version of SS and redeploy.﻿","comments":[{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Mar 17, 2014, 12:28:55 AM","shortDate":"Mar 17, 2014","textHtml":"I updated to SS v4.0.13 and it's been running in amazon for the last 3 days. The latency is still slowly building up:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://screencast.com/t/C5G9V1HhacU\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://screencast.com/t/C5G9V1HhacU</a><br><br>What can we do to try and resolve this?&nbsp;﻿"},{"userId":"118065913110176496010","userName":"Drazen Dotlic","date":"Mar 21, 2014, 10:48:19 AM","shortDate":"Mar 21, 2014","textHtml":"The latency shown is monstrous for (if I understood correctly) such a simple request/response. Have you tried with other cloud 'providers' or is that not an option? In our own internal tests (so not cloud) SS is extremely low overhead so I find your empirical observations very surprising, especially the fact that latency rises over time.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Mar 22, 2014, 6:38:11 AM","shortDate":"Mar 22, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;Thanks for getting back to me! I'm also very surprised to see these results which is why I reached out here :)<br><br>I haven't tried any other cloud providers yet, but I've been looking at the windows servers the code is running from, and they all seem fine in regard to CPU / RAM / Disk load. &nbsp;Could it have something to do with the fact that the IIS AppPool is never recycled since the ELB is kepping it alive?<br><br>What I'm going to do is setup a local windows environment, attach a profiler to the IIS site, and simulate the ELBs requests, which will hopefully reveal what is responsible for the slowdown.<br><br>I was hoping that <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;had some insights on this matter though.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Apr 4, 2014, 9:59:34 AM","shortDate":"Apr 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/118065913110176496010\" oid=\"118065913110176496010\">Drazen Dotlic</a></span>&nbsp;<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp; I have managed to handle this issue, and it was some of my own code and not the ServiceStack framework causing the problems. More specifically i've ported the SQL storage for miniprofiler to MySQL.﻿"}],"date":"Mar 14, 2014, 1:38:25 AM\n(edited Mar 14, 2014, 1:40:38 AM)","shortDate":"Mar 14, 2014"},{"userId":"116303435378233702106","userName":"Aaron Langley","textHtml":"Can anyone get the EmailContacts example app to run from Xamarin Studio on Mavericks?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 12, 2014, 3:31:59 AM","shortDate":"Mar 12, 2014","textHtml":"Can you try re-cloning the repo.<br><br>It was missing the IIS6 handler mapping to run in Mono (Mono doesn't understand IIS 7 handler mappings). I also had to remove refs to EntityFramework dlls from the default <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> template which doesn't exist for Mono.&nbsp;<br><br>Something else that was strange was that trying to run it clean off the repo caused an error that it couldn't find webPages.Razor, but just by deleting any unused <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> ref from EmailContacts project (e.g. like System.Drawing) made the error go away.﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 12, 2014, 6:50:07 AM","shortDate":"Mar 12, 2014","textHtml":"yep that works, including the removal of System.Drawing trick﻿"},{"userId":"116303435378233702106","userName":"Aaron Langley","date":"Mar 13, 2014, 3:07:16 AM","shortDate":"Mar 13, 2014","textHtml":"That trick didn't work for my project. What did is changing the reference in the web.config from<br>System.Web.WebPages.Razor, Version=1.0.0.0<br>to<br>&nbsp;System.Web.Razor, Version=3.0.0.0<br><br>Which makes sense as there is no such file as System.Web.WebPages.Razor.&nbsp;﻿"}],"date":"Mar 12, 2014, 2:17:32 AM","shortDate":"Mar 12, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I have a question about the ResponseStatus.Message property.<br><br>When I throw a Fluent Validation Error. The Message property gets populated with all the messages in the Error list object. So if I have a long Error message in the array, it gets duplicated in the Message as well. This Error message returns a list of IDs not validate for example. I don't want to have double the data coming back on the wire.<br><br>To me the message property isn't particularly important. If a client wants to know the errors and the messages, they would just check the Error array instead.<br><br>Suggestions , comments?﻿","comments":[{"userId":"113745366051337727908","userName":"Mike Mertsock","date":"Mar 11, 2014, 2:53:04 PM","shortDate":"Mar 11, 2014","textHtml":"You can customize the response for validation failures by implementing a callback exposed by the ValidationFeature plugin:<br><br>&nbsp; &nbsp; // in your AppHost setup code<br>&nbsp; &nbsp; Plugins.Add(new ValidationFeature { ErrorResponseFilter = ValidationErrorFilter });<br><br>&nbsp; &nbsp; private object ValidationErrorFilter(ValidationResult validationResult, object o)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; var httpError = o as HttpError;<br>&nbsp; &nbsp; &nbsp; &nbsp; // you can customize the Message or other<br>&nbsp; &nbsp; &nbsp; &nbsp; // properties of HttpError here<br>&nbsp; &nbsp; &nbsp; &nbsp; return httpError;<br>&nbsp; &nbsp; }﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Mar 12, 2014, 3:24:42 PM","shortDate":"Mar 12, 2014","textHtml":"Thanks, I'll give it a try.﻿"}],"date":"Mar 11, 2014, 2:42:09 PM\n(edited Mar 11, 2014, 2:42:56 PM)","shortDate":"Mar 11, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Is the nullable ability of the type (ie, int?, DateTime?, etc.) evaluated while generating tables from the POCO and, if so, is the&nbsp;RequiredAttribute needed for primitives? &nbsp;Same for the MinimumLength attribute of the StringLengthAttribute?﻿","comments":[{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Mar 10, 2014, 11:38:30 AM","shortDate":"Mar 10, 2014","textHtml":"yes you can define something as public decimal? Total {get;set;} and it works.... for the second part I don't know :(﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 10, 2014, 11:42:16 AM","shortDate":"Mar 10, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/105956167967297879956\" oid=\"105956167967297879956\">paolo ponzano</a></span>&nbsp;Thanks, however I was more curious WHY to use the Required attribute for privatives if this can be determined by the nullability of the property. &nbsp;For example, in your example, we know the property is nullable and, for that reason, the generated field within the database would also be nullable. &nbsp;Likewise, if the Total was not nullable, neither would the column be nullable. &nbsp;This would make the Required attribute a bit obsolete... unless it is used somewhere else in SS.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 10, 2014, 12:12:29 PM","shortDate":"Mar 10, 2014","textHtml":"Restricted Attribute is used to create a non-nullable column in the RDBMS, they can be used on reference types, e.g string / Complex types.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Mar 10, 2014, 12:17:31 PM","shortDate":"Mar 10, 2014","textHtml":"So, is the RequiredAttribute required or used when dealing with a nullable type when the base is a value type (ie int?, double?, etc.)?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 10, 2014, 12:21:13 PM","shortDate":"Mar 10, 2014","textHtml":"ValueTypes are not nullable, only used for ref types:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteConfigExtensions.cs#L104-L108\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteConfigExtensions.cs#L104-L108</a>﻿"}],"date":"Mar 10, 2014, 11:32:47 AM\n(edited Mar 10, 2014, 11:33:37 AM)","shortDate":"Mar 10, 2014"},{"userId":"109143533670356077374","userName":"Graham Laidler","textHtml":"Hi, I have posted a question on SS - any help appreciated.<br><br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/22205715/dependency-injection-of-iauthsession-resolves-empty-session\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/22205715/dependency-injection-of-iauthsession-resolves-empty-session</a>﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 1:41:42 PM","shortDate":"Mar 5, 2014","textHtml":"ok I've answered, you can't register UserSessions, they're dehydrated from the Cache using the Session Cookies on the HTTP Request.﻿"}],"date":"Mar 5, 2014, 1:08:52 PM","shortDate":"Mar 5, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I call this line of IoC in the Service Interface &nbsp;object Any(Request) method.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //IOC injection at the request level. This will inject a new instance for ATICore database for each request based on Session.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HostContext.Container.Register&lt;IAtiCoreDbConnectionFactory&gt;(c =&gt; new AtiCoreDbConnectionFactory(this.GetATIUserConnectionByAlias(ServiceSettings.ControllerConnectionAliasATICoreCached).ConnectionString)).ReusedWithin(ReuseScope.Request);<br><br>I am later doing the following in my repository.<br><br>var a = HostContext.Container.TryResolve&lt;IAtiCoreDbConnectionFactory&gt;()&nbsp;as AtiCoreDbConnectionFactory;<br><br>This Interface just has 1 property&nbsp;ConnectionString that use to create a&nbsp;<br><br>new SqlConnection(a.ConnectionString)<br><br>I'm finding that I have a concurrency issue and the Request level IoC is not working correctly. Not sure what I'm doing wrong, I'm new to IoC.<br><br>Our database connection is dynamic each time for each different user. I create a CustomSession object where I store the logged in users connection strings, that I get later and inject for each request Any() call.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 12:15:12 PM","shortDate":"Mar 5, 2014","textHtml":"Note: you shouldn't be registering dependencies in the IOC outside of Configre(), which should be immutable thereafter.<br><br>Also why aren't you declaring it to be injected in your repository with a public property?, e.g:<br><br>IAtiCoreDbConnectionFactory AtiCoreDbFactory { get; set; }<br><br>Typically your Factory dependencies should be singletons and then what you get back from them is a non thread-safe instance, e.g:<br><br>using (var userDb =&nbsp;AtiCoreDbFactory.Open(UserConnectionString)) {<br>&nbsp; //something with userDb<br>}﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Mar 5, 2014, 3:56:03 PM\n(edited Mar 5, 2014, 4:00:25 PM)","shortDate":"Mar 5, 2014","textHtml":"Really, the word use of \"Factory\" for this should be removed. It's an Interface that specifies a specific type of Database with a simple property to be created ConnectionString.<br><br>nTier type project setup<br>WebServiceApplication (Project) -&gt; ServiceInterface (Project) -&gt; Engine (Project) -&gt; Repository (Project).<br><br>For each request, I get the connection strings from Session&lt;CustomSession&gt;().ConnectionStrings.<br><br>I was trying to utilize IoC at the Interface layer to set my Repository class&nbsp;IAtiCoreDbConnection on the fly from Any(). (The Container only gets called one time, during AppHost.Init())<br><br>My Alternatives to IoC<br>NO IoC : Another way is to pass the loaded Repository class to the Engine, but that is messy and not good form.<br><br>NO IoC: Another way is for my Repository classes to hook directly to the Session&lt;CustomSession&gt; object.<br><br>Thoughts?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 4:25:21 PM\n(edited Mar 5, 2014, 4:29:48 PM)","shortDate":"Mar 5, 2014","textHtml":"If you're getting the connectionString at runtime for each request than I would use that to open a new connection that you manage, e.g. if I was sharding with OrmLite (<a rel=\"nofollow\" target=\"_blank\" href=\"http://bit.ly/1icV0nF\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://bit.ly/1icV0nF</a>) I would do something like:<br><br>public class MyService : Service<br>{<br>&nbsp; &nbsp; public IAtiCoreDbConnectionFactory UserDbFactory { get; set; }<br><br>&nbsp; &nbsp; public object Any(Request request)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; var session = SessionAs&lt;MySession&gt;();<br>&nbsp; &nbsp; &nbsp; &nbsp; using (var db = UserDbFactory.OpenUserDb(session.ConnString))<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return UserDb.Fetch&lt;Record&gt;(request.Id);<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp;}<br>}<br><br>If you do this a lot you can wrap it behind some boilerplate like we do with the RepositoryBase/LogicBase:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ILogic.cs#L38\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ILogic.cs#L38</a><br><br>public abstract class ServiceBase : Service&nbsp;<br>{<br>&nbsp; &nbsp; public IAtiCoreDbConnectionFactory UserDbFactory { get; set; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; IDbConnection userDb;<br>&nbsp; &nbsp; &nbsp; &nbsp; public virtual IDbConnection UserDb<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; get<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return userDb ?? &nbsp;(userDb = DbFactory.OpenUserDb(&nbsp;SessionAs&lt;MySession&gt;().ConnString));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; public override void Dispose()<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; base.Dispose();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (userDb != null)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; userDb.Dispose();<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>}<br><br>Then your normal services can look like:<br><br>public class MyService :&nbsp;ServiceBase<br>{<br>&nbsp; &nbsp; public object Any(Request request)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return UserDb.Fetch&lt;Record&gt;(request.Id);<br>&nbsp; &nbsp;}<br>}﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Mar 5, 2014, 7:55:31 PM","shortDate":"Mar 5, 2014","textHtml":"Isn't there only one instance of Service for all requests? If that is the case wouldn't userDb not being null possibly return another requests userDb open connection?<br><br>If a new Service instance is created each time then this wouldn't be an issue.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 7:58:04 PM","shortDate":"Mar 5, 2014","textHtml":"Right, a new instance of each Service is created and autowired on every request.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Mar 5, 2014, 8:07:44 PM","shortDate":"Mar 5, 2014","textHtml":"Cool, thanks for help. Makes sense.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Mar 5, 2014, 11:44:11 PM","shortDate":"Mar 5, 2014","textHtml":"Got it working. With the knowledge that the Service object is created for each Request, that really solved my entire issue.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 5, 2014, 11:46:31 PM","shortDate":"Mar 5, 2014","textHtml":"ok awesome, yeah that tidbit is definitely good to know :)﻿"}],"date":"Mar 5, 2014, 10:32:51 AM","shortDate":"Mar 5, 2014"},{"userId":"106787359118990653189","userName":"Demis Bellot","textHtml":"Offline for a while:<br><br>It's moving day today, which looks like I'll be without Internet for a couple of days, depending on what time they come to connect the Internet at the new place. I'll look at questions when I'm back online.<br><br>Have a good weekend!﻿","comments":[{"userId":"110469684377472215344","userName":"Binu Thayamkery","date":"Feb 28, 2014, 12:47:16 PM","shortDate":"Feb 28, 2014","textHtml":"Good luck with your move :)﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 28, 2014, 4:17:38 PM","shortDate":"Feb 28, 2014","textHtml":"No one gave you permission to be offline! Go to a Starbucks or use a LTE device... :P Good luck on the move :-)﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Feb 28, 2014, 10:06:18 PM","shortDate":"Feb 28, 2014","textHtml":"Good luck with the move, Demis! We'll try to keep the place tidy till you get back....﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 28, 2014, 10:11:01 PM\n(edited Feb 28, 2014, 10:12:24 PM)","shortDate":"Feb 28, 2014","textHtml":"We should all just show up and start loading the truck for him. &nbsp;He'd be done in no time. &nbsp;Plus, think how much free time he'd have to fill out restraining orders. &nbsp;:P﻿"},{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Mar 1, 2014, 3:57:58 AM","shortDate":"Mar 1, 2014","textHtml":"Hope the move goes well.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Mar 1, 2014, 4:39:57 PM\n(edited Mar 1, 2014, 4:44:31 PM)","shortDate":"Mar 1, 2014","textHtml":"ok finally able to replug back in, still got a tonne of unpacking to do but at least I'm reconnected with the world :)﻿"}],"date":"Feb 28, 2014, 12:45:22 PM","shortDate":"Feb 28, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Why are multiple CompositeIndex attributes not allowed on a single ORM class?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 27, 2014, 2:41:53 PM","shortDate":"Feb 27, 2014","textHtml":"because they didn't have AllowMultiple=true set, it does now :)&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/adeb2094490326bfc87ddea4232b995daf7dcf58\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/adeb2094490326bfc87ddea4232b995daf7dcf58</a><br><br>available in next release﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 27, 2014, 2:52:14 PM","shortDate":"Feb 27, 2014","textHtml":"Did you seriously just add that? &nbsp;That's not cool. &nbsp;You're gonna spoil us. &nbsp;Then what do we do when we're talking to vendors like Telerik or Infragistics. &nbsp;You should be ashamed. &nbsp;:P﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 27, 2014, 3:09:35 PM","shortDate":"Feb 27, 2014","textHtml":":) yeah quick, easy and obvious fixes with little risk of side-effects can get added pretty quickly :)﻿"}],"date":"Feb 27, 2014, 2:22:47 PM","shortDate":"Feb 27, 2014"},{"userId":"112627746644624669199","userName":"Jezz Santos","textHtml":"ServiceStack Toolkit!<br><br>(For those who took an interest in the proposal (earlier this week) for building a toolkit that might help the community build ServiceStack web services much quicker and more consistently. Thanks for your feedback.)<br><br>I wanted to launch the 'ServiceStack Toolkit', and demo an example of some of the possibilities and potential of such a toolkit for this community. Please take a look at: <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/jezzsantos/servicestacktoolkit\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/jezzsantos/servicestacktoolkit</a><br><br>Ideally I'd like to see other SME's take this project and run with it, as I myself and still learning how to use SS more effectively. And ideally, I'd want to move the git repo to somewhere more central to ServiceStack. Please advise.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 26, 2014, 9:52:46 AM","shortDate":"Feb 26, 2014","textHtml":"Great Stuff Jezz, I recommend making the video more prominent, like having a screenshot of the video in the page and having it link to the youtube video.﻿"},{"userId":"102769881855401822960","userName":"Ryan Britton","date":"Feb 26, 2014, 9:59:31 AM","shortDate":"Feb 26, 2014","textHtml":"you da man Jezz. Will download and take a look, then provide feedback :-)﻿"}],"date":"Feb 26, 2014, 4:06:51 AM","shortDate":"Feb 26, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Need some help with an odd scenario. &nbsp;A 404 error is detected after pushing approx 50 files to the server (synchronous / blocking) using WebRequest. &nbsp;After disposing of the current requested, all future responses are returned as XML... despite the previous 50 (approx) requests returning JSON. &nbsp;Any ideas how to troubleshoot this? &nbsp;The 404 itself is killing me since all previous &amp; subsequent calls are successful... except they return XML.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 24, 2014, 11:12:41 PM","shortDate":"Feb 24, 2014","textHtml":"FYI I've left a comment wanting to see the raw HTTP Request / Responses at the time the service starts to return XML. You can use Fiddler to get these.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 11:08:24 AM","shortDate":"Feb 25, 2014","textHtml":"Sorry it took so long to respond. &nbsp;I think I understand why the JSON request is being ignored... because an XML file was sent in the stream. &nbsp;Not a great find, but it makes sense. &nbsp;I'm still puzzled why a 404 is being detected for sporadic requests. &nbsp;Anyway, the info is on ServiceStack.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 11:52:43 AM","shortDate":"Feb 25, 2014","textHtml":"Can you post the HTTP for the 404 Requests? hard to see what's happening without it.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 12:30:59 PM","shortDate":"Feb 25, 2014","textHtml":"Done. &nbsp;The only consistent fact about the files is they are all text-based. &nbsp;However, a large number of other text-based files were submitted without issue... both before and after the failures.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 12:43:09 PM\n(edited Feb 25, 2014, 12:46:38 PM)","shortDate":"Feb 25, 2014","textHtml":"Right, but where's the HTTP Request that generated that HTTP Response? Please include the actual request that generated the 404 response.<br><br>But something telling from the Response is that it looks like IIS is returning the 404 before the request reaches ServiceStack.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 12:58:03 PM","shortDate":"Feb 25, 2014","textHtml":"There have been two additional edits to the ServiceStack post. &nbsp;The last edit, from 12:20 PM shows the headers from session 560. &nbsp;This has a 404 from IIS as well as the friendly message in HTML format.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 1:10:23 PM\n(edited Feb 25, 2014, 1:10:40 PM)","shortDate":"Feb 25, 2014","textHtml":"ahh ok I see it, I thought that was a C# class source file, I now see that it's apart of a HTTP Request. Great what's the Route definition? Does it end with a {PathInfo*}? also if you upload that file on its own does it succeed?﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 1:28:27 PM","shortDate":"Feb 25, 2014","textHtml":"Three routes...<br><br>[Route(\"/Files/Put\", \"POST\")]<br>[Route(\"/Files/Put/{Token}/{Checksum}/{SizeBytesText}\", \"POST\")]<br>[Route(\"/Files/Put/{Token}/{Checksum}/{SizeBytesText}/{FileNameOrExtension}\", \"POST\")]﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 2:02:07 PM","shortDate":"Feb 25, 2014","textHtml":"And does the request work when its run on its own? If it does I might need to repro this locally to investigate what the issue is, can you post the C# DTO's used.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 2:40:47 PM","shortDate":"Feb 25, 2014","textHtml":"Also can you try if this makes a difference:<br>client.KeepAlive = false;﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 3:09:02 PM","shortDate":"Feb 25, 2014","textHtml":"I've added to the post and included both the DTO and a test console app. &nbsp;The file CAN be read successfully, using a FileStream, which shows the file is intact. &nbsp;However it will ALWAYS cause a 404. &nbsp;<br><br>I had originally thought this had something to do with tacking on the file name. &nbsp;Possibly the extension was causing a problem. &nbsp;However, countless other files, with the same exact extension, go through just fine.<br><br>On a side note, I've also noticed that SS sends back an HTML response if the file sent to the server is an HTML file... regardless of the Accept header. &nbsp;This renders the entire response useless.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 3:45:22 PM","shortDate":"Feb 25, 2014","textHtml":"Sorry. &nbsp;Just noticed your comment from 2:40 PM. &nbsp;As requested, I set the KeepAlive flag to false. &nbsp;No change.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Feb 25, 2014, 4:31:37 PM","shortDate":"Feb 25, 2014","textHtml":"I've posted my findings and workaround to the question. &nbsp;Long story short, if the path appears to have a file name, ServiceStack responds with a response matching the content type in the ResponseStream. &nbsp;If the path is formatted in such a way that the a logical file name cannot be assumed (ie \".../ReadMe.HTML\" becomes \".../ReadMe/HTML\") the result is always the type requested in the Accept header. &nbsp;Most importantly, no 404 errors.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 25, 2014, 4:39:46 PM\n(edited Feb 25, 2014, 4:58:45 PM)","shortDate":"Feb 25, 2014","textHtml":"Ahh yes, the extension is going to override the response format if its one of the registered formats in your ServiceStack service. and .xml / .html are enabled by default. Also instead of converting to use slashes and maintaining multiple routes, you could just make use of the querystring.<br><br>As for the 404 issue, if it's one of these formats ServiceStack will strip the extension from the PathInfo as it assumes that it's superflous and just used to specify the response type and your Service might not be finding the file so is throwing a not found.<br><br>The other culprit (more likely because I don't see ServiceStack in the response headers) is IIS hijacking the request before it reaches ServiceStack because it assumes its a static file that doesn't exist, e.g:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/q/11728846/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/q/11728846/85785</a><br><br>Glad its resolved!﻿"}],"date":"Feb 24, 2014, 5:29:13 PM","shortDate":"Feb 24, 2014"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","textHtml":"Would love some input on this...﻿","comments":[],"date":"Feb 21, 2014, 4:21:37 PM","shortDate":"Feb 21, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I am posting to Authenticate with the Header ContentType as the following:&nbsp;<br><br>Accept-Encoding: gzip,deflate<br>Content-Type: application/xml;charset=UTF-8<br>Content-Length: 0<br><br>I get back the following in the response?<br><br>Cache-Control: private<br>Content-Type: application/json; charset=utf-8<br>Content-Length: 361<br>Connection: Close<br><br>{\"responseStatus\":{\"errorCode\":\"ValidationException\",\"message\":\"Validation failed: \\r\\n -- 'User Name' should not be empty.\\r\\n -- 'Password' should not be empty.\",\"errors\":[{\"errorCode\":\"NotEmpty\",\"fieldName\":\"UserName\",\"message\":\"'User Name' should not be empty.\"},{\"errorCode\":\"NotEmpty\",\"fieldName\":\"Password\",\"message\":\"'Password' should not be empty.\"}]}}<br><br>I know I'm not setting username and password, but i should get back XML? If i set the url format=xml then i get back xml.<br><br>What am I doing wrong? Do we always have to set the url?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:38:44 AM\n(edited Feb 21, 2014, 10:50:54 AM)","shortDate":"Feb 21, 2014","textHtml":"For the HTTP request you have to use the \"Accept\" header.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 21, 2014, 10:48:46 AM","shortDate":"Feb 21, 2014","textHtml":"My QA department is using SOAP UI for testing and they are setting the Media-Type dropdown. It doesn't set that I guess.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 10:50:45 AM","shortDate":"Feb 21, 2014","textHtml":"Here are other ways to ask for the content type:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Routing#wiki-content-negotiation\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Routing#wiki-content-negotiation</a>﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 21, 2014, 10:59:38 AM","shortDate":"Feb 21, 2014","textHtml":"I got it working, Just added the Accept: \"Application/xml\" with the Content-Type: the same and all good.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 21, 2014, 11:00:27 AM\n(edited Feb 21, 2014, 11:00:45 AM)","shortDate":"Feb 21, 2014","textHtml":"Yep, that's what \"Accept\" is there for :)﻿"}],"date":"Feb 21, 2014, 10:37:41 AM","shortDate":"Feb 21, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"I've a request...it's possible to have an ASP.Net Authentication provider that works with an existing <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> website? I mean that uses Sliding Period for expiration and it's based on out of the box?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 10:00:54 AM","shortDate":"Feb 20, 2014","textHtml":"ServiceStack's Authentication providers are completely decoupled from <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>'s authentication and we don't provide integration with <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> authentication ourselves.&nbsp;<br>This post provides good walkthrough for extending and providing your own custom authentication provider:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://enehana.nohea.com/general/customizing-iauthprovider-for-servicestack-net-step-by-step/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://enehana.nohea.com/general/customizing-iauthprovider-for-servicestack-net-step-by-step/</a>﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 20, 2014, 12:38:15 PM","shortDate":"Feb 20, 2014","textHtml":"Paolo, what you want is easily achievable. &nbsp;I previously posted the code to stackoverlfow here. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/posts/21468086/revisions\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/posts/21468086/revisions</a> &nbsp;Hoping Demis gets around to including basic hook ups like this one day. &nbsp;Unfortunately most of us already have authentication and authorization existing and cannot use his native ones..﻿"}],"date":"Feb 20, 2014, 9:45:17 AM","shortDate":"Feb 20, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I have a solution with multiple projects. One of the projects is a web service and another is a desktop application. They both access the same database. Now I have 2 sets of entity classes and two sets of repository classes. The web service set uses OrmLite and the set used by the desktop application is some homemade stuff :). I was wondering if it would be a good idea to share entity and repository classes between the two projects and if so how? I guess have to use some kind of dependency injection in my desktop application to be able to use the repository classes created for the web service. Any pointers, hints, to get me going?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 8:26:34 AM\n(edited Feb 20, 2014, 8:28:31 AM)","shortDate":"Feb 20, 2014","textHtml":"Hi Henrik, it's unclear what the issue is without seeing concrete examples. I don't see why you can't just use the existing classes as-is, or why you would need to use dependency injection. Everything should just be normal c# classes you can manually inject yourself if you want to.&nbsp;<br><br>I believe these types of guidance questions are best asked on StackOverflow with example source code so we can see exactly what the issue is to be able to figure out what answer is expected.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 20, 2014, 3:38:36 PM","shortDate":"Feb 20, 2014","textHtml":"Ok, I guess I was a bit vague. I'll try to break it down into smaller issues, one of which is this:<br>I moved some of my DTO's to a separate assembly. My services was still working fine. But then I tried to move a DTO which is rendered in a razor ViewPage. Then I got a NullReferenceException from Razor/ViewPage.cs. I have changed the reference to the DTO everywhere I can think of, including the .cshtml file. Just by moving this single DTO all my of my services disappeared from the metadata page.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 20, 2014, 3:43:48 PM","shortDate":"Feb 20, 2014","textHtml":"It's really hard to guess what's happening based on your description. Is the DTO being referenced int the AppHost contructor and moving the DTO changes where you're telling ServiceStack all the services are it should wire up?﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 21, 2014, 5:22:27 PM","shortDate":"Feb 21, 2014","textHtml":"The problem was that my DTO project was created as a \"Class library\" and thus had default output directory set to /bin/Debug. While my web service project had /bin as an output folder. Everything worked as expected when I set the output folder of my DTO project to /bin.﻿"}],"date":"Feb 20, 2014, 6:36:29 AM\n(edited Feb 20, 2014, 6:36:51 AM)","shortDate":"Feb 20, 2014"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","textHtml":"Have seen this error a few times, but this time I can't seem to figure it out, even after a few hours of digging and trying.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 3:36:00 PM","shortDate":"Feb 18, 2014","textHtml":"Hi Sven, I see the VS issues, but does the page itself work?&nbsp;<br><br>Note: if you're using a &nbsp;'@model' it needs to be called via a service.&nbsp;﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 18, 2014, 3:42:46 PM","shortDate":"Feb 18, 2014","textHtml":"Don't you need an @inherit before you can use @model?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 3:46:30 PM\n(edited Feb 18, 2014, 3:46:44 PM)","shortDate":"Feb 18, 2014","textHtml":"No, '@model T' is a just short hand for '@inherits ViewPage&lt;T&gt;'.<br><br>The reason why '@model' has issues is that it's not built into Razor by default, it's an optional directive we have to implement in our user-space razor extensions.&nbsp;﻿"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","date":"Feb 19, 2014, 12:18:01 PM","shortDate":"Feb 19, 2014","textHtml":"Using @inherits instead gets rid of the squiggly lines and the error :)<br><br>And yes, the page works with @model also. Just no intellisense.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 12:23:03 PM","shortDate":"Feb 19, 2014","textHtml":"Yeah unfortunately that's <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a>'s MVC-coupled Razor intelli-sense for you.﻿"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","date":"Feb 19, 2014, 12:26:34 PM","shortDate":"Feb 19, 2014","textHtml":"BTW. Is there a reason that Layout = null and Layout = \"\" behave differently? The VS Razor template for ignoring _Layout.cshtml sets Layout = null, which still loads the _Layout.cshtml parent view.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 12:31:58 PM","shortDate":"Feb 19, 2014","textHtml":"Sorry what are you saying Layout=\"\" does?﻿"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","date":"Feb 19, 2014, 1:13:27 PM","shortDate":"Feb 19, 2014","textHtml":"Say I have:<br>Views/_Layout.cshtml<br>&lt;html&gt;<br>&lt;body&gt;<br>@RenderBody()<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>Views/Logon/Logons.cshtml<br>@{<br>Layout = null;<br>}<br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;p&gt;Here you can log in.&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>The rendered result is:<br><br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;p&gt;Here you can log in.&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>If I set Layout = \"\" in Logons.cshtml, I get as expected:<br><br>&lt;html&gt;<br>&lt;body&gt;<br>&lt;p&gt;Here you can log in.&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>Is there a reason Layout = null and Layout = \"\" produce different results?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 19, 2014, 1:18:44 PM","shortDate":"Feb 19, 2014","textHtml":"Well Layout = null, suggests to use the default layout template, whilst Layout=\"\" suggests to use none.﻿"},{"userId":"102193611082680147703","userName":"Sven E. Thorsen","date":"Feb 19, 2014, 2:32:30 PM","shortDate":"Feb 19, 2014","textHtml":"Aha, thanks :)﻿"}],"date":"Feb 18, 2014, 3:22:11 PM","shortDate":"Feb 18, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Is there a way to disable GET requests for credentials auth?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 18, 2014, 6:50:08 AM","shortDate":"Feb 18, 2014","textHtml":"You could use a Global Filter, or even dynamically adding a FilterAttribute to the Authenticate service should work, e.g:<br><br>typeof(Authenticate)<br>&nbsp; &nbsp; .AddAttributes(new RestrictAttribute(RequestAttributes.HttpPost));<br><br>Note: this will break the OAuth Authentication providers require GET's for their callbacks.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 18, 2014, 3:25:17 PM","shortDate":"Feb 18, 2014","textHtml":"Thanks for the note. I didn't realize it would break OAuth providers which require GET. My reason for disabling GET for auth was under SSL the url (GET) is not secured.&nbsp;﻿"}],"date":"Feb 18, 2014, 12:36:18 AM","shortDate":"Feb 18, 2014"},{"userId":"102082490347478105488","userName":"Kaush Shetty","textHtml":"Hi,<br><br>I seem to be facing this issue where, when I get a record from the database using ormlite (screenshots attached below), the date value is defaulting to 1/01/01, whereas the actual date value in the record is: 2014-02-11 00:00:00.000<br><br>Any advise as to where I could be going wrong on this one?<br><br>Thanks!﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 9:04:41 AM","shortDate":"Feb 17, 2014","textHtml":"Did you insert the Date using OrmLite?﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 9:55:55 AM","shortDate":"Feb 17, 2014","textHtml":"Nope, it is was inserted manually...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:05:08 AM","shortDate":"Feb 17, 2014","textHtml":"Then I can only assume its related to the timezone of the db. What does the value look like in the DB when you try to insert it using OrmLite?﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 10:23:47 AM","shortDate":"Feb 17, 2014","textHtml":"I inserted a record using the stand alone unit test and the value in db looks like:<br>2014-02-18 02:20:21.897﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:26:17 AM","shortDate":"Feb 17, 2014","textHtml":"Is that the value you inserted?﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 10:28:49 AM","shortDate":"Feb 17, 2014","textHtml":"The inserted record's datetime is read back correctly...﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 10:31:33 AM","shortDate":"Feb 17, 2014","textHtml":"Yeah, I inserted the value using the DateTime.Now value﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 10:31:39 AM","shortDate":"Feb 17, 2014","textHtml":"ok cool, so not sure what's up with the manual inserted date, we just return back what the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ADO.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ADO.NET</a> provider gives back﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 10:35:48 AM","shortDate":"Feb 17, 2014","textHtml":"Am stumped too! Thought it could be something you might have come across...<br>Will keep trying and let you know what I find...﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 10:53:33 AM","shortDate":"Feb 17, 2014","textHtml":"Hit the jackpot! :)<br><br>The integer field in the class were not specified as nullable int!<br><br>The values when inserted manually were inserted as NULL in the database.&nbsp;And it barfed with the following exception before it could reach to the part where we assign the values for the date property:<br><br>ERROR: System.NullReferenceException: Object reference not set to an instance of an object.<br>&nbsp; &nbsp;at lambda_method(Closure , Object , Object )<br>&nbsp; &nbsp;at ServiceStack.OrmLite.OrmLiteDialectProviderBase`1.SetDbValue(FieldDefiniti<br>on fieldDef, IDataReader dataReader, Int32 colIndex, Object instance)<br>&nbsp; &nbsp;at ServiceStack.OrmLite.OrmLiteWriteExtensions.PopulateWithSqlReader[T](T obj<br>WithProperties, IDataReader dataReader, FieldDefinition[] fieldDefs, Dictionary`2 indexCache)<br><br>Probably something we could catch in ormlite and set a default value to 0 for integer types?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 11:10:11 AM","shortDate":"Feb 17, 2014","textHtml":"ok great, just checked in a fix for schema mismatches like this at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/4eee0f7a177436f873bb568ca1c0905da1d506f2\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/4eee0f7a177436f873bb568ca1c0905da1d506f2</a><br><br>Now if it's not nullable, it will set the default value instead.﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 6:51:24 PM","shortDate":"Feb 17, 2014","textHtml":"Sorry, was AFK, infact SOK (Slept On Keyboard) It was past 3am Melbourne time! ;)<br><br>Awesome!&nbsp;Had a look into the check in.<br><br>Just an after thought, should we do the same for other primitive types which are not defined as nullables to have a default value as well?<br><br>Thanks a ton!﻿"},{"userId":"102082490347478105488","userName":"Kaush Shetty","date":"Feb 17, 2014, 6:53:53 PM","shortDate":"Feb 17, 2014","textHtml":"Spoke too soon! Noticed it is fixed for all types! Thanks! :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 17, 2014, 7:00:23 PM","shortDate":"Feb 17, 2014","textHtml":"yep all value types are supported :)﻿"}],"date":"Feb 17, 2014, 7:22:10 AM","shortDate":"Feb 17, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Somehow I've lost my intellisense in the cshtml using ServiceStack.Razer. I'm using VS.Net 2013 and ServiceStack v4.0.5. Any tips on how to get it back? I've tried restarting <a rel=\"nofollow\" target=\"_blank\" href=\"http://vs.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">vs.net</a> and building the project, which is successful.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 8:03:32 PM","shortDate":"Feb 13, 2014","textHtml":"Just to check the Razor config to make sure that it looks similar to what a new <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> project looks like with SS.Razor added.<br><br>Otherwise you could try cleaning out the binary cache .suo file and reloading the project.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 13, 2014, 8:11:05 PM","shortDate":"Feb 13, 2014","textHtml":"I haven't changed this since I upgraded from 2012. So I don't think it's a web.config problem. I'll try cleaning the bin cache and .suo file.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 13, 2014, 8:14:30 PM","shortDate":"Feb 13, 2014","textHtml":"Ok tried that, no such luck.﻿"},{"userId":"109587042931756689212","userName":"Michał Gajek","date":"Feb 14, 2014, 2:52:08 AM","shortDate":"Feb 14, 2014","textHtml":"Im curious too, I've had the same problem since switching to vs2013﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 14, 2014, 5:36:12 AM","shortDate":"Feb 14, 2014","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> intelli-sense is a dark art that's silently coupled to MVC which we don't have any control over, the reason why we add MVC Razor Web.config entries is to keep VS .NET intelli-sense happy.<br>This is why if you're using self-hosting you still need a dummy Web.config even though your project doesn't use it, it's just there for <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a>'s intelli-sense.<br>All I can recommend is to check that the MVC Web Razor config looks the same as a new project template. So you could uninstall SS.Razor, remove all the Razor configuration from your web.config than install SS.Razor again.<br><br>Is your project .NET 4.0 or 4.5?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 14, 2014, 11:51:55 AM","shortDate":"Feb 14, 2014","textHtml":"It's 4.5﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 14, 2014, 12:13:55 PM","shortDate":"Feb 14, 2014","textHtml":"So I'd recommend copying over the Razor related Web.config from a new .NET 4.5 <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> project with SS.Razor enabled.&nbsp;﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 14, 2014, 5:33:17 PM","shortDate":"Feb 14, 2014","textHtml":"Thanks Demis. I'll try it when I have a chance. Fortunately for me it's not a big deal since I'm in angularjs or in the service stack services most of the time.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Feb 21, 2014, 10:58:37 PM","shortDate":"Feb 21, 2014","textHtml":"Ok I tried pulling down the latest RazerRockstars project and opened it in <a rel=\"nofollow\" target=\"_blank\" href=\"http://vs.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">vs.net</a> 2013 and it had the same intellisense problem.﻿"}],"date":"Feb 13, 2014, 7:30:36 PM","shortDate":"Feb 13, 2014"},{"userId":"109640872408655177062","userName":"Colin Mackie","textHtml":"Anyone have suggestions for the best way to debug routes?<br><br>I have one that is just returning a&nbsp;RequestBindingException and for the life of me I can't see anything wrong.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 5:03:43 PM","shortDate":"Feb 13, 2014","textHtml":"You should be able to debug the symbol sources published with the NuGet packages, i.e:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages</a>﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 13, 2014, 5:23:33 PM","shortDate":"Feb 13, 2014","textHtml":"Thanks, I had tried that but the symbol servers were returning 404 for 4.0.10.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 5:26:35 PM","shortDate":"Feb 13, 2014","textHtml":"Do you mean you added them in <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a>'s&nbsp;Tools -&gt; Options -&gt; Debugger -&gt; Symbols and they said they didn't exist?﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 13, 2014, 5:28:43 PM\n(edited Feb 13, 2014, 5:29:20 PM)","shortDate":"Feb 13, 2014","textHtml":"I added the settings per that page, and when I try and view symbols I get:<br><br>SYMSRV: &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://srv.symbolsource.org/pdb/Public/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F185/ServiceStack.pdb\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://srv.symbolsource.org/pdb/Public/ServiceStack.pdb/2FAAC5C652234480BA71688B405D526F185/ServiceStack.pdb</a> not found<br><br>(for each repository).﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 6:57:23 PM","shortDate":"Feb 13, 2014","textHtml":"I think a response went missing here, as it's not showing up. Is this still a problem after a VS restart?&nbsp;<br><br>Otherwise other things I can think of is to enable logging if you haven't already.<br><br>Give a console tracer to the text serializers with:<br>JsConfig.Tracer = new&nbsp;ConsoleTracer();<br><br>Add break points in the Customized Error Handling options so you can inspect the exception, the Binding exceptions should have an inner exception you can look at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling</a>﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 13, 2014, 7:02:28 PM\n(edited Feb 13, 2014, 7:02:53 PM)","shortDate":"Feb 13, 2014","textHtml":"Well, yes and no. If I look though my symbol cache folder, it has many of the ServiceStack pdbs for ServiceStack.Client, .Common, etc, just not for ServiceStack.dll itself. Could it be missing?<br><br>I'll try the inspecting the exception.﻿"},{"userId":"109640872408655177062","userName":"Colin Mackie","date":"Feb 13, 2014, 7:15:31 PM\n(edited Feb 13, 2014, 7:15:57 PM)","shortDate":"Feb 13, 2014","textHtml":"Well, that did it. Thank you for pointing me in the right direction.<br><br>Viewing the inner exception. Turns out I made that classic mistake of having a DTO property defined as :<br><br>public int Id;<br><br>instead of<br><br>public int Id { get; set; }<br><br>Guess I need better logging :)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 13, 2014, 7:24:15 PM","shortDate":"Feb 13, 2014","textHtml":"ok great. also SS.Text can serialize pubilc fields by setting:<br>JsConfig.IncludePublicFields = true;<br><br>But IMO you should only use public properties in DTOs.﻿"}],"date":"Feb 13, 2014, 4:55:57 PM","shortDate":"Feb 13, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I just created a new project in VS 2013 by selecting ASP.Net Web Application then \"Empty project\". This project is now targeting .net 4.5. I then added the ServiceStack.Razor package from nuget, which in turn downloaded all needed packages. Then I look at the Web config and wonder why it references &nbsp;\"System.Web.WebPages.Razor, Version=1.0.0.0 and \"System.Web.Mvc, Version=3.0.0.0\". Shouldn't this be mvc 4.0 or 5.0 and razor 2.0 or 3.0?<br>What I'm trying to accomplish is getting rid of a warning in the Visual studio page inspector saying \"No mapping data was returned from the server\".﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 2:01:27 PM","shortDate":"Feb 12, 2014","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"https://www.nuget.org/packages/ServiceStack.Razor\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.nuget.org/packages/ServiceStack.Razor</a> doesn't have any dependencies other than ServiceStack, it includes its own version of System.Web.Razor.<br><br>Note: you can't use SS.Razor inside an MVC project, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/21657346/85785\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/21657346/85785</a>﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 12, 2014, 2:15:24 PM","shortDate":"Feb 12, 2014","textHtml":"Can I even use the Page Inspector in visual studio when creating a pure SS.Razor project?&nbsp;<br>Looking at this page, I think it requires normal razor v2.&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://msdn.microsoft.com/en-us/library/jj204395.aspx\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://msdn.microsoft.com/en-us/library/jj204395.aspx</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 2:27:06 PM","shortDate":"Feb 12, 2014","textHtml":"What Page Inspector? Chrome?<br>What was the empty application you're creating? An <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> (i.e. not MVC) Web App?﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 12, 2014, 2:29:04 PM","shortDate":"Feb 12, 2014","textHtml":"The built-in page inspector in visual studio 2013. Yes an empty ASP.Net Web app.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 12, 2014, 2:58:12 PM\n(edited Feb 12, 2014, 2:58:29 PM)","shortDate":"Feb 12, 2014","textHtml":"I doubt the Page Inspector will work since SS.Razor uses its own, completely different Razor Engine from MVC.<br>But I've just created an empty .NET 4.5 web application and it works fine, and it references the v3.0 of Razor in the project references.&nbsp;<br>Don't worry about what it says in the Web.config, that's mainly to keep <a rel=\"nofollow\" target=\"_blank\" href=\"http://VS.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">VS.NET</a> intelli-sense happy, the &lt;buildProvider/&gt; says to use our Razor engine. Other than that we only use the namespaces specified in &lt;system.web.webPages.razor&gt;.<br><br>Note: the .NET 4.0 and .NET 4.5 versions of SS.Razor are different, so if you downloaded the NuGet packages whilst the project was .NET 4.0 than it would pull in the .NET v4.0 version.<br>I would re-create your app as a .NET 4.5 Web App and installing from NuGet again.﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Feb 12, 2014, 3:08:58 PM","shortDate":"Feb 12, 2014","textHtml":"Thanks alot! This made things clearer for me. ﻿"}],"date":"Feb 12, 2014, 1:56:48 PM","shortDate":"Feb 12, 2014"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"We are considering using Message Queues and PUB/SUB in our app. Any rules of thumb to choose between Redis and RabbitMQ?&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 10, 2014, 9:58:42 PM","shortDate":"Feb 10, 2014","textHtml":"RabbitMQ has explicit Acks/Naks which prevents losing messages that ServiceStack is currently processing if it ever dies. Otherwise RedisMQ allows 1 less infrastructure dependency if you're already using Redis :)﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Feb 10, 2014, 10:03:15 PM","shortDate":"Feb 10, 2014","textHtml":"Many thanks﻿"}],"date":"Feb 10, 2014, 9:31:05 PM","shortDate":"Feb 10, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Metadata Page is very helpful for&nbsp; JavaScript and mobile clients&nbsp; (the &nbsp; great majority).&nbsp; I hear from them, the best words. Bu I have&nbsp; few issues.<br>1. It displays all services when I want to display only the services which have enabled routes.&nbsp; I use&nbsp; the&nbsp; Fluid API for &nbsp; routing&nbsp; and it is extremely important for us&nbsp; to have configurable routes.&nbsp; I would like also to declare from the&nbsp; route attribute, with a special field,&nbsp; if&nbsp; a service will be displayed or not , in the metadata page.<br>2.&nbsp;&nbsp; I would like to add Summary and Notes to our Routes,&nbsp; but&nbsp; the generic Routes.Add&lt;T&gt;, &nbsp; of the Fluid Api,&nbsp; does not expose&nbsp; the Summary and Notes fields.<br>3. I tried to use the Swagger.API, adding the &nbsp; Plugins.Add(new SwaggerFeature()), but without success.&nbsp; I cannot understand why. We work with self-hosted services. Does it work only with web sites ? In metadata page&nbsp; (localhost:port), the link&nbsp; \"Swagger UI\" is displayed but it cannot find the handler for request.<br>In any case I appreciate a lot the Metadata page, instead of Swagger, but the issues in 1 and 2,&nbsp; create me problems any way.<br>thanks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 6, 2014, 10:56:22 PM","shortDate":"Feb 6, 2014","textHtml":"You can hide your services by restricting them, see:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Restricting-Services</a><br><br>Note: they will appear visible, but greyed out in DebugMode, but will be hidden in release mode.<br><br>2.) You can use some of the same generic attributes as Swagger uses:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#wiki-swagger-attributes\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API#wiki-swagger-attributes</a><br><br>3) Swagger should work, use the link to Swagger UI on the metadata page (available in recent releases). If not file an issue, pasting screenshots + HTTP Headers causing the issue.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 6, 2014, 10:58:44 PM","shortDate":"Feb 6, 2014","textHtml":"I just solved the Swagger issue (3), copying the swagger-ui folder to the bin and changing the&nbsp; discoveryUrl in index.html.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 6, 2014, 11:04:57 PM\n(edited Feb 6, 2014, 11:46:50 PM)","shortDate":"Feb 6, 2014","textHtml":"Issue 2.&nbsp; I don't want to use static&nbsp; routes attributes in services, as I work with Fluent API configurable routes.&nbsp; Is it possible the generic&nbsp; Route.Add&lt;t&gt; to accept also the Summary and Notes as parameters ?<br>Issue 1: Can I&nbsp; hide&nbsp; service metadata (Visibility), without to restrict access ?<br>In any case is there a Fluid API for these also ?&nbsp; If they are not configurable,&nbsp; I cannot use these attributes. thx﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 6, 2014, 11:05:26 PM\n(edited Feb 6, 2014, 11:05:38 PM)","shortDate":"Feb 6, 2014","textHtml":"Actually yeah, whenever you're self-hosting you need to set the build Action on all file assets you need to serve to \"Copy if newer\" so they're copied over to the /bin directory where the Console SelfHost app can find them.﻿"}],"date":"Feb 6, 2014, 10:30:32 PM\n(edited Feb 6, 2014, 10:32:13 PM)","shortDate":"Feb 6, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"I was wondring if you could start tagging the code for each release/version of Servicestack. It would be nice to quickly see the commits since last version and even the commits between versions.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 6, 2014, 10:29:54 AM\n(edited Feb 6, 2014, 10:30:07 AM)","shortDate":"Feb 6, 2014","textHtml":"Yeah there's an existing feature request for this, vote it up:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4780249-add-a-ci-step-that-tags-the-release-number-into-th\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests/suggestions/4780249-add-a-ci-step-that-tags-the-release-number-into-th</a><br><br>Note you should be able to debug the source code with the latest v4.09 release at:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Debugging#wiki-debugging-source-symbols-in-nuget-packages</a>﻿"}],"date":"Feb 6, 2014, 10:25:46 AM","shortDate":"Feb 6, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"Case sensitive ? How do you turn this off or fix it?<br><br>auth/logout &nbsp;&lt;- (Works Lower)<br>auth/Logout &lt;- (Fails Upper)﻿","comments":[{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 4, 2014, 2:38:38 PM","shortDate":"Feb 4, 2014","textHtml":"Also, Is it possible to only allow POST and GET verbs for the AuthFeature. I looked at the ServiceStack code:<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.Routes.Add(reqAttr.RequestType, atRestPath, null);<br><br>null is being passed by default which sets All Verbs.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 4, 2014, 3:22:59 PM\n(edited Feb 4, 2014, 3:32:25 PM)","shortDate":"Feb 4, 2014","textHtml":"I have had no luck having the Html Feature On and disabling the&nbsp;HtmlRedirect to login.aspx. I just want Html to return HTTP/1.1 401 Unauthorized<br><br>I set the HtmlRedirect = null for the AuthFeature during configuration and the &nbsp; &nbsp;[Authenticate(HtmlRedirect = null)] attribute on the Service and it still redirects.<br><br>If I set the AuthFeature.HtmlRedirect = \"\", at least it doesn't redirect, but I get a 302, not a 401.&nbsp;<br><br>Not sure what i'm doing wrong.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 4, 2014, 9:41:38 PM","shortDate":"Feb 4, 2014","textHtml":"The provider value (i.e. logout) is case-sensitive, I guess I could make it ignore case. Based on the impl, the AuthService already only accepts Get/Post:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthenticateService.cs#L79-L84\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AuthenticateService.cs#L79-L84</a><br><br>Are you talking about Credentials (i.e. UserName/Password) Auth? Does it redirect to the login page? The other OAuth providers have to redirect based as part of its core auth process.&nbsp;<br><br>If this applies to Credentials auth, can I see the raw HTTP Request + Response headers with the request that redirects?﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 5, 2014, 9:11:26 AM","shortDate":"Feb 5, 2014","textHtml":"it would be great if it wasn't case sensitive for logout. The metadata page for Auth specifies \"All Verbs\". If you create your own operation and set the routes to \"Post, GET\". Then that's what you see only for that operation on the metadata page. \"All Verbs\" makes me think of more then just \"Post, GET\".<br><br>Also, I decided to turn off the HTML feature as it redirects to login when I don't want it too. Wanted it to stay on the route it was on.﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 5, 2014, 9:21:58 AM","shortDate":"Feb 5, 2014","textHtml":"To answer your question about the Auth redirect to login.aspx.<br><br>My service has the&nbsp;&nbsp; &nbsp; [Authenticate] attribute set on the Service class I've created. If the Html feature is on and I open a browser and type in a Operation that I've created for example /myservice/GetDogs<br><br>Then it will redirect to login.aspx. I just want it to return Html or just a 401 like it should without redirecting.<br><br>The data you wanted from Fiddler.<br><br>GET <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:3333/Service/GetCars/New\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:3333/Service/GetCars/New</a> HTTP/1.1<br>Host: localhost:3333<br>Connection: keep-alive<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<b>/</b>;q=0.8<br>User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36<br>Accept-Encoding: gzip,deflate,sdch<br>Accept-Language: en-US,en;q=0.8<br>Cookie: CSS=name=small-font.css; ss-pid=xyR1t5iLTw3H7traAzVy; 881D0C212B0E443A9BD6C026493B4DB2=55cc4wu35gyvfb0qv02h1sxf; ss-id=GZuJgfdbKNxDqWBtjx7g<br><br>HTTP/1.1 302 Found<br>Server: <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Development Server/<a rel=\"nofollow\" target=\"_blank\" href=\"http://11.0.0.0\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">11.0.0.0</a><br>Date: Wed, 05 Feb 2014 14:17:47 GMT<br>Location: <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:3333/login?redirect=http%3a%2f%2flocalhost%3a3333%2fGetCars%2fNew%0ACache-Control\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:3333/login?redirect=http%3a%2f%2flocalhost%3a3333%2fGetCars%2fNew\nCache-Control</a>: private<br>Content-Length: 0<br>Connection: Close<br><br>Then it redirects right away<br><br>GET <a rel=\"nofollow\" target=\"_blank\" href=\"http://localhost:3333/login?redirect=http%3a%2f%2flocalhost%3a3333%2fGetCars%2fNew\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://localhost:3333/login?redirect=http%3a%2f%2flocalhost%3a3333%2fGetCars%2fNew</a> HTTP/1.1<br>Host: localhost:3333<br>Connection: keep-alive<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,<b>/</b>;q=0.8<br>User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.57 Safari/537.36<br>Accept-Encoding: gzip,deflate,sdch<br>Accept-Language: en-US,en;q=0.8<br>Cookie: CSS=name=small-font.css; ss-pid=xyR1t5iLTw3H7traAzVy; 881D0C212B0E443A9BD6C026493B4DB2=55cc4wu35gyvfb0qv02h1sxf; ss-id=GZuJgfdbKNxDqWBtjx7g<br><br>HTTP/1.1 404 Not Found<br>Server: <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Development Server/<a rel=\"nofollow\" target=\"_blank\" href=\"http://11.0.0.0\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">11.0.0.0</a><br>Date: Wed, 05 Feb 2014 14:17:47 GMT<br>Content-Length: 1219<br>Content-type: text/html;charset=utf-8<br>Connection: Close<br><br>404 HTML Content Here - removed as it's too long﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 5, 2014, 9:53:15 AM","shortDate":"Feb 5, 2014","textHtml":"Did you set HtmlRedirect to null when registering the AuthFeature? e.g:<br><br>Plugins.Add(new AuthFeature(...) {&nbsp;HtmlRedirect = null });﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Feb 5, 2014, 10:35:41 AM\n(edited Feb 5, 2014, 10:36:12 AM)","shortDate":"Feb 5, 2014","textHtml":"It must have been a late night and was cross-eyed. That resolved my issue.<br><br>I thought I had set the Property, but was setting the AuthFeature parameter as null, which is the default.<br><br>My code for others to read.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Func&lt;string,string&gt; localize = HostContext.ResolveLocalizedString;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var authFeature = new AuthFeature(() =&gt; new CustomUserSession(), new IAuthProvider[] { new CustomCredentialsAuthProvider(appSettings) })<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IncludeAssignRoleServices = false,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IncludeRegistrationService = false,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // This is a way to remove the /Auth route and leave /Authorize instead. We don't need 2<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ServiceRoutes = new Dictionary&lt;Type, string[]&gt; {{ typeof(AuthenticateService), new[] { \"/\" + localize(LocalizedStrings.Authenticate), \"/\" + localize(LocalizedStrings.Authenticate) + \"/{provider}\" }}},<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HtmlRedirect = null<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Plugins.Add(authFeature);<br><br>Thanks for taking time to answer my question. ServiceStack Rocks!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 5, 2014, 10:47:50 AM","shortDate":"Feb 5, 2014","textHtml":"ok awesome, glad its resolved!﻿"}],"date":"Feb 4, 2014, 2:28:23 PM","shortDate":"Feb 4, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"Please consider letting paying members use GitHub to submit issues easier to do and keep track of than on here.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 9:08:39 PM","shortDate":"Feb 3, 2014","textHtml":"<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> is where Customers can submit issues.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 3, 2014, 10:34:02 PM","shortDate":"Feb 3, 2014","textHtml":"Ah, sorry, I was looking in the 'service stack' project...sorry.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Feb 4, 2014, 2:38:56 AM","shortDate":"Feb 4, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;and we're allowed to submit pull-requests too - if you have a fix for something :)﻿"}],"date":"Feb 3, 2014, 4:36:43 PM","shortDate":"Feb 3, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"thank you for the&nbsp; new ServiceStack.RabbitMQ,&nbsp; an excellent work.<br>&nbsp;A question ,&nbsp; if the Producer is&nbsp; external to our system,&nbsp; how we can make it to work&nbsp; using the servicestack client - Consumer ?&nbsp;&nbsp; passing all the information about queues, keys ?&nbsp; maybe to have&nbsp; some kind of proxy&nbsp; mqServer in&nbsp; servicestack ?<br>In our case, we read&nbsp; or modify SIP messages&nbsp; from an external producer,&nbsp; via RabbitMQ .&nbsp; Can we use ServiceStack.RabbitMQ in this case ?&nbsp;&nbsp; like the RabbitMQ WCF binding&nbsp; ?<br>I don't know a lot from RabbitMQ. I had developed the&nbsp; consumer-producer for our case, before 2 years, and it works fine till now.<br>&nbsp;I should remember again the specifics.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 11:44:29 AM","shortDate":"Feb 3, 2014","textHtml":"you can use a message factory, e.g:<br><br>using (var mqFactory = new RabbitMqMessageFactory(\"localhost\"))<br>using (var mqClient = mqFactory.CreateMessageQueueClient())<br>{<br>&nbsp; &nbsp; mqClient.Publish(new Hello { Name = \"Foo\" });<br>&nbsp; &nbsp; var msg = mqClient.Get&lt;Hello&gt;(QueueNames&lt;Hello&gt;.In);<br><br>&nbsp; &nbsp; Assert.That(msg.GetBody().Name, Is.EqualTo(\"Foo\"));<br>}﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 3, 2014, 12:18:28 PM\n(edited Feb 3, 2014, 12:23:59 PM)","shortDate":"Feb 3, 2014","textHtml":"This is the code for the producer to publish a message. ( Hope I understood it well)<br>&nbsp;If I need to consume messages from an external producer,&nbsp; then in order to receive a raw message, I have to give all information (exchange, type,queue,routing key, host, virtualHost, user, pwd).<br>How to consume,&nbsp;&nbsp; specific events from the external source ,&nbsp; using&nbsp; the serviceStack Rest&nbsp; client ?<br>Like the RabbitMQ WCF binding ?<br>I had thought before, to create&nbsp; a proxy service, which will connect to RabbitMQ server and it will filter&nbsp; the messages and return to clients.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 12:23:50 PM\n(edited Feb 3, 2014, 12:24:24 PM)","shortDate":"Feb 3, 2014","textHtml":"The working example above doesn't require you to specify any of those details. It automatically uses convention-based names for the Exchange and Queue:&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Messaging/QueueNames.cs#L55\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Messaging/QueueNames.cs#L55</a>﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 3, 2014, 12:31:53 PM","shortDate":"Feb 3, 2014","textHtml":"I think&nbsp; it cannot support our case, to consume messages from an external producer.&nbsp; Am I wrong&nbsp; ?<br>Our case is like that<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/mdevilliers/SignalR.RabbitMq\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/mdevilliers/SignalR.RabbitMq</a><br>or that&nbsp; <a rel=\"nofollow\" target=\"_blank\" href=\"https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v3.0.1/rabbitmq-dotnet-client-3.0.1-wcf-service-model.pdf\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v3.0.1/rabbitmq-dotnet-client-3.0.1-wcf-service-model.pdf</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 3, 2014, 12:48:24 PM","shortDate":"Feb 3, 2014","textHtml":"I don't think I understand what you're asking?<br>You don't need to specify an exchange name to consume messages only to publish them, and there's an overload letting you specify the exchange name:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.RabbitMq/RabbitMqProducer.cs#L74\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.RabbitMq/RabbitMqProducer.cs#L74</a><br><br>You can decouple the above code example and separate the publisher and consumer and have them run from different servers.<br><br>But really ServiceStack's producer/consumer is meant to be used together, if you're using an producer from a different library, then better to use the low-level RabbitMQ.Client.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 3, 2014, 1:06:20 PM\n(edited Feb 3, 2014, 4:12:09 PM)","shortDate":"Feb 3, 2014","textHtml":"I understood, thanks&nbsp; for your valuable time and fantastic work.<br>We consume messages&nbsp; ( some times we publish also) which are produced from an external system.&nbsp;<br>The contract with this system is&nbsp;<br>a. &nbsp; the information to connect<br>e.g exchange, queue/ routing and credentials.<br>b. The &nbsp; provider's schema&nbsp; in json.<br>I have to find a somehow automatic way,&nbsp; from a REST client to call a service which will read&nbsp; the messages and return to client. ( with long polling connection perhaps). &nbsp;<br>thank you again﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Feb 3, 2014, 8:56:15 PM\n(edited Feb 3, 2014, 8:59:24 PM)","shortDate":"Feb 3, 2014","textHtml":"BTW I was talking about an approach&nbsp; like this <a rel=\"nofollow\" target=\"_blank\" href=\"http://www.asp.net/signalr/overview/signalr-20/performance-and-scaling/scaleout-in-signalr\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.asp.net/signalr/overview/signalr-20/performance-and-scaling/scaleout-in-signalr</a><br>no need for answer, simply I mentioned it, thx﻿"}],"date":"Feb 3, 2014, 11:36:32 AM\n(edited Feb 3, 2014, 11:45:53 AM)","shortDate":"Feb 3, 2014"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"I am using a piece of software that requires a license file to be present. &nbsp;I had just included that file on my website without issue. &nbsp;In order to simplify deployment, I decided to embed this file in my solution. &nbsp;Once I did I started getting this in my logs:<br><br>WARN &nbsp;ServiceStack.VirtualPath.ResourceVirtualDirectory - Virtual file not found: mydefaultNameSpace.MailLicense.xml﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 1, 2014, 2:26:54 AM","shortDate":"Feb 1, 2014","textHtml":"Yeah that's just a warning that the embedded resource file cannot be resolved by the VFS for whatever reason - it doesn't have any other effect.﻿"},{"userId":"112525207644398889655","userName":"Dan Barua","date":"Feb 1, 2014, 9:49:23 AM","shortDate":"Feb 1, 2014","textHtml":"Your logging framework might be able to mute or dial down log messages from specific classes and namespaces, I know NLog certainly can.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 1, 2014, 9:53:33 AM","shortDate":"Feb 1, 2014","textHtml":"Well, I did not figure it had an effect, but probably something that should be looked at? &nbsp;I mean it is in the file, it is accessable, the other software locates it just fine. &nbsp;It looks this used to be an exception and cause issues, but now it is a warning - as there are numerous stackoverflow questions (unanswered) with this same issue. &nbsp;Rather than trying to hush the warning, I thought you might want to fix the issue that is causing it? &nbsp;Seems if you simply add an embedded resource in the root of your project it causes it, so pretty easy to reproduce? &nbsp;Up to you of course...just my 2 cents...﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Feb 1, 2014, 9:57:21 AM\n(edited Feb 1, 2014, 10:00:35 AM)","shortDate":"Feb 1, 2014","textHtml":"ServiceStack VFS already serves embedded resources, this warning is unique to your project.<br>Post a repro on <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/Issues\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/Issues</a> and I can take a look. But I was just trying to let you know, it's just a warning and doesn't have any effect to your project.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 1, 2014, 9:59:05 AM","shortDate":"Feb 1, 2014","textHtml":"ok.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 1, 2014, 10:00:31 AM","shortDate":"Feb 1, 2014","textHtml":"It may take me a while to create a project, add the resource, add the logging, etc. &nbsp; I figured it was common and happened to ever project being there were a number of people reporting it on SO.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Feb 3, 2014, 10:46:16 PM","shortDate":"Feb 3, 2014","textHtml":"Well, I created a project from scratch. &nbsp;It was MVC 5 and used lastest servicestack. &nbsp;I could not get it to output that error message. &nbsp;I am running MVC3 on one I am getting error on. &nbsp;Anyway, not sure what causes this to log on some solutions and not others - so for now I am just hiding it as I can't spend anymore time trying to find it.﻿"}],"date":"Jan 31, 2014, 2:13:57 PM","shortDate":"Jan 31, 2014"},{"userId":"107448356427818679798","userName":"Michael Daly","textHtml":"If I want to use a Guid as my primary key, SS will create a clustered index on it, which is a performance issue if I am generating Guids outside the DB.&nbsp;<br><br>I don't see any built in functionality for generating (serial) Guids via the database, e.g. db.Save(row) doesn't work for Guids.<br><br>Is there any way SS will get the db to create a Guid for insertion, or, create a clustered index on a different column than the PK?<br><br>Tks﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 11:18:28 AM","shortDate":"Jan 30, 2014","textHtml":"OrmLite doesn't create any index on it? it just marks it as the Primary Key, e.g:<br><br>public class TableName<br>{<br>&nbsp; &nbsp; public Guid Id { get; set; }<br>&nbsp; &nbsp; public long Long { get; set; }<br>}<br><br>using (var db = OpenDbConnection())<br>{<br>&nbsp; &nbsp; db.DropAndCreateTable&lt;TableName&gt;();<br><br>&nbsp; &nbsp; db.GetLastSql().Print();<br>}<br><br>//Prints out:<br>CREATE TABLE \"TableName\"&nbsp;<br>(<br>&nbsp; \"Id\" UniqueIdentifier PRIMARY KEY,&nbsp;<br>&nbsp; \"Long\" BIGINT NOT NULL&nbsp;<br>);&nbsp;﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 30, 2014, 11:23:05 AM","shortDate":"Jan 30, 2014","textHtml":"Ok, SS doesn't explicitly create an index, SQL server will however create an index for the PK and make it clustered.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 11:25:56 AM","shortDate":"Jan 30, 2014","textHtml":"You can create Indexes on different properties by marking it with [Index] attribute.﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 30, 2014, 11:32:20 AM","shortDate":"Jan 30, 2014","textHtml":"I can't create a clustered index though, using the [Index] attribute?<br><br>The best option I see is for db.Save(row) to use the DB's internal guid generator for sequential guids, and populate the object back with the generated guid.<br><br>Other options I see right now are:<br>1) get SS to create an AutoIncrement PK so performance is retained, but it's not going to be the \"real\" PK<br>2) run some manual SQL after creating tables with SS<br><br>Neither are as nice as the \"best option\", do you think it could be included in OrmLite? MySQL has the same behaviour as SQL Server - it uses the PK as a clustered index, probably the same for other DB's.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 12:22:21 PM","shortDate":"Jan 30, 2014","textHtml":"I've added NonClustered and Clustered options on the IndexAttribute and including them on the Create Index statement here:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/245a8226ad1ea4a484e1ef0199efcf6d7e8fcebd\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/245a8226ad1ea4a484e1ef0199efcf6d7e8fcebd</a><br><br>If you want something more, propose a feature request on:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a>﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 30, 2014, 1:01:25 PM","shortDate":"Jan 30, 2014","textHtml":"Excellent, thank you.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 1:27:00 PM","shortDate":"Jan 30, 2014","textHtml":"Ok this has now been published to MyGet:<br><a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/MyGet\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/MyGet</a>﻿"},{"userId":"112525207644398889655","userName":"Dan Barua","date":"Jan 31, 2014, 1:54:07 AM","shortDate":"Jan 31, 2014","textHtml":"You can copy and paste a sequential guid generator into your project. It's &lt;10 lines of code.﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jan 31, 2014, 5:57:08 AM","shortDate":"Jan 31, 2014","textHtml":"I&nbsp;assume that guid generator will be per machine? So, if I move a service onto a different machine, the guid generator will not be able to guarantee sequential guid's after any existing guids generated on the first machine, it also won't work if the same service is running on two or more servers.﻿"},{"userId":"112525207644398889655","userName":"Dan Barua","date":"Jan 31, 2014, 6:31:49 AM","shortDate":"Jan 31, 2014","textHtml":"That depends on your needs. It's been a while since I've done it, but you can convince SQL server to give you a new SequentialGUID on insert - you would need to tweak the table creation scripts as it's not currently a feature of SS.OrmLite. That's the route you'll have to take if you want guaranteed sequential GUIDs in your table, which would make you dependent on the database to generate the PKs for you. Otherwise if you can relax the ordering guarantee constraint and accept a 'good enough' solution and generate the GUIDs in your application layer. It's still going to perform better than using pure pseudo-random GUIDs.﻿"},{"userId":"101696439243972098765","userName":"Fredrick Lackey","date":"Jul 14, 2014, 11:11:23 PM\n(edited Jul 14, 2014, 11:12:02 PM)","shortDate":"Jul 14, 2014","textHtml":"Has this changed? &nbsp;I have an app that I'd like to move to ServiceStack and OrmLite however SQL Server will cause the PK to be clustered by default. &nbsp;I cannot alter the settings on the DB server and need a mechanism for code first OrmLite to instruct the PK to NOT be clustered so that I may set another column to BE clustered (in this scenario, a date column \"AuditDateCreated\").﻿"},{"userId":"107448356427818679798","userName":"Michael Daly","date":"Jul 15, 2014, 2:02:19 AM","shortDate":"Jul 15, 2014","textHtml":"Don't think it has, we are using&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://www.codeproject.com/Articles/388157/GUIDs-as-fast-primary-keys-under-multiple-database\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.codeproject.com/Articles/388157/GUIDs-as-fast-primary-keys-under-multiple-database</a>﻿"}],"date":"Jan 30, 2014, 11:09:23 AM","shortDate":"Jan 30, 2014"},{"userId":"115203279451114924681","userName":"Bruce Hunter","textHtml":"I've created a CustomCredentialsAuthProvider class that is overloading the TryAuthenticate method. If this method throws an exception, instead of catching all errors and just returning false for the Authenticate, the Cookie still gets created and sent in the response. Is this intended? I would think that if this method crashes, then authentication has failed an no cookie is created.﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 30, 2014, 9:43:48 AM\n(edited Jan 30, 2014, 9:46:39 AM)","shortDate":"Jan 30, 2014","textHtml":"Cookies are always created when you access the session, clients don't have to be authenticated to access the session.&nbsp;﻿"},{"userId":"115203279451114924681","userName":"Bruce Hunter","date":"Jan 30, 2014, 10:47:57 AM","shortDate":"Jan 30, 2014","textHtml":"ah, ok thanks﻿"}],"date":"Jan 30, 2014, 9:27:40 AM","shortDate":"Jan 30, 2014"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","textHtml":"Hi!<br><br>Why does the [RequiredPermission] attribute require that the userAuthId is set on the session while the [RequiredRole] attribute does not require this? &nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 24, 2014, 2:59:34 AM","shortDate":"Jan 24, 2014","textHtml":"They likely both need to, what's the issue you're running into?﻿"},{"userId":"103997715312012794629","userName":"Henrik Elkjær Hagen","date":"Jan 24, 2014, 3:14:38 AM","shortDate":"Jan 24, 2014","textHtml":"I tried to find out why my roles worked as expected while my permissions did not. It was because I had not set the userAuthID. So my solution is to make sure the userAuthId is properly set I guess. But I wanted to post here because I thought it was weird that permissions required userAuthId while roles did not. Might be a bug?&nbsp;<br><br>See the HasAllPermissions(IAuth session) method in&nbsp;RequiredPermissionAttribute.cs and the&nbsp;HasAllRoles(IAuthSession session) method in&nbsp;RequiredRoleAttribute.cs.<br>&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 24, 2014, 3:46:12 AM","shortDate":"Jan 24, 2014","textHtml":"Yeah they both should have the same behavior, They're now both synced in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/commit/2eefa643e64d32934a8585b9f972ec1a626b32f6\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/commit/2eefa643e64d32934a8585b9f972ec1a626b32f6</a>﻿"}],"date":"Jan 24, 2014, 2:49:23 AM","shortDate":"Jan 24, 2014"},{"userId":"115212621005446991043","userName":"Augusto Peres","textHtml":"I am trying to use &nbsp;the extension .ToOptimizedResult , on Windows everything works fine but when I test on ubuntu 13.10/ mono 2.10.8.1 I get \"The requested feature is not implemented\"<br><br>Can someone help me to discover if I am doing something wrong or it is a bug in servicestack ?<br><br>Thank you in advance !<br><br>My test setup is a VMWare Ubuntu 13.10 , mono 2.10.8.1, nginx 1.4.1 and <a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">servicestack.net</a> 4.0.8<br><br>If I return the DTO object directly I get NO errors!<br>But if I try to use base.Request.ToOptimizedResult :<br><br>&nbsp; &nbsp; List data = new List();<br>&nbsp; &nbsp; data.Add(new dataItem { Data = \"fake data\" });<br>&nbsp; &nbsp; return base.Request.ToOptimizedResult&gt;(data);<br><br>I get the following exception:<br><br>The requested feature is not implemented. at System.Web.HttpContextWrapper.GetService (System.Type serviceType) [0x00000] in :0 at ServiceStack.Host.RequestPreferences.GetWorker (System.Web.HttpContextBase context) [0x00000] in :0 at ServiceStack.Host.RequestPreferences.get_HttpWorkerRequest () [0x00000] in :0 at ServiceStack.Host.RequestPreferences.get_AcceptEncoding () [0x00000] in :0 at ServiceStack.Host.RequestPreferences.get_AcceptsDeflate () [0x00000] in :0 at ServiceStack.RequestExtensions.GetCompressionType (IRequest request) [0x00000] in :0 at ServiceStack.RequestExtensions.ToOptimizedResult[List1] (IRequest request, System.Collections.Generic.List1 dto) [0x00000] in :0 at Phase1HistoryServer.SymbolsService.Get (Phase1HistoryServer.Symbols request) [0x00000] in :0﻿","comments":[{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Jan 22, 2014, 4:19:25 PM","shortDate":"Jan 22, 2014","textHtml":"I have answered this on SO.&nbsp;<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/a/21294048/1295344\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/a/21294048/1295344</a>﻿"},{"userId":"108973381980808040983","userName":"Rudy Scott","date":"Jan 22, 2014, 4:20:46 PM","shortDate":"Jan 22, 2014","textHtml":"I don't have specific advice--but that's a pretty old version of Mono. &nbsp;Have you tried 3.2.4?﻿"},{"userId":"115212621005446991043","userName":"Augusto Peres","date":"Jan 22, 2014, 4:48:21 PM","shortDate":"Jan 22, 2014","textHtml":"Thank you Scott !&nbsp; I am implementing according your directions right now.﻿"},{"userId":"115212621005446991043","userName":"Augusto Peres","date":"Jan 22, 2014, 4:53:30 PM","shortDate":"Jan 22, 2014","textHtml":"I will try 3.2.4﻿"},{"userId":"100587390444469805657","userName":"Scott McArthur","date":"Jan 22, 2014, 4:58:26 PM","shortDate":"Jan 22, 2014","textHtml":"Yeah 2.10.8 is old. But as the answer states upgrading to the latest Mono build 3.2.6 won't fix the issue directly. But still upgrade, then use the self hosted application option.﻿"},{"userId":"115212621005446991043","userName":"Augusto Peres","date":"Jan 22, 2014, 5:28:34 PM","shortDate":"Jan 22, 2014","textHtml":"Selfhosted works perfect!<br><br>Just one concern. I need &nbsp;about 2 thousand requests for second. This is what my current box (windows/iis) handles.<br><br>Do you think that linux/selfhost can provide same/better performance on same hardware?<br><br>I am new to linux/mono and 2.10 is the current version for ubuntu 13.10. &nbsp; Already grabbing a tutorial for compile mono 3.<br><br>You are so kind to help me , Thank you again and please, forgive my poor english!﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 23, 2014, 3:40:36 AM","shortDate":"Jan 23, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/115212621005446991043\" oid=\"115212621005446991043\">Augusto Peres</a></span>&nbsp;You will have to benchmark it, but Mono is known to be noticeably slower than IIS so I wouldn't consider Linux/Mono if you're wanting to get the same performance as Windows.﻿"}],"date":"Jan 22, 2014, 2:36:47 PM","shortDate":"Jan 22, 2014"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","textHtml":"I'm having some trouble registering MiniProfiler results for Redis MQ handlers:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/21219365/servicestack-message-queue-handling-and-profiler\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/21219365/servicestack-message-queue-handling-and-profiler</a><br><br>I'd be glad if anyone could shed some light on this issue :)﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2014, 12:41:26 PM","shortDate":"Jan 19, 2014","textHtml":"MiniProfiler is coupled to <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a>'s HttpContext and doesn't work for non-ASP.NET hosts.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 19, 2014, 12:44:15 PM","shortDate":"Jan 19, 2014","textHtml":"Well everything is hosted within an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> Application - I'm starting the AppHost in Global.asax. I just found it more convenient to have all my \"before request\" handling in the ServiceRunner.<br><br>But I'm guessing that the execution of the MQ handlers are not done within the <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> context?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2014, 12:56:22 PM\n(edited Jan 19, 2014, 12:57:39 PM)","shortDate":"Jan 19, 2014","textHtml":"There's no HttpContext.Current when invoked outside of the context of an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> request, i.e. inside a RedisMQ Host.<br><br>There's a chance you could simulate an <a rel=\"nofollow\" target=\"_blank\" href=\"http://ASP.NET\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">ASP.NET</a> context by setting HttpContext.Current = with a Mock HttpContext inside custom RedisMqServer.RequestFilter/ResponseFilter handlers. I've had to do that once to trick Ninject's IOC RequestScope to work, but not sure if it will work completely with MiniProfiler. But it will at least get past the first HttpContext.Current == null short-circuit check.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 19, 2014, 12:57:51 PM","shortDate":"Jan 19, 2014","textHtml":"Okay, thanks for clarifying... I'll just have to live without the profiling of the MQ handlers then.﻿"},{"userId":"105618793358138109545","userName":"Nicklas Laine Overgaard","date":"Jan 19, 2014, 2:56:33 PM","shortDate":"Jan 19, 2014","textHtml":"Question: If the MQ handlers are executed in a self-contained app / ASP.net host, wouldn't it be possible to create a new ProfilerProvider which uses Thread-local storage, since the Redis MQ handlers are executed on individual threads (and only handle one message at a time)?<br><br>I was planning on trying to implement it my self, just don't want to waste time on it if you can tell me that it wont work :) Thanks in advance.&nbsp;﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 19, 2014, 8:34:54 PM","shortDate":"Jan 19, 2014","textHtml":"Yep should be possible.﻿"}],"date":"Jan 19, 2014, 11:27:49 AM","shortDate":"Jan 19, 2014"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","textHtml":"Hi,<br>A question:&nbsp; Can we use nested classes for DTO's&nbsp; ? (json &amp; protobuf)?&nbsp; any side effect&nbsp; or&nbsp; architectural problem?<br>e.g &nbsp; public class CustomerDirectoryResponse<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public&nbsp; class&nbsp; Contact<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {&nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; string&nbsp; name {get; set;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; string&nbsp; address {get; set;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public List&lt;CustomerDirectoryResponse.Contact&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CustomerDirectory_list&nbsp; {get; set;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>It will help me a lot, if possible. I have a lot of queries with DTOs auto generated from our utility.<br>thanks<br><br>&nbsp;﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 16, 2014, 8:29:49 PM","shortDate":"Jan 16, 2014","textHtml":"Have you tried? Was there an issue?﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Jan 16, 2014, 8:54:59 PM\n(edited Jan 16, 2014, 8:59:51 PM)","shortDate":"Jan 16, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;&nbsp; I don't think that there is issue..&nbsp; I ask&nbsp; before&nbsp; heavy&nbsp; refactoring , if there is an experience on that.<br>I create DTOs for every query,&nbsp; many times they are for one use only&nbsp; as result sets. Till now&nbsp; they are&nbsp; independent. If I tie them to response, it will be much easier.&nbsp; All DTOs , responses, and requests are auto-generated.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 16, 2014, 9:07:00 PM","shortDate":"Jan 16, 2014","textHtml":"Just try things out with a small examples first. Post on ServiceStack/Issues or here if you end up running into any issues&nbsp;or it doesn't behave as expected.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Jan 19, 2014, 11:23:02 AM","shortDate":"Jan 19, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;&nbsp; Tested. Nested classes in Responses work excellent&nbsp; for&nbsp; both JsonServiceClient and ProtoBufServiceClient.<br>Applying only the indexers for protobuf in Responses-Requests.<br>This is a great advantage for queries, multiple result sets and DTO naming.﻿"}],"date":"Jan 16, 2014, 8:12:44 PM","shortDate":"Jan 16, 2014"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello,<br>I wish to test some repository I've made but not using the post/get, just calling them as as class.. how do I set up the container for IoC? can you provide me a sample?<br>Thanks﻿","comments":[{"userId":"108846010543763885463","userName":"John Watson","date":"Jan 14, 2014, 8:50:19 PM","shortDate":"Jan 14, 2014","textHtml":"First and foremost:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/zn7Tt6\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://goo.gl/zn7Tt6</a><br>Couple of specifics:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/23vYDO\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://goo.gl/23vYDO</a> and&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://goo.gl/6mtixJ\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://goo.gl/6mtixJ</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 15, 2014, 1:35:54 AM\n(edited Jan 15, 2014, 3:57:47 AM)","shortDate":"Jan 15, 2014","textHtml":"Paolo, it's not clear what you're asking for here.<br><br>For HowTo questions like this please provide example source code of what you're trying to achieve and what you've tried, a lot of times it becomes clearer if you post source code examples on StackOverflow and post a link to the question on here so we can easily see what you're trying to do.﻿"}],"date":"Jan 14, 2014, 11:58:44 AM","shortDate":"Jan 14, 2014"},{"userId":"111429250443743326583","userName":"Per Malmberg","textHtml":"Hello,<br><br>Another SS3 to SS4 upgrade issue, this time relating to authentication. I've got a NoAuthProvider(), with a minimal implementation (both IsAuthorized and Tryauthenticate returns true) which is registered as follows in AppHost.Configure(...),&nbsp;<br><br>Plugins.Add( new AuthFeature( () =&gt; new AuthUserSession(),<br>\t\t\t\t\tnew AuthProvider[] { new NoAuthProvider() } ) );<br><br>...all according to the docs here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization</a><br><br>Since updating to SS4, I'm now getting the following exceptions:<br><br>System.ArgumentException: Type ServiceStack.Auth.AuthenticateService is not a Web Service that inherits IService<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br><br>System.ArgumentException: Type ServiceStack.Auth.AssignRolesService is not a Web Service that inherits IService<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br><br>System.ArgumentException: Type ServiceStack.Auth.UnAssignRolesService is not a Web Service that inherits IService<br>&nbsp; &nbsp;at ServiceStack.Host.ServiceController.RegisterService(Type serviceType)<br><br>I see no mention in the release notes about any changes to this, but I'm obviously missing something, but what?<br><br>The source for NoAuthProvider is available here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://dl.dropboxusercontent.com/u/9476016/NoAuthProvider.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://dl.dropboxusercontent.com/u/9476016/NoAuthProvider.cs</a><br><br>Thanks in advance,<br><br>Per﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 12, 2014, 10:49:02 AM","shortDate":"Jan 12, 2014","textHtml":"The IService is an interface marker for auto-wiring web services, it shouldn't be applied to AuthProviders, just web services. But&nbsp;AuthenticateService and AssignRolesService &nbsp;are Services so that shouldn't be an issue, but the NoAuthProvider might be causing issues, can you remove the IService off that and let me know if it's still an issue?﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 12, 2014, 11:46:44 AM","shortDate":"Jan 12, 2014","textHtml":"Hm, not sure how IService got in there, but removing it didn't help unfortunately.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 12, 2014, 12:15:36 PM","shortDate":"Jan 12, 2014","textHtml":"ok just found a bug that was incorrectly logging false exceptions on this, just cutting out a new version now, will let you know when it's available on MyGet.&nbsp;<br><br>Note: it shouldn't have any affect on existing functionality, it was just logging errors incorrectly.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 12, 2014, 12:40:38 PM\n(edited Jan 12, 2014, 12:40:54 PM)","shortDate":"Jan 12, 2014","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/111429250443743326583\" oid=\"111429250443743326583\">Per Malmberg</a></span>&nbsp;ok the new dlls were just published to MyGet, it's still at v4.06 so you might need to remove the old ones to upgrade to the latest dlls﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 12, 2014, 1:32:26 PM","shortDate":"Jan 12, 2014","textHtml":"Exceptions gone :)<br>Thanks, <span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/106787359118990653189\" oid=\"106787359118990653189\">Demis Bellot</a></span>&nbsp;﻿"}],"date":"Jan 12, 2014, 8:35:26 AM","shortDate":"Jan 12, 2014"},{"userId":"111429250443743326583","userName":"Per Malmberg","textHtml":"Hello,<br><br>VirtualFS and obfuscation doesn't seem to like eachother. I compiled my project in release mode and when obfuscation is applied (works fine without) I get this exception:<br><br>System.IO.FileNotFoundException: Virtual file not found<br>File name: 'WebAPI.188ad0c5e6484a3c80af16975f5536c7'<br>&nbsp; &nbsp;at ServiceStack.VirtualPath.ResourceVirtualDirectory.CreateVirtualFile(String resourceName)<br>&nbsp; &nbsp;at System.Linq.Enumerable.WhereSelectListIterator`2.MoveNext()<br>&nbsp; &nbsp;at System.Linq.Buffer`1..ctor(IEnumerable`1 source)<br>&nbsp; &nbsp;at System.Linq.OrderedEnumerable`1.&lt;GetEnumerator&gt;d__0.MoveNext()<br>&nbsp; &nbsp;at System.Collections.Generic.List`1.InsertRange(Int32 index, IEnumerable`1 collection)<br>&nbsp; &nbsp;at ServiceStack.VirtualPath.ResourceVirtualDirectory.InitializeDirectoryStructure(IEnumerable`1 manifestResourceNames)<br>&nbsp; &nbsp;at ServiceStack.VirtualPath.ResourceVirtualPathProvider.Initialize()<br>&nbsp; &nbsp;at ServiceStack.ServiceStackHost.&lt;Init&gt;b__4(Assembly x)<br>&nbsp; &nbsp;at ServiceStack.EnumerableExtensions.Map[To,From](IEnumerable`1 items, Func`2 converter)<br>&nbsp; &nbsp;at ServiceStack.ServiceStackHost.Init()<br>&nbsp; &nbsp;at BeyondMeasure.WebAPI.WebAPI.Init()<br><br>Now, if do&nbsp;Config.EmbeddedResourceSources.Clear(), the error goes away, but what exactly am I loosing and how did my assembly end up among those resources anyway?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 7, 2014, 10:01:07 PM","shortDate":"Jan 7, 2014","textHtml":"The EmbeddedResourceSources holds ServiceStack.dll which is needed for the Metadata pages and HTML format pages, so it's a good idea to leave ServiceStack.dll in there, which you can re-add after clearing with:<br><br>Config.EmbeddedResourceSources.Add(typeof(ServiceStack.Service).Assembly);<br><br>Maybe I can prevent this exception, how did you add obfuscation?﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 8, 2014, 2:51:55 AM","shortDate":"Jan 8, 2014","textHtml":"I'm using Eazfuscator, I can give you the details tonight.﻿"},{"userId":"111429250443743326583","userName":"Per Malmberg","date":"Jan 8, 2014, 1:10:14 PM","shortDate":"Jan 8, 2014","textHtml":"These are the obfuscation options used.<br>[assembly: Obfuscation( Feature = \"encrypt symbol names with password mypassword\", Exclude = false )]<br>[assembly: Obfuscation( Feature = \"code control flow obfuscation\", Exclude = false )]<br>[assembly: Obfuscation( Feature = \"PEVerify\", Exclude = false )]﻿"}],"date":"Jan 7, 2014, 1:10:26 PM","shortDate":"Jan 7, 2014"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"Hopefully a quick question about bundler. in the bundler.cmd file it says.. \"node bundler.js ../Content ../Scripts\" &nbsp;Can I add a third one? I'd like to have two folders for js files and one for css. So an example it would be... \"node bundler.js ../content/js ../content/lib ../content/css\"﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Jan 2, 2014, 3:01:48 AM","shortDate":"Jan 2, 2014","textHtml":"Yes you can scan for more folders﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Jan 2, 2014, 3:11:19 AM","shortDate":"Jan 2, 2014","textHtml":"Perfect thanks Demis! Btw I'm not sure if I've said this enough, but thanks for the great work and product!﻿"}],"date":"Jan 2, 2014, 2:42:31 AM","shortDate":"Jan 2, 2014"},{"userId":"112912023223668381449","userName":"Kyle Gobel","textHtml":"When dropping a table with the IDbConnection extension DropTable&lt;T&gt; or DropCreateTable&lt;T&gt;, is there a way to get an error message or fail/succeded? &nbsp;It currently doesn't throw an exception when it fails, or really do anything.<br><br>Currently to see the problem I have to use GetLastSql and run the raw sql in SSMS to see the issue...is there a better way?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 30, 2013, 12:53:05 AM","shortDate":"Dec 30, 2013","textHtml":"ok yeah I should probably bubble that exception up, it's just being logged atm:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteWriteExtensions.cs#L172\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteWriteExtensions.cs#L172</a>﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 30, 2013, 1:11:25 AM","shortDate":"Dec 30, 2013","textHtml":"Now bubbling in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/fe3c75a218545eaa7fcbd5bb35610f2c5082d95f\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/fe3c75a218545eaa7fcbd5bb35610f2c5082d95f</a>﻿"},{"userId":"112912023223668381449","userName":"Kyle Gobel","date":"Dec 31, 2013, 6:55:36 PM","shortDate":"Dec 31, 2013","textHtml":"cool, thanks﻿"}],"date":"Dec 29, 2013, 9:12:11 AM","shortDate":"Dec 29, 2013"},{"userId":"102009037555060074960","userName":"Nabil Alhusail","textHtml":"How should I use the ServiceStack.OrmLite.T4 with MySQL, I downloaded it along with ServiceStack.OrmLite.MySql and the latest Mysql connector.<br>and then added a connection string to the App.config<br>but the .tt reports are not working and only generate the text \"ErrorGeneratingOutput\"<br><br>I remember facing this problem previously and it had something to do with the MySql.Data's version.<br><br>using V4.0.5﻿","comments":[{"userId":"102009037555060074960","userName":"Nabil Alhusail","date":"Jan 14, 2014, 4:35:32 PM","shortDate":"Jan 14, 2014","textHtml":"I found the answer in here<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/4945342/t4-for-sharp-architecture-northwind-problem\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/4945342/t4-for-sharp-architecture-northwind-problem</a><br><br>as stupid as this seems to be, all that is needed is to remove all white spaces at the end after the last&nbsp;#&gt;﻿"}],"date":"Dec 21, 2013, 6:36:00 PM","shortDate":"Dec 21, 2013"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","textHtml":"Hello<br><br>I have small problem with OrmLite and Firebird Provider. I have a database table with the field called \"FUNCTION\". This is firebird reserved word, so it need be quoted.<br>I tried to set FirebirdOrmLiteDialectProvider.QuoteNames = true but without success - I got exceptions on database inserts.<br><br>I look in the old OrmLite sources (3.9.60.0) and FirebirdOrmLiteDialectProvider.RESERVED words list do not include \"FUNCTION\".<br><br>So, what can I do ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 22, 2013, 1:45:39 AM","shortDate":"Dec 22, 2013","textHtml":"I added it to the reserved words in this commit:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/commit/a5ea4317de2dbaa2ae628c6f7f2a0c7dbefc4767\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/commit/a5ea4317de2dbaa2ae628c6f7f2a0c7dbefc4767</a> but may be another week before the next deployment, so will need to compile from source if you need it before then﻿"},{"userId":"115307315133040122847","userName":"Grzegorz Zielinski","date":"Dec 23, 2013, 6:15:47 AM","shortDate":"Dec 23, 2013","textHtml":"Thank you. But we use 4.0.5 version. What in this situation ? Do you provide source codes for 4.x version ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 23, 2013, 6:58:53 AM","shortDate":"Dec 23, 2013","textHtml":"All the source code is on GitHub in the master branches. e.g. OrmLite is here:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/</a> the NuGet packages map 1:1 with the C# projects in the repo﻿"}],"date":"Dec 20, 2013, 2:00:08 PM","shortDate":"Dec 20, 2013"},{"userId":"112436682263523181833","userName":"Stephen Brannan","textHtml":"I've been researching the use of SignalR with ServiceStack and the examples don't seem to focus on the setup of SignalR with ServiceStack. From everything I can tell they are mostly independent of each other and contained their own http handlers under <a rel=\"nofollow\" target=\"_blank\" href=\"http://asp.net\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">asp.net</a>. I was trying to following the example in&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/paaschpa/ordersDemo\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/paaschpa/ordersDemo</a> but it doesn't show where it initializes SignalR. Only how it's being called.<br><br>Am I missing something?<br><br>This might be off topic, but is it really as simple as using the assembly attribute OwnStartup ?﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 8:10:28 PM","shortDate":"Dec 18, 2013","textHtml":"Right they are independent projects with no code-sharing between them.<br><br>A good article showing how to use them together in the same project is at:<br><a rel=\"nofollow\" target=\"_blank\" href=\"http://www.strathweb.com/2013/03/signalr-filters-and-servicestack/\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://www.strathweb.com/2013/03/signalr-filters-and-servicestack/</a>&nbsp;﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 18, 2013, 9:08:05 PM","shortDate":"Dec 18, 2013","textHtml":"Yup I found that article too, but it only discusses the usage of SignalR from with ServiceStack. It doesn't talk about the setup or initialization of SIgnalR. I guess I'm just wanting confirmation that the lack of SignalR setup in the demo project is a error in that codebase and not something I'm misunderstanding.﻿"},{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 18, 2013, 10:59:17 PM\n(edited Dec 18, 2013, 10:59:49 PM)","shortDate":"Dec 18, 2013","textHtml":"&nbsp;a question also. Is there an easy way , like simple message queue in memory&nbsp; to exchange structured messages the SignalR with ServiceStack ?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 18, 2013, 11:42:54 PM\n(edited Dec 18, 2013, 11:44:29 PM)","shortDate":"Dec 18, 2013","textHtml":"They're both just C# libraries running in the same AppDomain, so just call into it as you would any other external library, e.g. you can access ServiceStack externally via the static&nbsp;HostContext class.﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 19, 2013, 12:24:14 AM","shortDate":"Dec 19, 2013","textHtml":"So I'm not misunderstanding that the demo project for ServiceStack with SignalR is not working correctly in regards to the SignalR?﻿"},{"userId":"112436682263523181833","userName":"Stephen Brannan","date":"Dec 19, 2013, 1:37:08 PM\n(edited Dec 19, 2013, 1:37:45 PM)","shortDate":"Dec 19, 2013","textHtml":"Finally figured it out. That Demo app uses SignalR 1.0, which initializes SignalR using&nbsp;RouteTable.Routes.MapHubs in Application_Start. I had trouble realizing this since SignalR 2.0 is what all the tutorials reference now and the SignalR 2.0 initialization is completely different.﻿"}],"date":"Dec 18, 2013, 8:02:57 PM\n(edited Dec 18, 2013, 8:03:17 PM)","shortDate":"Dec 18, 2013"},{"userId":"105956167967297879956","userName":"paolo ponzano","textHtml":"Hello, I've got some issues using ServiceStack with jquery.... if I use a DTO Request that has some complex field as<br><br>&nbsp;public class MyInner<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int Code { get; set; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public string MCUserid { get; set; }<br>&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; public class MyDTO<br>&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public int SomeNumber { get; set; }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public MyInner Content { get; set; }<br>&nbsp;&nbsp;&nbsp; }<br><br>On the request I've Content = null... is there any particular reason? I've tried to follow this <a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Javascript-client\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Javascript-client</a> but with no luck.... I'm under v4<br><br>Thanks﻿","comments":[{"userId":"117871506896850334672","userName":"Stefan Tsalapatis","date":"Dec 17, 2013, 3:03:03 AM","shortDate":"Dec 17, 2013","textHtml":"Are you sure that&nbsp; it is not problem with CORS ? It works with simple object ? Have you try with $.ajax ? with v.3 and $.ajax (and CORS in my case) I had not problem with objects including lists of others.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 17, 2013, 3:04:04 AM\n(edited Dec 17, 2013, 3:04:57 AM)","shortDate":"Dec 17, 2013","textHtml":"If you're trying to send complex type objects, make sure you're sending it as JSON instead of the default form-urlencoded. I would just stick to jquery $.ajax client which is more popular and flexible. Whenever you have interoperability issues like this you also want to use a http sniffer like Fiddler, Chrome Web Inspector or WireShark so you can see that you're actually sending matches what you think you're sending. This is also useful for others to see what's going on and so they are able to help identify the issue.<br><br>If you're still having issues can you post the javascript code you're using, as well as the HTTP Request/Response headers (e.g. using WebInspector or Fiddler) so we can see what's going on.<br><br>Posting on StackOverflow is better for viewing source code and HTTP Headers. You can post the link to the question here so we can find it.﻿"},{"userId":"105956167967297879956","userName":"paolo ponzano","date":"Dec 17, 2013, 4:42:44 AM","shortDate":"Dec 17, 2013","textHtml":"Hello, after some test, voodoo and the hint of Stefan I managed that I need to enable CORS (<a rel=\"nofollow\" target=\"_blank\" href=\"http://stackoverflow.com/questions/8211930/servicestack-rest-api-and-cors\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://stackoverflow.com/questions/8211930/servicestack-rest-api-and-cors</a>) now it works! Thanks﻿"}],"date":"Dec 17, 2013, 2:39:13 AM","shortDate":"Dec 17, 2013"},{"userId":"106974793916499995676","userName":"Ephraim Moss","textHtml":"Hi<br><br>We currently have a domain model that looks something like this:<br><br>class Customer<br>{<br>int id {get;set}<br>string Name {get;set}<br>List&lt;Contact&gt; Contacts {get;set}<br>}<br><br>class Contact<br>{<br>int id {get;set}<br>string FullName&nbsp;{get;set}<br>List&lt;PhoneNumber&gt;&nbsp;{get;set}<br>}<br><br>class PhoneNumber<br>{<br>int id {get;set}<br>PhoneType Type {get;set}<br>string Number {get;set}<br>}<br><br>Customer, Contact &amp; PhoneNumbers are separate entities in our DB.<br><br>Any Suggestions as to how to populate a full customer with all its linked contacts and the contacts phone numbers in the most efficient way using ORMLite and/or Dapper, with consideration of calls to the db and cpu cycles to map to the POCOs?﻿","comments":[{"userId":"106974793916499995676","userName":"Ephraim Moss","date":"Dec 13, 2013, 4:58:08 AM","shortDate":"Dec 13, 2013","textHtml":"Probably the wrong place for this. will ask on StackOverflow.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 13, 2013, 7:34:42 AM","shortDate":"Dec 13, 2013","textHtml":"You can try out the new reference support for this:&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/LoadReferencesTests.cs\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/tests/ServiceStack.OrmLite.Tests/LoadReferencesTests.cs</a>﻿"},{"userId":"106974793916499995676","userName":"Ephraim Moss","date":"Dec 13, 2013, 7:52:21 AM","shortDate":"Dec 13, 2013","textHtml":"Great thanks will give this a bash!﻿"}],"date":"Dec 13, 2013, 4:55:28 AM","shortDate":"Dec 13, 2013"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"Suggest you look at making sure servicestack is well represented in benchmarks as pointed out here. &nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://plus.google.com/114849247830567593312/posts/Uq8Ct8ERbhC\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://plus.google.com/114849247830567593312/posts/Uq8Ct8ERbhC</a><br><br>(You may feel this particular one is not worth your time or what have you, but thought it important)﻿","comments":[],"date":"Dec 12, 2013, 1:55:02 AM","shortDate":"Dec 12, 2013"},{"userId":"116592973355984178567","userName":"Carlos Mendes","textHtml":"Is there a plan to upgrade the MiniProfiler? It would be great to have access to the Client Timings feature since I'm using SS with Razor.&nbsp;Apparently the SO team is about to release v3 so that might be a good timing to upgrade (<a rel=\"nofollow\" target=\"_blank\" href=\"http://community.miniprofiler.com/t/why-the-new-version-is-not-pushed-to-nuget/1\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://community.miniprofiler.com/t/why-the-new-version-is-not-pushed-to-nuget/1</a>)<br><br>Thanks in advance﻿","comments":[{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 10:12:25 PM\n(edited Dec 9, 2013, 10:23:15 PM)","shortDate":"Dec 9, 2013","textHtml":"ServiceStack includes a port of MiniProfiler that uses ServiceStack's JSON Serializer instead of its JavaScriptSerializer and uses the embeddable jquip over jquery, and uses underscore templates instead of the much heavier jquery templates. Basically it will require a bit of effort to re-sync with the code-base, depending on which part and how much they've changed. But definitely add a feature request&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://servicestack.uservoice.com/forums/176786-feature-requests\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://servicestack.uservoice.com/forums/176786-feature-requests</a> so I don't lose track of this.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 10:22:24 PM","shortDate":"Dec 9, 2013","textHtml":"At some point, having the 'heavier' bits of the standard release miniprofiler out weigh having to manually sync, etc. &nbsp;For me, I would rather it just be the standard miniprofiler, not using jquip (I do not mind full jquery library and it is already loaded and cached!) and be able to stay in sync easier with the main distribution. &nbsp;As far as using ServiceStacks json serializer goes - same thing - if the serializer is a bit slower, that is fine - I am just measuring speed of things relative to other things. &nbsp; Also, if using your &nbsp;JSON serializer is important, maybe a pull request to them with code where any serialize can be injected would be helpful.....<br><br>Any consideration to that? &nbsp;Put in feature requests?﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 10:26:11 PM\n(edited Dec 9, 2013, 11:08:03 PM)","shortDate":"Dec 9, 2013","textHtml":"<span class=\"proflinkWrapper\"><span class=\"proflinkPrefix\">+</span><a class=\"proflink aaTEdf\" href=\"/103257114065976889853\" oid=\"103257114065976889853\">Wayne Brantley</a></span>&nbsp;Mini Profiler originally worked with MVC which is what I started with, I know they haven't been working on it for a long time, but will be interesting to see how much they've changed. I doubt it can just work as-is with the standard Mini Profiler, but I'll have to investigate to see what is possible now. Obviously it would be great if they maintained a package explicitly for ServiceStack, but doubt that's on the cards. Also note ServiceStack's mini profiler is integrated into the auto \"Html Format\" pages, it would create a poor experience for Intranets without direct internet access if it suddenly required Internet access and then no longer worked. Currently all the metadata and pages served in ServiceStack core don't require external dependencies to work, it's all embedded.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 11:02:57 PM","shortDate":"Dec 9, 2013","textHtml":"Thanks, I really have struggled with jquip in the past and never did figure out some of the issues related to that. &nbsp;So, even if you have a special version - I think keeping it minimally changed would be best. &nbsp;:-)﻿"},{"userId":"116592973355984178567","userName":"Carlos Mendes","date":"Dec 10, 2013, 8:18:07 AM","shortDate":"Dec 10, 2013","textHtml":"Thanks, I didn't know it was so hard to update it. I thought it was just syncing with the latest version...<br><br>Apparently I used all my points so I cannot make a suggestion on the UserVoice site.<br><br>Let's wait for MiniProfiler 3 and then I will ping you again.&nbsp;﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 10, 2013, 10:34:15 AM","shortDate":"Dec 10, 2013","textHtml":"Maybe one day paying subscribers can get 'more votes'....&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"http://feedback.uservoice.com/forums/1-general-feedback/suggestions/2300-per-user-vote-limits\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">http://feedback.uservoice.com/forums/1-general-feedback/suggestions/2300-per-user-vote-limits</a>&nbsp;﻿"}],"date":"Dec 9, 2013, 9:57:27 PM","shortDate":"Dec 9, 2013"},{"userId":"103257114065976889853","userName":"Wayne Brantley","textHtml":"I have Log4NetFactory as &nbsp;my log manager and I have it setup to email me error messages in case anything goes wrong. &nbsp;This works great.&nbsp;<br><br>My question is how to control that logging. &nbsp;When my service is executing it does some authorization checks and ends up throwing a \"new UnauthorizedAccessException(\"No User\");\". &nbsp; It does this fairly often because the users session times out and then they open a drop down list on the webpage that calls the service - and of course they are no longer authenticated (through forms authentication) and I throw the above.<br><br>Of course all the above functionality works - but then I get emailed this error. &nbsp; I would like to be able to easily control this. &nbsp; With Log4Net I can control it by namespace, but I do not want to hide all exceptions from that namespace. &nbsp; In this case, I would not want this exception bubbling up to Log4Net at all. &nbsp;&nbsp;<br><br>I see the exception handling overrides here&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customized-error-handling\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/ServiceStack/ServiceStack/wiki/Error-Handling#customized-error-handling</a>, but I do not really want to change how the exceptions are handled or override existing behavior. &nbsp;Rather, I would like to filter what gets logged.<br><br>1) &nbsp;The examples linked above call DtoUtils.HandleException(). &nbsp;That method no longer exists in the current source. &nbsp;I think the documentation my be old and instead it should be DtoUtils.CreateErrorResponse().<br><br>2) &nbsp;Should I just copy and paste DtoUtils.CreateErrorResponse() into my code, modify it to filter what gets logged and attach that as my handler?<br><br>3) &nbsp;Is this the right place to post something like this?<br><br>I can do #2 - just seems like what gets logged should be easier to be plugged?﻿","comments":[{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 11:48:51 AM","shortDate":"Dec 9, 2013","textHtml":"I edited the Wiki for #1 above.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 1:36:09 PM","shortDate":"Dec 9, 2013","textHtml":"The filtering of existing exceptions should be done in your logging provider. You would use the available hooks to add additional logging, there are also some overrides on AppHost like&nbsp;OnExceptionTypeFilter which you can override. You wont change behavior if you call the base method when overriding.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 3:41:36 PM","shortDate":"Dec 9, 2013","textHtml":"Well, I cannot override exception types in the log provider. &nbsp;Log4Net works on namespaces, so that is a problem as I do not want to exclude everything from DtoUtils namespace? &nbsp;I guess I can just copy and paste the code as my handler so I can easily filter them, but had hoped for a 'better solution'... as I want you exact code to run, just control the logging. &nbsp;Am I missing something - I am just trying to 'get servicestack to be a little more silent when it runs!' &nbsp; (Maybe let me optionally provide the logger as a parameter to CreateErrorResponse.....or provide something else I could attach to to stop the logging?/) &nbsp;&nbsp;﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 3:49:06 PM","shortDate":"Dec 9, 2013","textHtml":"Maybe this is just a shortcoming of the logging platform I am using and I should look elsewhere?﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 3:53:07 PM","shortDate":"Dec 9, 2013","textHtml":"And is the 'general' logging you have in place for CreateErrorResponse valid? &nbsp;I mean on an UnauthorizedAccessException is that actually an 'Error' type log? &nbsp;Maybe, maybe not - and that is probably the root issue. &nbsp;? &nbsp;Just my thoughts.﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 3:55:01 PM","shortDate":"Dec 9, 2013","textHtml":"I'm trying to think of a more flexible way to log errors, a strategy I'm adopting is to just delegate calls to virtual methods on AppHost which can be overridden (and thus intercepted), might as well do it for logging as well.﻿"},{"userId":"103257114065976889853","userName":"Wayne Brantley","date":"Dec 9, 2013, 4:27:29 PM","shortDate":"Dec 9, 2013","textHtml":"That would work for sure.... &nbsp;I am going to look at NLog too. &nbsp;(What are you using for logging on your stuff?)﻿"},{"userId":"106787359118990653189","userName":"Demis Bellot","date":"Dec 9, 2013, 4:37:08 PM","shortDate":"Dec 9, 2013","textHtml":"When I was at StackExchange, we just had a custom logger that logged to our internal&nbsp;<a rel=\"nofollow\" target=\"_blank\" href=\"https://github.com/opserver/Opserver\" class=\"ot-anchor aaTEdf\" jslog=\"10929; track:click\" dir=\"ltr\">https://github.com/opserver/Opserver</a> (which was recently OSS'ed). Haven't had the need to register a new one yet for my internal services (I use the RequestLogger tho), will evaluate the current environment soon, if it's easy to setup opserver i'll go with that otherwise, maybe elmah or look at creating an integration for Glimpse.﻿"}],"date":"Dec 9, 2013, 9:15:33 AM","shortDate":"Dec 9, 2013"}]